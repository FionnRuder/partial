{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/parts/ModalNewPart/index.tsx"],"sourcesContent":["import Modal from '@/components/Modal';\nimport { useCreatePartMutation, useGetUsersQuery, useGetProgramsQuery, useGetPartsQuery, PartState, PartStateLabels } from '@/state/api';\nimport React, { useState } from 'react';\n//import { formatISO } from 'date-fns';\n\ntype Props = {\n    isOpen: boolean;\n    onClose: () => void;\n};\n\nconst ModalNewPart = ({isOpen, onClose}: Props) => {\n    const { data: users = [], isLoading: usersLoading } = useGetUsersQuery();\n    const { data: programs = [], isLoading: programsLoading } = useGetProgramsQuery();\n    const { data: parts = [], isLoading: partsLoading } = useGetPartsQuery();\n    const [createPart, {isLoading}] = useCreatePartMutation();\n    const [partCode, setPartCode] = useState(\"\");\n    const [partName, setPartName] = useState(\"\");\n    const [level, setLevel] = useState(\"\");\n    const [state, setState] = useState<PartState | \"\">(\"\");\n    const [revisionLevel, setRevisionLevel] = useState(\"\");\n    const [assignedUserId, setAssignedUserId] = useState(\"\");\n    const [programId, setProgramId] = useState(\"\");\n    const [parentId, setParentId] = useState(\"\");\n    //const [startDate, setStartDate] = useState(\"\");\n    //const [endDate, setEndDate] = useState(\"\");\n\n    const handleSubmit = async () => {\n        if (!partCode || !partName || !level || !state || !revisionLevel || !assignedUserId || !programId) return;\n\n        //const formattedStartDate = formatISO(new Date(startDate), { representation: 'complete'});\n        //const formattedEndDate = formatISO(new Date(endDate), { representation: 'complete'});\n\n        await createPart({\n            code: partCode,\n            partName,\n            level: Number(level),\n            state,\n            revisionLevel,\n            assignedUserId: assignedUserId,\n            programId: Number(programId),\n            parentId: parentId ? Number(parentId) : undefined,\n            //startDate: formattedStartDate,\n            //endDate: formattedEndDate\n        });\n    };\n\n    const isFormValid = () => {\n        return partCode && partName && level && state && revisionLevel && assignedUserId && programId;\n    };\n\n    const inputStyles = \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\"\n\n    return (\n        <Modal isOpen={isOpen} onClose={onClose} name=\"Create New Part\">\n            <form \n                className=\"mt-4 space-y-6\"\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    handleSubmit();\n                }}\n            >\n                <input\n                    type=\"text\"\n                    className={inputStyles}\n                    placeholder=\"Part Code\"\n                    value={partCode}\n                    onChange={(e) => setPartCode(e.target.value)}\n                />\n                <input\n                    type=\"text\"\n                    className={inputStyles}\n                    placeholder=\"Part Name\"\n                    value={partName}\n                    onChange={(e) => setPartName(e.target.value)}\n                />\n                <input\n                    type=\"number\"\n                    className={inputStyles}\n                    placeholder=\"Level\"\n                    value={level}\n                    onChange={(e) => setLevel(e.target.value)}\n                />\n                <select\n                    className={inputStyles}\n                    value={state}\n                    onChange={(e) => setState(e.target.value as PartState)}\n                >\n                    <option value=\"\">Select State</option>\n                    {Object.values(PartState).map((stateValue) => (\n                        <option key={stateValue} value={stateValue}>\n                            {PartStateLabels[stateValue]}\n                        </option>\n                    ))}\n                </select>\n                <input\n                    type=\"text\"\n                    className={inputStyles}\n                    placeholder=\"Revision Level\"\n                    value={revisionLevel}\n                    onChange={(e) => setRevisionLevel(e.target.value)}\n                />\n                <select\n                    className={inputStyles}\n                    value={assignedUserId}\n                    onChange={(e) => setAssignedUserId(e.target.value)}\n                    disabled={usersLoading}\n                >\n                    <option value=\"\">Select Assigned User</option>\n                    {users.map((user) => (\n                        <option key={user.id} value={user.id}>\n                        {user.name} ({user.username})\n                        </option>\n                    ))}\n                </select>\n                <select\n                    className={inputStyles}\n                    value={programId}\n                    onChange={(e) => setProgramId(e.target.value)}\n                    disabled={programsLoading}\n                >\n                    <option value=\"\">Select Program</option>\n                    {programs.map((program) => (\n                        <option key={program.id} value={program.id}>\n                        {program.name}\n                        </option>\n                    ))}\n                </select>\n                <select\n                    className={inputStyles}\n                    value={parentId}\n                    onChange={(e) => setParentId(e.target.value)}\n                    disabled={partsLoading}\n                >\n                    <option value=\"\">Select Parent Part</option>\n                    {parts.map((part) => (\n                        <option key={part.id} value={part.id}>\n                        {part.code} - {part.partName}\n                        </option>\n                    ))}\n                </select>\n                {/* <textarea\n                    className={inputStyles}\n                    placeholder=\"Description\"\n                    value={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                />\n                <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n                    <input\n                        type=\"date\"\n                        className={inputStyles}\n                        value={startDate}\n                        onChange={(e) => setStartDate(e.target.value)}\n                    />\n                    <input\n                        type=\"date\"\n                        className={inputStyles}\n                        value={endDate}\n                        onChange={(e) => setEndDate(e.target.value)}\n                    />\n                </div> */}\n                <button\n                    type=\"submit\"\n                    className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\n                        !isFormValid() || isLoading ? \"cursor-not-allowed opacity-50\" : \"\"\n                    }`}\n                    disabled={!isFormValid() || isLoading}\n                >\n                    {isLoading ? \"Creating...\" : \"Create Part\"}\n                </button>\n            </form>\n        </Modal>\n    )\n};\n\nexport default ModalNewPart;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/parts/ModalEditPart/index.tsx"],"sourcesContent":["\"use client\";\n\nimport Modal from \"@/components/Modal\";\nimport {  useEditPartMutation,\n          useDeletePartMutation,\n          useGetUsersQuery,\n          useGetProgramsQuery,\n          useGetPartsQuery,\n          PartState,\n          PartStateLabels\n} from \"@/state/api\";\nimport React, { useState, useEffect } from \"react\";\nimport { Part } from \"@/state/api\";\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n  part?: {\n    id: number;\n    code?: string;\n    partName?: string;\n    level?: number;\n    state?: PartState;\n    revisionLevel?: string;\n    assignedUserId?: string;\n    programId?: number;\n    parentId?: number | null;\n    } | null;\n};\n\nconst ModalEditPart = ({ isOpen, onClose, part }: Props) => {\n  const [editPart, { isLoading }] = useEditPartMutation();\n  const [deletePart, { isLoading: isDeleting }] = useDeletePartMutation();\n  const { data: users = [], isLoading: usersLoading } = useGetUsersQuery();\n  const { data: programs = [], isLoading: programsLoading } = useGetProgramsQuery();\n  const { data: parentParts = [], isLoading: partsLoading } = useGetPartsQuery();\n\n  const [partCode, setPartCode] = useState(\"\");\n  const [partName, setPartName] = useState(\"\");\n  const [level, setLevel] = useState(\"\");\n  const [state, setState] = useState<PartState | \"\">(\"\");\n  const [revisionLevel, setRevisionLevel] = useState(\"\");\n  const [assignedUserId, setAssignedUserId] = useState(\"\");\n  const [assignedUserName, setAssignedUserName] = useState(\"\");\n  const [programId, setProgramId] = useState(\"\");\n  const [programName, setProgramName] = useState(\"\");\n  const [parentId, setParentId] = useState(\"\");\n  const [parentPartName, setParentPartName] = useState(\"\");\n\n  // âœ… Auto-fill fields when modal opens or part changes\n  useEffect(() => {\n    if (part) {\n      setPartCode(part?.code || \"\");\n      setPartName(part?.partName || \"\");\n      setLevel(part?.level?.toString() || \"\");\n      setState(part?.state || \"\");\n      setRevisionLevel(part?.revisionLevel || \"\");\n      \n      setAssignedUserId(part?.assignedUserId?.toString() || \"\");\n      // prefill assignedUserName if part.assignedUserId is known\n      const assignedUser = users.find((u) => u.id === part.assignedUserId);\n      setAssignedUserName(assignedUser?.name || \"\");\n      \n      setProgramId(part?.programId?.toString() || \"\");\n      // Prefill program name if known\n      const program = programs.find((p) => p.id === part.programId);\n      setProgramName(program?.name || \"\");\n\n      setParentId(part?.parentId?.toString() || \"\");\n      // prefill assignedUserName if part.assignedUserId is known\n      const parentPart = parentParts.find((p) => p.id === part.parentId);\n      setParentPartName(parentPart?.partName || \"\");\n    }\n  }, [part, users, programs, parentParts]);\n\n  const handleSubmit = async () => {\n    if (!part) return;\n\n    await editPart({\n      partId: part.id,\n      updates: {\n        code: partCode,\n        partName,\n        level: Number(level),\n        state: state || undefined,\n        revisionLevel,\n        assignedUserId: assignedUserId,\n        programId: Number(programId),\n        parentId: parentId ? Number(parentId) : undefined,\n      },\n    });\n\n    onClose(); // close modal on success\n  };\n\n  const isFormValid = () =>\n    partCode && partName && level && state && revisionLevel && assignedUserId && programId;\n\n  const handleDelete = async () => {\n    if (!part) return;\n\n    const confirmed = window.confirm(\n        `Are you sure you want to delete \"${part.partName}\"? This action cannot be undone.`\n    );\n    if (!confirmed) return;\n\n    try {\n        await deletePart(part.id).unwrap();\n        onClose(); // close modal on success\n    } catch (err) {\n        console.error(\"Failed to delete part:\", err);\n    }\n  };\n\n  const inputStyles =\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} name=\"Edit Part\">\n      <form\n        className=\"mt-4 space-y-6\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Part Code:\n            </label>\n            <input\n                type=\"text\"\n                className={inputStyles}\n                placeholder=\"Part Code\"\n                value={partCode}\n                onChange={(e) => setPartCode(e.target.value)}\n            />\n        </div>\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Part Name:\n            </label>\n            <input\n                type=\"text\"\n                className={inputStyles}\n                placeholder=\"Part Name\"\n                value={partName}\n                onChange={(e) => setPartName(e.target.value)}\n            />\n        </div>\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Level:\n            </label>\n            <input\n                type=\"number\"\n                className={inputStyles}\n                placeholder=\"Level\"\n                value={level}\n                onChange={(e) => setLevel(e.target.value)}\n            />\n        </div>\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                State:\n            </label>\n            <select\n                className={inputStyles}\n                value={state}\n                onChange={(e) => setState(e.target.value as PartState)}\n            >\n                <option value=\"\">Select State</option>\n                {Object.values(PartState).map((stateValue) => (\n                    <option key={stateValue} value={stateValue}>\n                        {PartStateLabels[stateValue]}\n                    </option>\n                ))}\n            </select>\n        </div>\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Revision Level:\n            </label>\n            <input\n                type=\"text\"\n                className={inputStyles}\n                placeholder=\"Revision Level\"\n                value={revisionLevel}\n                onChange={(e) => setRevisionLevel(e.target.value)}\n            />\n        </div>\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Assignee:\n            </label>\n            <select\n              className={inputStyles}\n              value={assignedUserId}\n              onChange={(e) => {\n                setAssignedUserId(e.target.value);\n                const selected = users.find((u) => u.id === e.target.value);\n                setAssignedUserName(selected?.name || \"\");\n              }}\n              disabled={usersLoading}\n            >\n              <option value=\"\">Select Assigned User</option>\n              {users.map((user) => (\n                <option key={user.id} value={user.id}>\n                  {user.name} ({user.username})\n                </option>\n              ))}\n            </select>\n        </div>\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Program:\n            </label>\n            <select\n              className={inputStyles}\n              value={programId}\n              onChange={(e) => {\n                setProgramId(e.target.value);\n                const selected = programs.find((p) => p.id === Number(e.target.value));\n                setProgramName(selected?.name || \"\");\n              }}\n              disabled={programsLoading}\n            >\n              <option value=\"\">Select Program</option>\n              {programs.map((program) => (\n                <option key={program.id} value={program.id}>\n                  {program.name}\n                </option>\n              ))}\n            </select>\n        </div>\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Parent Part:\n            </label>\n            <select\n              className={inputStyles}\n              value={parentId}\n              onChange={(e) => {\n                setParentId(e.target.value);\n                const selected = parentParts.find((p) => p.id === Number(e.target.value));\n                setParentPartName(selected?.partName || \"\");\n              }}\n              disabled={partsLoading}\n            >\n              <option value=\"\">Select Parent Part</option>\n              {parentParts.map((parentPart) => (\n                <option key={parentPart.id} value={parentPart.id}>\n                  {parentPart.code} - {parentPart.partName}\n                </option>\n              ))}\n            </select>\n        </div>\n\n        <button\n          type=\"submit\"\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\n            !isFormValid() || isLoading ? \"cursor-not-allowed opacity-50\" : \"\"\n          }`}\n          disabled={!isFormValid() || isLoading}\n        >\n          {isLoading ? \"Updating...\" : \"Update Part\"}\n        </button>\n        <button\n            type=\"button\"\n            onClick={handleDelete}\n            className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 ${\n                isDeleting ? \"cursor-not-allowed opacity-50\" : \"\"\n            }`}\n            disabled={isDeleting}\n        >\n            {isDeleting ? `Deleting Part` : `Delete Part`}\n        </button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default ModalEditPart;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 736, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/parts/PartHeader.tsx"],"sourcesContent":["import Header from '@/components/Header';\nimport { Filter, SquareKanban, Search, TrendingDown, PlusSquare, Share2, SquarePen, Table, SquareChartGantt } from 'lucide-react';\nimport Link from 'next/link';\nimport React, { useState } from 'react';\nimport ModalNewPart from \"./ModalNewPart\";\nimport ModalEditPart from \"./ModalEditPart\";\nimport { Part, useGetPartsQuery, useGetProgramsQuery, useGetUsersQuery } from '@/state/api';\n\ntype Props = {\n    activeTab: string;\n    setActiveTab: (tabname: string) => void\n    activePart?: Partial<Part> | null;\n    searchQuery: string;\n    setSearchQuery: (query: string) => void;\n    includeChildren: boolean;\n    setIncludeChildren: (value: boolean) => void;\n};\n\nconst PartHeader = ({\n    activeTab,\n    setActiveTab,\n    activePart,\n    searchQuery,\n    setSearchQuery,\n    includeChildren,\n    setIncludeChildren,\n}: Props) => {\n    const [isModalNewPartOpen, setIsModalNewPartOpen] = useState(false); \n    const [isModalEditPartOpen, setIsModalEditPartOpen] = useState(false);\n    const { data: users = [] } = useGetUsersQuery();\n    const { data: programs = [] } = useGetProgramsQuery();\n    const { data: parts = [] } = useGetPartsQuery(undefined, { skip: !activePart?.parentId });\n    \n    const headerTitle = activePart\n        ? `${activePart.partName} (${activePart.code})`\n        : \"My Part\";\n    \n    const assignedUser = activePart?.assignedUserId \n        ? users.find(user => user.id === activePart.assignedUserId)\n        : null;\n    const activeProgramName = activePart\n        ? activePart.program?.name ?? programs.find(program => program.id === activePart.programId)?.name\n        : undefined;\n    const parentPart = activePart\n        ? activePart.parent ?? parts.find(part => part.id === activePart.parentId)\n        : undefined;\n    const parentDisplay = parentPart\n        ? `${parentPart.partName} (${parentPart.code})`\n        : undefined;\n    \n    return (\n        <div className=\"px-4 xl:px-6\">\n            <ModalNewPart\n                isOpen={isModalNewPartOpen}\n                onClose={() => setIsModalNewPartOpen(false)}\n            />\n            <ModalEditPart\n                isOpen={isModalEditPartOpen}\n                onClose={() => setIsModalEditPartOpen(false)}\n                part={activePart ? { ...activePart, id: activePart.id ?? 0 } : null}\n            />\n            <div className=\"pb-6 pt-6 lg:pb-4 lg:pt-8\">\n                <Header name={headerTitle}\n                    buttonComponent={\n                        <div className=\"flex gap-3\">\n                        {/* New Part Button */}\n                        <button\n                            className=\"flex items-center rounded-md bg-blue-primary px-3 py-2 text-white hover:bg-blue-600\"\n                            onClick={() => setIsModalNewPartOpen(true)}\n                        >\n                            <PlusSquare className=\"mr-2 h-5 w-5\" />New Part\n                        </button>\n                        {/* Edit Part Button */}\n                        <button\n                            className=\"flex items-center rounded-md bg-gray-300 px-3 py-2 text-gray-800 hover:bg-gray-400 dark:bg-dark-tertiary dark:text-white\"\n                            onClick={() => setIsModalEditPartOpen(true)}\n                            disabled={!activePart}\n                        >\n                            <SquarePen className=\"mr-2 h-5 w-5\" />Edit Part\n                        </button>\n                        </div>\n                    }\n                />\n                {activePart && (\n                    <div className=\"mt-2 flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-600 dark:text-gray-400\">\n                        <span>\n                            Parent:{' '}\n                            {parentPart ? (\n                                <Link\n                                    href={`/parts/${parentPart.id}`}\n                                    className=\"text-blue-600 hover:underline dark:text-blue-400\"\n                                >\n                                    {parentDisplay}\n                                </Link>\n                            ) : (\n                                'None'\n                            )}\n                        </span>\n                        <span>\n                            Program:{' '}\n                            {activeProgramName ? (\n                                <Link\n                                    href=\"/programs\"\n                                    className=\"text-blue-600 hover:underline dark:text-blue-400\"\n                                >\n                                    {activeProgramName}\n                                </Link>\n                            ) : (\n                                'Unassigned'\n                            )}\n                        </span>\n                        <span>\n                            Assignee:{' '}\n                            {assignedUser?.username ? (\n                                <Link\n                                    href={`/users/${assignedUser?.id ?? activePart?.assignedUserId}`}\n                                    className=\"text-blue-600 hover:underline dark:text-blue-400\"\n                                >\n                                    {assignedUser?.name ?? 'View Assignee'}\n                                </Link>\n                            ) : (\n                                'Unassigned'\n                            )}\n                        </span>\n                    </div>\n                )}\n            </div>\n\n            {/* TABS */}\n            <div className=\"flex flex-wrap-reverse gap-2 border-y border-gray-200 pb-[8px] pt-2 dark:border-stroke-dark md:items-center\">\n                <div className=\"flex flex-1 items-center gap-2 md:gap-4\">\n                    <TabButton\n                        name=\"Board\"\n                        icon={<SquareKanban className=\"h-5 w-5\" />}\n                        setActiveTab={setActiveTab}\n                        activeTab={activeTab}\n                    />\n                    <TabButton\n                        name=\"Table\"\n                        icon={<Table className=\"h-5 w-5\" />}\n                        setActiveTab={setActiveTab}\n                        activeTab={activeTab}\n                    />\n                    <TabButton\n                        name=\"Burndown\"\n                        icon={<TrendingDown className=\"h-5 w-5\" />}\n                        setActiveTab={setActiveTab}\n                        activeTab={activeTab}\n                    />\n                    <TabButton\n                        name=\"Timeline\"\n                        icon={<SquareChartGantt className=\"h-5 w-5\" />}\n                        setActiveTab={setActiveTab}\n                        activeTab={activeTab}\n                    />\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <label className=\"flex items-center gap-2 rounded-md border border-gray-200 px-3 py-2 text-sm text-gray-600 dark:border-dark-secondary dark:text-neutral-400\">\n                        <input\n                            type=\"checkbox\"\n                            className=\"h-4 w-4 accent-blue-600\"\n                            checked={includeChildren}\n                            onChange={(e) => setIncludeChildren(e.target.checked)}\n                        />\n                        Include children\n                    </label>\n                    <button className=\"text-gray-500 hover:text-gray-600 dark:text-neutral-500 dark:hover:text-gray-300\">\n                        <Filter className=\"h-5 w-5\" />\n                    </button>\n                    <button className=\"text-gray-500 hover:text-gray-600 dark:text-neutral-500 dark:hover:text-gray-300\">\n                        <Share2 className=\"h-5 w-5\" />\n                    </button>\n                    <div className=\"relative\">\n                        <input \n                            type=\"text\" \n                            placeholder=\"Search Work Item\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            className=\"rounded-md border py-1 pl-10 pr-4 focus:outline-none dark:border-dark-secondary dark:bg-dark-secondary dark:text-white\" \n                        />\n                        <Search className=\"absolute left-3 top-2 h-4 w-4 text-gray-400 dark:text-neutral-500\" />\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n};\n\ntype TabButtonProps = {\n    name: string;\n    icon: React.ReactNode;\n    setActiveTab: (tabName: string) => void;\n    activeTab: string;\n};\n\nconst TabButton = ({ name, icon, setActiveTab, activeTab}: TabButtonProps) => {\n    const isActive = activeTab === name;\n\n    return (\n        <button\n            className={`relative flex items-center gap-2 px-1 py-2 text-gray-500 after:absolute after:-bottom-[9px] after:left-0 after:h-[1px] after:w-full hover:text-blue-600 dark:text-neutral-500 dark:hover:text-white sm:px-2 lg:px-4 ${\n        isActive ? \"text-blue-600 after:bg-blue-600 dark:text-white\" : \"\"\n            }`}\n            onClick={() => setActiveTab(name)}\n            >\n                {icon}\n                {name}\n            </button>\n    )\n\n}\n\nexport default PartHeader;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1144, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/ModalEditWorkItem/index.tsx"],"sourcesContent":["\"use client\";\n\nimport Modal from '@/components/Modal';\nimport {\n  Priority,\n  Status,\n  StatusLabels,\n  WorkItemType,\n  DeliverableTypeLabels,\n  IssueTypeLabels,\n  useEditWorkItemMutation,\n  useDeleteWorkItemMutation,\n  WorkItem as WorkItemTypeModel,\n  WorkItemEditInput,\n  useGetPartsQuery,\n  useGetProgramsQuery,\n  useGetMilestonesQuery,\n  useGetUsersQuery,\n  useGetDeliverableTypesQuery,\n  useGetIssueTypesQuery,\n} from '@/state/api';\nimport React, { useEffect, useState } from 'react';\nimport { formatISO } from 'date-fns';\nimport { showApiError, showApiSuccess } from '@/lib/toast';\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n  workItem: WorkItemTypeModel | null;\n};\n\nconst ModalEditWorkItem = ({ isOpen, onClose, workItem }: Props) => {\n  const [editWorkItem, { isLoading: isSaving }] = useEditWorkItemMutation();\n  const [deleteWorkItem, { isLoading: isDeleting }] = useDeleteWorkItemMutation();\n  const { data: parts = [], isLoading: partsLoading } = useGetPartsQuery();\n  const { data: programs = [], isLoading: programsLoading } = useGetProgramsQuery();\n  const { data: milestones = [], isLoading: milestonesLoading } = useGetMilestonesQuery();\n  const { data: users = [], isLoading: usersLoading } = useGetUsersQuery();\n  const { data: deliverableTypes = [] } = useGetDeliverableTypesQuery();\n  const { data: issueTypes = [] } = useGetIssueTypesQuery();\n\n  // form state\n  const [workItemType, setWorkItemType] = useState<WorkItemType | \"\">(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [status, setStatus] = useState<Status | \"\">(\"\");\n  const [priority, setPriority] = useState<Priority | \"\">(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [dateOpened, setDateOpened] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [estimatedCompletionDate, setEstimatedCompletionDate] = useState(\"\");\n  const [actualCompletionDate, setActualCompletionDate] = useState(\"\");\n  const [percentComplete, setPercentComplete] = useState<number>(0);\n  const [inputStatus, setInputStatus] = useState(\"\");\n  const [partIds, setPartIds] = useState<number[]>([]);\n  const [programId, setProgramId] = useState(\"\");\n  const [programName, setProgramName] = useState(\"\");\n  const [dueByMilestoneId, setDueByMilestoneId] = useState(\"\");\n  const [milestoneName, setMilestoneName] = useState(\"\");\n  const [authorUserId, setAuthorUserId] = useState(\"\");\n  const [authorUserName, setAuthorUserName] = useState(\"\");\n  const [assignedUserId, setAssignedUserId] = useState(\"\");\n  const [assignedUserName, setAssignedUserName] = useState(\"\");\n\n  const [issueType, setIssueType] = useState<string>(\"\");\n  const [rootCause, setRootCause] = useState(\"\");\n  const [correctiveAction, setCorrectiveAction] = useState(\"\");\n  const [deliverableType, setDeliverableType] = useState<string>(\"\");\n\n  // Prefill all fields when modal opens\n  useEffect(() => {\n    if (workItem) {\n      console.log(\"workItem.partNumbers\", workItem.partNumbers);\n      setWorkItemType(workItem.workItemType || \"\");\n      setTitle(workItem.title || \"\");\n      setDescription(workItem.description || \"\");\n      setStatus(workItem.status || \"\");\n      setPriority(workItem.priority || \"\");\n      setTags(workItem.tags || \"\");\n      setDateOpened(workItem.dateOpened ? workItem.dateOpened.split(\"T\")[0] : \"\");\n      setDueDate(workItem.dueDate ? workItem.dueDate.split(\"T\")[0] : \"\");\n      setEstimatedCompletionDate(\n        workItem.estimatedCompletionDate ? workItem.estimatedCompletionDate.split(\"T\")[0] : \"\"\n      );\n      setActualCompletionDate(\n        workItem.actualCompletionDate ? workItem.actualCompletionDate.split(\"T\")[0] : \"\"\n      );\n      setPercentComplete(workItem.percentComplete || 0);\n      setInputStatus(workItem.inputStatus || \"\");\n      setPartIds(workItem.partNumbers?.map((p) => p.partId) || []);\n      \n      setProgramId(workItem.programId?.toString() || \"\");\n      // Prefill program name if known\n      const program = programs.find((p) => p.id === workItem.programId);\n      setProgramName(program?.name || \"\");\n\n      setDueByMilestoneId(workItem.dueByMilestoneId?.toString() || \"\");\n      // Prefill milestone name if known\n      const milestone = milestones.find((p) => p.id === workItem.dueByMilestoneId);\n      setMilestoneName(milestone?.name || \"\");\n\n      setAuthorUserId(workItem.authorUserId?.toString() || \"\");\n      // prefill authorUserName if workItem.authorUserId is known\n      const authorUser = users.find((u) => u.id === workItem.authorUserId);\n      setAuthorUserName(authorUser?.name || \"\");\n\n      setAssignedUserId(workItem.assignedUserId?.toString() || \"\");\n      // prefill assignedUserName if workItem.assignedUserId is known\n      const assignedUser = users.find((u) => u.id === workItem.assignedUserId);\n      setAssignedUserName(assignedUser?.name || \"\");\n\n      if (workItem.workItemType === WorkItemType.Issue) {\n        const type = workItem.issueDetail?.issueType;\n        const typeName = typeof type === 'string' ? type : (type && typeof type === 'object' && 'name' in type ? (type as { name: string }).name : '');\n        setIssueType(typeName);\n        setRootCause(workItem.issueDetail?.rootCause || \"\");\n        setCorrectiveAction(workItem.issueDetail?.correctiveAction || \"\");\n      } else if (workItem.workItemType === WorkItemType.Deliverable) {\n        const type = workItem.deliverableDetail?.deliverableType;\n        const typeName = typeof type === 'string' ? type : (type && typeof type === 'object' && 'name' in type ? (type as { name: string }).name : '');\n        setDeliverableType(typeName);\n      }\n    }\n  }, [workItem, programs, milestones, users]);\n\n  const isFormValid = (): boolean =>\n    !!workItemType &&\n    !!title &&\n    !!description &&\n    !!status &&\n    !!priority &&\n    !!dateOpened &&\n    !!dueDate &&\n    !!estimatedCompletionDate &&\n    percentComplete >= 0 &&\n    !!inputStatus &&\n    !!programId &&\n    !!dueByMilestoneId &&\n    !!authorUserId &&\n    !!assignedUserId;\n\n  const handleSubmit = async () => {\n    if (!workItem || !isFormValid()) return;\n\n    const updatedWorkItem: WorkItemEditInput = {\n      workItemType: workItemType as WorkItemType,\n      status: status as Status,\n      priority: priority as Priority,\n      title,\n      description,\n      tags,\n      dateOpened: formatISO(new Date(dateOpened), { representation: 'complete' }),\n      dueDate: formatISO(new Date(dueDate), { representation: 'complete' }),\n      estimatedCompletionDate: formatISO(new Date(estimatedCompletionDate), { representation: 'complete' }),\n      actualCompletionDate: actualCompletionDate\n        ? formatISO(new Date(actualCompletionDate), { representation: 'complete' })\n        : undefined,\n      percentComplete,\n      inputStatus,\n      partIds,\n      programId: parseInt(programId),\n      dueByMilestoneId: parseInt(dueByMilestoneId),\n      authorUserId: authorUserId,\n      assignedUserId: assignedUserId,\n      issueDetail: workItemType === WorkItemType.Issue && issueType\n        ? {\n            issueType: issueType, // Send type name as string\n            rootCause,\n            correctiveAction,\n          }\n        : undefined,\n      deliverableDetail: workItemType === WorkItemType.Deliverable && deliverableType\n        ? {\n            deliverableType: deliverableType, // Send type name as string\n          }\n        : undefined,\n    };\n\n    try {\n        await editWorkItem({\n            workItemId: workItem.id,\n            updates: updatedWorkItem,\n        }).unwrap();\n        showApiSuccess(\"Work item updated successfully\");\n        onClose(); // close modal on success\n    } catch (err: any) {\n        console.error(\"Failed to save work item:\", err);\n        showApiError(err, \"Failed to save work item\");\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!workItem) return;\n\n    const confirmed = window.confirm(\n        `Are you sure you want to delete \"${workItem.title}\"? This action cannot be undone.`\n    );\n    if (!confirmed) return;\n\n    try {\n        await deleteWorkItem(workItem.id).unwrap();\n        showApiSuccess(\"Work item deleted successfully\");\n        onClose(); // close modal on success\n    } catch (err: any) {\n        console.error(\"Failed to delete work item:\", err);\n        showApiError(err, \"Failed to delete work item\");\n    }\n  };\n\n\n  const selectStyles =\n    \"mb-4 block w-full rounded border border-gray-300 px-3 py-2 dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n  const inputStyles =\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} name={`Edit ${workItem?.workItemType ?? \"Work Item\"}`}>\n      <form\n        className=\"mt-4 space-y-6\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        {/* Work Item Type */}\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Work Item Type:\n            </label>\n            <select\n            className={selectStyles}\n            value={workItemType}\n            onChange={(e) =>\n                setWorkItemType(\n                e.target.value ? (WorkItemType[e.target.value as keyof typeof WorkItemType]) : \"\"\n                )\n            }\n            >\n            <option value=\"\">Select Work Item Type</option>\n            {Object.values(WorkItemType).map((type) => (\n                <option key={type} value={type}>{type}</option>\n            ))}\n            </select>\n        </div>\n\n        {/* Conditional fields for Issue or Deliverable */}\n        {workItemType === WorkItemType.Issue && (\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Issue Type:\n            </label>\n            <select\n                className={selectStyles}\n                value={issueType}\n                onChange={(e) => setIssueType(e.target.value)}\n            >\n                <option value=\"\">Select Issue Type</option>\n                {issueTypes.map((type) => (\n                <option key={type.id} value={type.name}>\n                    {IssueTypeLabels[type.name] || type.name}\n                </option>\n                ))}\n            </select>\n          </div>\n        )}\n\n        {workItemType === WorkItemType.Deliverable && (\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Deliverable Type:\n            </label>\n            <select\n                className={selectStyles}\n                value={deliverableType}\n                onChange={(e) => setDeliverableType(e.target.value)}\n            >\n                <option value=\"\">Select Deliverable Type</option>\n                {deliverableTypes.map((type) => (\n                <option key={type.id} value={type.name}>\n                    {DeliverableTypeLabels[type.name] || type.name}\n                </option>\n                ))}\n            </select>\n          </div>\n        )}\n\n        {/* Common Fields */}\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Title:\n            </label>\n            <input\n                type=\"text\"\n                className={inputStyles}\n                placeholder=\"Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n            />\n        </div>\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Description:\n            </label>\n            <textarea\n                className={inputStyles}\n                placeholder=\"Description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n            />\n        </div>\n\n        {workItemType === WorkItemType.Issue && (\n          <>\n            <div>\n                <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                    Root Cause:\n                </label>\n                <textarea\n                    className={inputStyles}\n                    placeholder=\"Root Cause\"\n                    value={rootCause}\n                    onChange={(e) => setRootCause(e.target.value)}\n                />\n            </div>\n            <div>\n                <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                    Corrective Action:\n                </label>\n                <textarea\n                    className={inputStyles}\n                    placeholder=\"Corrective Action\"\n                    value={correctiveAction}\n                    onChange={(e) => setCorrectiveAction(e.target.value)}\n                />\n            </div>\n          </>\n        )}\n\n        {/* Status & Priority */}\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Status:\n            </label>\n            <select\n                className={selectStyles}\n                value={status}\n                onChange={(e) => setStatus(e.target.value as Status)}\n            >\n                <option value=\"\">Select Status</option>\n                {Object.values(Status).map((s) => (\n                <option key={s} value={s}>\n                  {StatusLabels[s]}\n                </option>\n                ))}\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Priority:\n            </label>\n            <select\n                className={selectStyles}\n                value={priority}\n                onChange={(e) => setPriority(e.target.value as Priority)}\n            >\n                <option value=\"\">Select Priority</option>\n                {Object.values(Priority).map((p) => (\n                <option key={p} value={p}>{p}</option>\n                ))}\n            </select>\n          </div>\n        </div>\n\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Tags:\n            </label>\n            <input\n                type=\"text\"\n                className={inputStyles}\n                placeholder=\"Tags (comma separated)\"\n                value={tags}\n                onChange={(e) => setTags(e.target.value)}\n            />\n        </div>\n\n        {/* Dates */}\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Date Opened:\n            </label>\n            <input type=\"date\" className={inputStyles} value={dateOpened} onChange={(e) => setDateOpened(e.target.value)} />\n          </div>\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Due Date:\n            </label>\n            <input type=\"date\" className={inputStyles} value={dueDate} onChange={(e) => setDueDate(e.target.value)} />\n          </div>\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Estimated Completion:\n            </label>\n            <input type=\"date\" className={inputStyles} value={estimatedCompletionDate} onChange={(e) => setEstimatedCompletionDate(e.target.value)} />\n          </div>\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Actual Completion:\n            </label>\n            <input type=\"date\" className={inputStyles} value={actualCompletionDate} onChange={(e) => setActualCompletionDate(e.target.value)} />\n          </div>\n        </div>\n\n        {/* Percent Complete */}\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Percent Complete:\n            </label>\n            <input\n            type=\"number\"\n            className={inputStyles}\n            placeholder=\"Percent Complete\"\n            value={percentComplete}\n            onChange={(e) => setPercentComplete(Number(e.target.value))}\n            min={0}\n            max={100}\n            />\n        </div>\n\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Current Status:\n            </label>\n            <input\n            type=\"text\"\n            className={inputStyles}\n            placeholder=\"Current Status\"\n            value={inputStatus}\n            onChange={(e) => setInputStatus(e.target.value)}\n            />\n        </div>\n\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n            Affected Part(s):\n          </label>\n          <select\n            multiple\n            className={inputStyles}\n            value={partIds.map(String)} // convert numbers to strings for <select>\n            onChange={(e) => {\n              const selectedOptions = Array.from(e.target.selectedOptions);\n              const ids = selectedOptions.map((opt) => Number(opt.value));\n              setPartIds(ids);\n            }}\n            disabled={partsLoading}\n          >\n            {parts.map((part) => (\n              <option key={part.id} value={part.id}>\n                {part.partName} ({part.code})\n              </option>\n            ))}\n          </select>\n          <p className=\"mt-1 text-xs text-gray-600 dark:text-gray-300\">\n            Hold <kbd>Ctrl</kbd> (Windows) or <kbd>Cmd</kbd> (Mac) to select multiple.\n          </p>\n        </div>\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Program:\n          </label>\n          <select\n            className={inputStyles}\n            value={programId}\n            onChange={(e) => {\n              setProgramId(e.target.value);\n              const selected = programs.find((p) => p.id === Number(e.target.value));\n              setProgramName(selected?.name || \"\");\n            }}\n            disabled={programsLoading}\n          >\n            <option value=\"\">Select Program</option>\n            {programs.map((program) => (\n              <option key={program.id} value={program.id}>\n                {program.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Milestone:\n          </label>\n          <select\n            className={inputStyles}\n            value={dueByMilestoneId}\n            onChange={(e) => {\n              setDueByMilestoneId(e.target.value);\n              const selected = milestones.find((p) => p.id === Number(e.target.value));\n              setMilestoneName(selected?.name || \"\");\n            }}\n            disabled={milestonesLoading}\n          >\n            <option value=\"\">Select Milestone</option>\n            {milestones.map((milestone) => (\n              <option key={milestone.id} value={milestone.id}>\n                {milestone.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        \n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Author:\n            </label>\n            <select\n              className={inputStyles}\n              value={authorUserId}\n              onChange={(e) => {\n                setAuthorUserId(e.target.value);\n                const selected = users.find((u) => u.id === e.target.value);\n                setAuthorUserName(selected?.name || \"\");\n              }}\n              disabled={usersLoading}\n            >\n              <option value=\"\">Select Author User</option>\n              {users.map((user) => (\n                <option key={user.id} value={user.id}>\n                  {user.name} ({user.username})\n                </option>\n              ))}\n            </select>\n        </div>\n\n        <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n                Assignee:\n            </label>\n            <select\n              className={inputStyles}\n              value={assignedUserId}\n              onChange={(e) => {\n                setAssignedUserId(e.target.value);\n                const selected = users.find((u) => u.id === e.target.value);\n                setAssignedUserName(selected?.name || \"\");\n              }}\n              disabled={usersLoading}\n            >\n              <option value=\"\">Select Assigned User</option>\n              {users.map((user) => (\n                <option key={user.id} value={user.id}>\n                  {user.name} ({user.username})\n                </option>\n              ))}\n            </select>\n        </div>\n\n        {/* Submit */}\n        <button\n          type=\"submit\"\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\n            !isFormValid() || isSaving ? \"cursor-not-allowed opacity-50\" : \"\"\n          }`}\n          disabled={!isFormValid() || isSaving}\n        >\n          {isSaving ? `Updating ${workItemType}...` : `Update ${workItemType}`}\n        </button>\n        <button\n            type=\"button\"\n            onClick={handleDelete}\n            className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-600 ${\n                isDeleting ? \"cursor-not-allowed opacity-50\" : \"\"\n            }`}\n            disabled={isDeleting}\n        >\n            {isDeleting ? `Deleting ${workItemType}` : `Delete ${workItemType}`}\n        </button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default ModalEditWorkItem;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2199, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/parts/BoardView/index.tsx"],"sourcesContent":["import {\n    useGetWorkItemsByPartQuery,\n    useUpdateWorkItemStatusMutation,\n    useGetCommentsByWorkItemQuery,\n    useCreateCommentMutation,\n    useUpdateCommentMutation,\n    useDeleteCommentMutation,\n    WorkItem as WorkItemType,\n    Comment as CommentType,\n} from '@/state/api';\nimport ModalEditWorkItem from '@/components/ModalEditWorkItem';\nimport React, { useState } from 'react';\nimport { DndProvider, useDrag, useDrop } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { EllipsisVertical, MessageSquareMore, Plus, Calendar, Clock, Target, User, CheckCircle2, FileText, Tag } from 'lucide-react';\nimport { format } from \"date-fns\";\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport Modal from '@/components/Modal';\nimport { skipToken } from '@reduxjs/toolkit/query';\nimport { useAuth } from '@/contexts/AuthContext';\n\ntype BoardProps = {\n    id: string;\n    setIsModalNewWorkItemOpen: (isOpen: boolean) => void;\n    searchQuery: string;\n    includeChildren: boolean;\n};\n\nconst workItemStatus = [\"ToDo\", \"WorkInProgress\", \"UnderReview\", \"Completed\"];\n\n// Helper function to filter work items based on search query\nconst filterWorkItemsBySearch = (workItems: WorkItemType[], searchQuery: string) => {\n    if (!searchQuery.trim()) return workItems;\n    \n    const query = searchQuery.toLowerCase();\n    return workItems.filter((item) => {\n        return (\n            item.title?.toLowerCase().includes(query) ||\n            item.description?.toLowerCase().includes(query) ||\n            item.tags?.toLowerCase().includes(query) ||\n            item.workItemType?.toLowerCase().includes(query) ||\n            item.status?.toLowerCase().includes(query) ||\n            item.priority?.toLowerCase().includes(query)\n        );\n    });\n};\n\nconst statusLabels: Record<string, string> = {\n  ToDo: \"To Do\",\n  WorkInProgress: \"Work In Progress\",\n  UnderReview: \"Under Review\",\n  Completed: \"Completed\"\n};\n\n// Helper function to format date without timezone conversion\n// Extracts the date portion (YYYY-MM-DD) and parses it as a local date\nconst formatDateOnly = (dateString: string): string => {\n  if (!dateString) return \"\";\n  // Extract just the date portion (YYYY-MM-DD) from ISO string\n  const dateOnly = dateString.split('T')[0];\n  // Parse as local date to avoid timezone conversion\n  const [year, month, day] = dateOnly.split('-').map(Number);\n  const date = new Date(year, month - 1, day);\n  return format(date, \"P\");\n};\n\nconst BoardView = ({ id, setIsModalNewWorkItemOpen, searchQuery, includeChildren }: BoardProps) => {\n    const { user: authUser } = useAuth();\n    const {\n        data: workItems,\n        isLoading,\n        error,\n        refetch: refetchWorkItems,\n    } = useGetWorkItemsByPartQuery({ partId: Number(id), includeChildren });\n    const [updateWorkItemStatus] = useUpdateWorkItemStatusMutation();\n    const [activeCommentsWorkItem, setActiveCommentsWorkItem] = useState<WorkItemType | null>(null);\n    const [isCommentsModalOpen, setIsCommentsModalOpen] = useState(false);\n    const [newCommentText, setNewCommentText] = useState(\"\");\n    const [editingCommentId, setEditingCommentId] = useState<number | null>(null);\n    const [editingCommentText, setEditingCommentText] = useState(\"\");\n\n    const { data: comments = [], isFetching: isCommentsLoading, refetch: refetchComments } =\n        useGetCommentsByWorkItemQuery(\n            activeCommentsWorkItem ? activeCommentsWorkItem.id : skipToken\n        );\n\n    const [createComment, { isLoading: isCreatingComment }] = useCreateCommentMutation();\n    const [updateComment, { isLoading: isUpdatingComment }] = useUpdateCommentMutation();\n    const [deleteComment, { isLoading: isDeletingComment }] = useDeleteCommentMutation();\n\n    const moveWorkItem = (workItemId: number, toStatus: string) => {\n        updateWorkItemStatus({ workItemId, status: toStatus })\n    };\n\n    const [editingWorkItem, setEditingWorkItem] = useState<WorkItemType | null>(null);\n\n    // Filter work items based on search query\n    const filteredWorkItems = filterWorkItemsBySearch(workItems || [], searchQuery);\n\n    const resetCommentState = () => {\n        setNewCommentText(\"\");\n        setEditingCommentId(null);\n        setEditingCommentText(\"\");\n    };\n\n    const handleOpenComments = (workItem: WorkItemType) => {\n        setActiveCommentsWorkItem(workItem);\n        setIsCommentsModalOpen(true);\n        resetCommentState();\n    };\n\n    const handleCloseComments = () => {\n        setIsCommentsModalOpen(false);\n        setActiveCommentsWorkItem(null);\n        resetCommentState();\n    };\n\n    const handleSubmitComment = async () => {\n        if (!activeCommentsWorkItem || !authUser || !newCommentText.trim()) return;\n        try {\n            await createComment({\n                workItemId: activeCommentsWorkItem.id,\n                text: newCommentText.trim(),\n                commenterUserId: authUser.id,\n            }).unwrap();\n            resetCommentState();\n            await refetchComments();\n            refetchWorkItems();\n        } catch (error) {\n            console.error(\"Failed to create comment:\", error);\n        }\n    };\n\n    const handleStartEdit = (comment: CommentType) => {\n        setEditingCommentId(comment.id);\n        setEditingCommentText(comment.text);\n    };\n\n    const handleCancelEdit = () => {\n        setEditingCommentId(null);\n        setEditingCommentText(\"\");\n    };\n\n    const handleSaveEdit = async () => {\n        if (!activeCommentsWorkItem || editingCommentId === null || !authUser || !editingCommentText.trim()) return;\n        try {\n            await updateComment({\n                workItemId: activeCommentsWorkItem.id,\n                commentId: editingCommentId,\n                text: editingCommentText.trim(),\n                requesterUserId: authUser.id,\n            }).unwrap();\n            resetCommentState();\n            await refetchComments();\n            refetchWorkItems();\n        } catch (error) {\n            console.error(\"Failed to update comment:\", error);\n        }\n    };\n\n    const handleDeleteComment = async (comment: CommentType) => {\n        if (!activeCommentsWorkItem || !authUser) return;\n        if (!window.confirm(\"Delete this comment?\")) return;\n        try {\n            await deleteComment({\n                workItemId: activeCommentsWorkItem.id,\n                commentId: comment.id,\n                requesterUserId: authUser.id,\n            }).unwrap();\n            await refetchComments();\n            refetchWorkItems();\n        } catch (error) {\n            console.error(\"Failed to delete comment:\", error);\n        }\n    };\n\n    if (isLoading) return <div>Loading...</div>\n    if (error) return <div>An error occured while fetching work items</div>;\n\n    return <DndProvider backend={HTML5Backend}>\n        <div className=\"grid grid-cols-1 gap-4 p-4 md:grid-cols-2 xl:grid-cols-4\">\n            {workItemStatus.map((status) => (\n                <WorkItemColumn\n                    key={status}\n                    status={status}\n                    workItems={filteredWorkItems}\n                    moveWorkItem={moveWorkItem}\n                    setIsModalNewWorkItemOpen={setIsModalNewWorkItemOpen}\n                    setEditingWorkItem={setEditingWorkItem}\n                    onOpenComments={handleOpenComments}\n                />\n            ))}\n        </div>\n        {editingWorkItem && (\n            <ModalEditWorkItem\n                isOpen={!!editingWorkItem}\n                onClose={() => setEditingWorkItem(null)}\n                workItem={editingWorkItem}\n            />\n        )}\n        <Modal\n            isOpen={isCommentsModalOpen}\n            onClose={handleCloseComments}\n            name={activeCommentsWorkItem ? `${activeCommentsWorkItem.workItemType} Comments` : \"Comments\"}\n        >\n            {isCommentsLoading ? (\n                <p className=\"text-sm text-gray-500 dark:text-neutral-400\">Loading comments...</p>\n            ) : (\n                <div className=\"space-y-4\">\n                    {comments.length === 0 ? (\n                        <p className=\"text-sm text-gray-500 dark:text-neutral-400\">No comments yet.</p>\n                    ) : (\n                        comments.map((comment) => {\n                            const isOwnComment = authUser?.id === comment.commenterUserId;\n                            const commenterName =\n                                comment.commenterUser?.name ||\n                                comment.commenterUser?.username ||\n                                `User ${comment.commenterUserId}`;\n                            const formattedDate = format(new Date(comment.dateCommented), \"PPpp\");\n\n                            return (\n                                <div key={comment.id} className=\"rounded-md border border-gray-200 p-4 dark:border-gray-700\">\n                                    <div className=\"flex flex-wrap items-center justify-between gap-2\">\n                                        <div>\n                                            <p className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">{commenterName}</p>\n                                            <p className=\"text-xs text-gray-500 dark:text-neutral-400\">{formattedDate}</p>\n                                        </div>\n                                        {isOwnComment && (\n                                            <div className=\"flex gap-2 text-xs\">\n                                                <button\n                                                    className=\"rounded-md border border-gray-300 px-2 py-1 text-gray-600 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700\"\n                                                    onClick={() => handleStartEdit(comment)}\n                                                >\n                                                    Edit\n                                                </button>\n                                                <button\n                                                    className=\"rounded-md border border-red-300 px-2 py-1 text-red-600 hover:bg-red-50 dark:border-red-700 dark:text-red-300 dark:hover:bg-red-900/30\"\n                                                    onClick={() => handleDeleteComment(comment)}\n                                                    disabled={isDeletingComment}\n                                                >\n                                                    Delete\n                                                </button>\n                                            </div>\n                                        )}\n                                    </div>\n                                    {editingCommentId === comment.id ? (\n                                        <div className=\"mt-3 space-y-2\">\n                                            <textarea\n                                                className=\"w-full rounded-md border border-gray-300 p-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:border-gray-700 dark:bg-dark-secondary dark:text-white\"\n                                                rows={3}\n                                                value={editingCommentText}\n                                                onChange={(e) => setEditingCommentText(e.target.value)}\n                                            />\n                                            <div className=\"flex gap-2\">\n                                                <button\n                                                    className=\"rounded-md bg-blue-600 px-3 py-1 text-sm font-semibold text-white hover:bg-blue-700 disabled:opacity-50\"\n                                                    onClick={handleSaveEdit}\n                                                    disabled={isUpdatingComment}\n                                                >\n                                                    Save\n                                                </button>\n                                                <button\n                                                    className=\"rounded-md border border-gray-300 px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700\"\n                                                    onClick={handleCancelEdit}\n                                                >\n                                                    Cancel\n                                                </button>\n                                            </div>\n                                        </div>\n                                    ) : (\n                                        <p className=\"mt-3 whitespace-pre-wrap text-sm text-gray-700 dark:text-gray-200\">\n                                            {comment.text}\n                                        </p>\n                                    )}\n                                </div>\n                            );\n                        })\n                    )}\n\n                    <div className=\"border-t border-gray-200 pt-4 dark:border-gray-700\">\n                        <h4 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Add a comment</h4>\n                        {!authUser ? (\n                            <p className=\"mt-2 text-sm text-gray-500 dark:text-neutral-400\">\n                                Sign in to add comments.\n                            </p>\n                        ) : (\n                            <div className=\"mt-2 space-y-3\">\n                                <textarea\n                                    className=\"w-full rounded-md border border-gray-300 p-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:border-gray-700 dark:bg-dark-secondary dark:text-white\"\n                                    rows={3}\n                                    placeholder=\"Share an update...\"\n                                    value={newCommentText}\n                                    onChange={(e) => setNewCommentText(e.target.value)}\n                                />\n                                <div className=\"flex justify-end\">\n                                    <button\n                                        className=\"rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700 disabled:opacity-50\"\n                                        onClick={handleSubmitComment}\n                                        disabled={isCreatingComment || !newCommentText.trim()}\n                                    >\n                                        {isCreatingComment ? \"Posting...\" : \"Post Comment\"}\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n        </Modal>\n    </DndProvider>;\n};\n\ntype WorkItemColumnProps = {\n    status: string;\n    workItems: WorkItemType[];\n    moveWorkItem: (workItemId: number, toStatus: string) => void;\n    setIsModalNewWorkItemOpen: (isOpen: boolean) => void;\n    setEditingWorkItem: (workItem: WorkItemType | null) => void;\n    onOpenComments: (workItem: WorkItemType) => void;\n};\n\nconst WorkItemColumn = ({\n    status,\n    workItems,\n    moveWorkItem,\n    setIsModalNewWorkItemOpen,\n    setEditingWorkItem,\n    onOpenComments,\n    }: WorkItemColumnProps) => {\n    const [{ isOver }, drop] = useDrop(() => ({\n        accept: \"workItem\",\n        drop: (item: { id: number }) => moveWorkItem(item.id, status),\n        collect: (monitor: any) => ({\n        isOver: !!monitor.isOver(),\n        }),\n    }));\n\n    const workItemCount = workItems.filter((workItem) => workItem.status === status).length;\n\n    const statusColor: any = {\n        \"ToDo\": \"#2563EB\",\n        \"WorkInProgress\": \"#059669\",\n        \"UnderReview\": \"#D97706\",\n        \"Completed\": \"#000000\",\n    }\n\n    return (\n        <div\n            ref={(instance) => {\n                drop(instance);\n            }}\n            className={`sl:py-4 rounded-lg py-2 xl:px-2 ${isOver ? \"bg-blue-100 dark:bg-neutral-950\" : \"\"}`}\n        >\n            <div className=\"mb-3 flex w-full\">\n                <div \n                    className={`w-2 !bg-[${statusColor[status]}] rounded-s-lg`}\n                    style={{ backgroundColor: statusColor[status] }}\n                />\n                <div className=\"flex w-full items-center justify-between rounded-e-lg bg-white px-5 py-4 dark:bg-dark-secondary\">\n                    <h3 className=\"flex items-center text-lg font-semibold dark:text-white\">\n                        {statusLabels[status]}{\" \"}\n                        <span\n                            className=\"ml-2 inline-block rounded-full bg-gray-200 p-1 text-center text-sm leading-none dark:bg-dark-tertiary\"\n                            style={{ width: \"1.5rem\", height: \"1.5rem\" }}\n                        >\n                            {workItemCount}\n                        </span>\n                    </h3>\n                    <div className=\"flex items-center gap-1\">\n                        <button className=\"flex h-6 w-5 items-center justify-center dark:text-neutral-500\">\n                            <EllipsisVertical size={26} />\n                        </button>\n                        <button className=\"flex h-6 w-6 items-center justify-center rounded bg-gray-200 dark:bg-dark-tertiary dark:text-white\"\n                            onClick={() => setIsModalNewWorkItemOpen(true)}>\n                                <Plus size={16} />\n                        </button>\n                    </div>\n                </div>\n            </div>\n            {workItems.filter((workItem) => workItem.status === status).map((workItem) => (\n                <WorkItem\n                    key={workItem.id}\n                    workItem={workItem}\n                    setEditingWorkItem={setEditingWorkItem}\n                    onOpenComments={onOpenComments}\n                />\n            ))}\n        </div>\n    )\n\n};\n\ntype WorkItemProps = {\n    workItem: WorkItemType;\n    setEditingWorkItem: (workItem: WorkItemType | null) => void;\n    onOpenComments: (workItem: WorkItemType) => void;\n};\n\nconst WorkItem = ({ workItem, setEditingWorkItem, onOpenComments }: WorkItemProps) => {\n    const router = useRouter();\n    const [{ isDragging }, drag] = useDrag(() => ({\n        type: \"workItem\",\n        item: { id: workItem.id },\n        collect: (monitor: any) => ({\n        isDragging: !!monitor.isDragging(),\n        }),\n    }));\n\n    const workItemTagsSplit = workItem.tags ? workItem.tags.split(\",\").map(t => t.trim()).filter(Boolean) : [];\n\n    const formattedDateOpened = formatDateOnly(workItem.dateOpened);\n    const formattedDueDate = formatDateOnly(workItem.dueDate);\n    const formattedEstimatedCompletionDate = formatDateOnly(workItem.estimatedCompletionDate);\n    const formattedActualCompletionDate = workItem.actualCompletionDate ? formatDateOnly(workItem.actualCompletionDate) : \"\";\n\n    const numberOfComments = workItem.comments?.length ?? 0;\n    const numberOfAttachments = workItem.attachments?.length ?? 0;\n\n    const PriorityTag = ({ priority }: { priority: WorkItemType[\"priority\"]}) => (\n        <div\n            className={`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${\n                priority === \"Urgent\"\n                ? \"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300\"\n                : priority === \"High\"\n                    ? \"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300\"\n                    : priority === \"Medium\"\n                    ? \"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300\"\n                    : priority === \"Low\"\n                        ? \"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300\"\n                        : \"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300\"\n            }`}\n        >\n            {priority}\n        </div>\n    );\n\n    const WorkItemTypeBadge = () => {\n        const typeColors = {\n            \"Deliverable\": \"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300\",\n            \"Issue\": \"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300\",\n            \"Task\": \"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300\",\n        };\n        const typePrefix = workItem.workItemType === \"Deliverable\" ? \"D\" : workItem.workItemType === \"Issue\" ? \"I\" : \"T\";\n        return (\n            <span className={`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${typeColors[workItem.workItemType as keyof typeof typeColors] || typeColors.Task}`}>\n                {typePrefix}{workItem.id}\n            </span>\n        );\n    };\n\n    // Truncate description\n    const truncateText = (text: string, maxLength: number = 100) => {\n        if (text.length <= maxLength) return text;\n        return text.substring(0, maxLength) + \"...\";\n    };\n\n    return (\n        <div\n            ref={(instance) => {\n                drag(instance);\n            }}\n            className={`mb-3 rounded-lg border border-gray-200 bg-white shadow-sm transition-all hover:shadow-md dark:border-gray-700 dark:bg-dark-secondary ${\n                isDragging ? \"opacity-50\" : \"opacity-100\"\n            }`}\n        >\n            <div className=\"p-4\">\n                {/* Header: Priority, Type Badge, and Menu */}\n                <div className=\"mb-3 flex items-start justify-between gap-2\">\n                    <div className=\"flex flex-1 flex-wrap items-center gap-2\">\n                        {workItem.priority && <PriorityTag priority={workItem.priority} />}\n                        <WorkItemTypeBadge />\n                    </div>\n                    <button \n                        className=\"flex h-6 w-6 flex-shrink-0 items-center justify-center rounded hover:bg-gray-100 dark:text-neutral-400 dark:hover:bg-gray-700\"\n                        onClick={(e) => {\n                            e.stopPropagation();\n                            setEditingWorkItem(workItem);\n                        }}\n                        title=\"More options\"\n                    >\n                        <EllipsisVertical size={18} />\n                    </button>\n                </div>\n\n                {/* Title */}\n                <h4 className=\"mb-2 line-clamp-2 text-sm font-semibold leading-tight dark:text-white\">\n                    <Link\n                        href={`/work-items/${workItem.id}`}\n                        className=\"text-gray-900 hover:text-blue-600 dark:text-white dark:hover:text-blue-400\"\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        {workItem.title}\n                    </Link>\n                </h4>\n\n                {/* Progress Bar */}\n                {typeof workItem.percentComplete === \"number\" && (\n                    <div className=\"mb-3\">\n                        <div className=\"mb-1 flex items-center justify-between\">\n                            <span className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Progress</span>\n                            <span className=\"text-xs font-semibold text-gray-700 dark:text-gray-300\">{workItem.percentComplete}%</span>\n                        </div>\n                        <div className=\"h-2 w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700\">\n                            <div \n                                className=\"h-full bg-blue-600 transition-all dark:bg-blue-500\"\n                                style={{ width: `${workItem.percentComplete}%` }}\n                            />\n                        </div>\n                    </div>\n                )}\n\n                {/* Key Dates */}\n                <div className=\"mb-3 space-y-1.5 text-xs\">\n                    {formattedEstimatedCompletionDate && (\n                        <div className=\"flex items-center gap-1.5 text-gray-600 dark:text-gray-400\">\n                            <Target size={14} className=\"flex-shrink-0 text-gray-400 dark:text-gray-500\" />\n                            <span className=\"font-medium\">Est. Completion:</span>\n                            <span className=\"text-gray-700 dark:text-gray-300\">{formattedEstimatedCompletionDate}</span>\n                        </div>\n                    )}\n                    {formattedDueDate && (\n                        <div className=\"flex items-center gap-1.5 text-gray-600 dark:text-gray-400\">\n                            <Calendar size={14} className=\"flex-shrink-0 text-gray-400 dark:text-gray-500\" />\n                            <span className=\"font-medium\">Due:</span>\n                            <span className=\"text-gray-700 dark:text-gray-300\">{formattedDueDate}</span>\n                        </div>\n                    )}\n                    {workItem.status === \"Completed\" && formattedActualCompletionDate && (\n                        <div className=\"flex items-center gap-1.5 text-green-600 dark:text-green-400\">\n                            <CheckCircle2 size={14} className=\"flex-shrink-0\" />\n                            <span className=\"font-medium\">Completed:</span>\n                            <span>{formattedActualCompletionDate}</span>\n                        </div>\n                    )}\n                </div>\n\n                {/* Description (truncated) */}\n                {workItem.description && (\n                    <div className=\"mb-3\">\n                        <div className=\"flex items-start gap-1.5 text-xs text-gray-600 dark:text-gray-400\">\n                            <FileText size={14} className=\"mt-0.5 flex-shrink-0 text-gray-400 dark:text-gray-500\" />\n                            <p className=\"line-clamp-2 leading-relaxed\">{truncateText(workItem.description, 120)}</p>\n                        </div>\n                    </div>\n                )}\n\n                {/* Tags */}\n                {workItemTagsSplit.length > 0 && (\n                    <div className=\"mb-3 flex flex-wrap items-center gap-1.5\">\n                        <Tag size={12} className=\"text-gray-400 dark:text-gray-500\" />\n                        {workItemTagsSplit.slice(0, 3).map((tag) => (\n                            <span\n                                key={tag}\n                                className=\"inline-flex items-center rounded-md bg-gray-100 px-2 py-0.5 text-xs text-gray-600 dark:bg-gray-700 dark:text-gray-400\"\n                            >\n                                {tag}\n                            </span>\n                        ))}\n                        {workItemTagsSplit.length > 3 && (\n                            <span className=\"text-xs text-gray-500 dark:text-gray-500\">+{workItemTagsSplit.length - 3}</span>\n                        )}\n                    </div>\n                )}\n\n                {/* Status (if not completed) */}\n                {workItem.status !== \"Completed\" && workItem.inputStatus && (\n                    <div className=\"mb-3 text-xs\">\n                        <span className=\"text-gray-500 dark:text-gray-400\">Status: </span>\n                        <span className=\"font-medium text-gray-700 dark:text-gray-300\">{workItem.inputStatus}</span>\n                    </div>\n                )}\n\n                {/* Divider */}\n                <div className=\"my-3 border-t border-gray-200 dark:border-gray-700\" />\n\n                {/* Footer: Users, Comments, Attachments */}\n                <div className=\"flex items-center justify-between\">\n                    <div className=\"flex -space-x-2\">\n                        {[workItem.assigneeUser, workItem.authorUser].map((user, index) => {\n                            if (!user) return null;\n\n                            const uniqueKey = `${user.id}-${index}`;\n                            const role = index === 0 ? \"Assignee\" : \"Author\";\n                            const tooltip = `${role}: ${user.name || user.username}`;\n\n                            return user.profilePictureUrl ? (\n                                <button\n                                    key={uniqueKey}\n                                    onClick={(e) => {\n                                        e.stopPropagation();\n                                        router.push(`/users/${user.id}`);\n                                    }}\n                                    className=\"relative h-7 w-7 cursor-pointer overflow-hidden rounded-full border-2 border-white ring-1 ring-gray-200 transition-all hover:z-10 hover:ring-2 hover:ring-blue-500 dark:border-dark-secondary dark:ring-gray-700\"\n                                    title={tooltip}\n                                >\n                                    <Image\n                                        src={user.profilePictureUrl ? `/images/${user.profilePictureUrl}` : '/placeholder.png'}\n                                        alt={user.username}\n                                        width={28}\n                                        height={28}\n                                        className=\"h-full w-full object-cover\"\n                                    />\n                                </button>\n                            ) : (\n                                <button\n                                    key={uniqueKey}\n                                    onClick={(e) => {\n                                        e.stopPropagation();\n                                        router.push(`/users/${user.id}`);\n                                    }}\n                                    title={tooltip}\n                                    className=\"relative flex h-7 w-7 cursor-pointer items-center justify-center rounded-full border-2 border-white bg-gradient-to-br from-gray-300 to-gray-400 text-xs font-semibold text-white ring-1 ring-gray-200 transition-all hover:z-10 hover:ring-2 hover:ring-blue-500 dark:border-dark-secondary dark:from-gray-600 dark:to-gray-700 dark:ring-gray-700\"\n                                >\n                                    {(() => {\n                                        if (user.name) {\n                                            const names = user.name.trim().split(\" \").filter(Boolean);\n                                            if (names.length >= 2) {\n                                                return `${names[0][0]}${names[names.length - 1][0]}`.toUpperCase();\n                                            }\n                                            if (names.length === 1 && names[0].length > 0) {\n                                                return names[0][0].toUpperCase();\n                                            }\n                                        }\n                                        if (user.username) {\n                                            return user.username.substring(0, 2).toUpperCase();\n                                        }\n                                        return \"?\";\n                                    })()}\n                                </button>\n                            );\n                        })}\n                    </div>\n\n                    <div className=\"flex items-center gap-3\">\n                        {numberOfAttachments > 0 && (\n                            <div className=\"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400\">\n                                <FileText size={14} />\n                                <span>{numberOfAttachments}</span>\n                            </div>\n                        )}\n                        <button\n                            type=\"button\"\n                            className=\"flex items-center gap-1.5 rounded-md px-2 py-1 text-xs text-gray-500 transition-colors hover:bg-gray-100 hover:text-blue-600 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-blue-400\"\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                onOpenComments(workItem);\n                            }}\n                        >\n                            <MessageSquareMore size={16} />\n                            <span className=\"font-medium\">{numberOfComments}</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default BoardView;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3360, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/BurndownChart/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { WorkItem, Status } from \"@/state/api\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ChartOptions,\r\n} from \"chart.js\";\r\nimport { format, eachDayOfInterval, isAfter, isBefore, isEqual, parseISO } from \"date-fns\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\r\n\r\ntype Props = {\r\n  workItems: WorkItem[];\r\n  startDate?: string;\r\n  endDate?: string;\r\n  isDarkMode?: boolean;\r\n};\r\n\r\n// Helper function to parse date string without timezone conversion\r\n// Extracts the date portion (YYYY-MM-DD) and parses it as a local date\r\nconst parseDateOnly = (dateString: string | undefined): Date | null => {\r\n  if (!dateString) return null;\r\n  try {\r\n    // Extract just the date portion (YYYY-MM-DD) from ISO string\r\n    const dateOnly = dateString.split('T')[0];\r\n    // Parse as local date to avoid timezone conversion\r\n    const [year, month, day] = dateOnly.split('-').map(Number);\r\n    if (isNaN(year) || isNaN(month) || isNaN(day)) return null;\r\n    return new Date(year, month - 1, day);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst BurndownChart: React.FC<Props> = ({ workItems, startDate, endDate, isDarkMode = false }) => {\r\n  const today = new Date();\r\n  // Set today to midnight to avoid timezone issues when comparing\r\n  today.setHours(0, 0, 0, 0);\r\n\r\n  // Determine chart start/end date\r\n  const minDate = useMemo(() => {\r\n    if (startDate) {\r\n      const parsed = parseDateOnly(startDate);\r\n      return parsed || today;\r\n    }\r\n\r\n    const dates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .concat(workItems.map((w) => parseDateOnly(w.estimatedCompletionDate || w.dueDate)))\r\n      .concat(workItems.map((w) => parseDateOnly(w.actualCompletionDate || w.dueDate)))\r\n      .filter((d): d is Date => d !== null);\r\n    \r\n    return dates.length > 0 \r\n      ? new Date(Math.min(...dates.map((d) => d.getTime())))\r\n      : today;\r\n  }, [workItems, startDate, today]);\r\n\r\n  const maxDate = useMemo(() => {\r\n    // If endDate is explicitly provided, use it\r\n    if (endDate) {\r\n      const parsed = parseDateOnly(endDate);\r\n      return parsed || today;\r\n    }\r\n\r\n    // Collect all dates from work items (dueDate, estimatedCompletionDate, actualCompletionDate)\r\n    const dates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .concat(workItems.map((w) => parseDateOnly(w.estimatedCompletionDate || w.dueDate)))\r\n      .concat(workItems.map((w) => parseDateOnly(w.actualCompletionDate || w.dueDate)))\r\n      .filter((d): d is Date => d !== null);\r\n    \r\n    // Get the maximum of all dates\r\n    const max = dates.length > 0 \r\n      ? new Date(Math.max(...dates.map((d) => d.getTime())))\r\n      : today;\r\n    \r\n    // Ensure the max is at least today\r\n    return isAfter(max, today) ? max : today;\r\n  }, [workItems, endDate, today]);\r\n\r\n  const dates = eachDayOfInterval({ start: minDate, end: maxDate }).map((d) => format(d, \"yyyy-MM-dd\"));\r\n\r\n  // Get total number of work items\r\n  const totalItems = workItems.length;\r\n\r\n  // Get the latest due date for baseline calculation\r\n  const latestDueDate = useMemo(() => {\r\n    const dueDates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .filter((d): d is Date => d !== null);\r\n    return dueDates.length > 0 ? new Date(Math.max(...dueDates.map((d) => d.getTime()))) : maxDate;\r\n  }, [workItems, maxDate]);\r\n\r\n  // Helper function to count remaining items for actuals (based on actual completion date or status)\r\n  const getActualsRemaining = (dateStr: string): number => {\r\n    const currentDate = parseDateOnly(dateStr);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      // If item has an actualCompletionDate, use it for precise timing\r\n      if (w.actualCompletionDate) {\r\n        const completionDate = parseDateOnly(w.actualCompletionDate);\r\n        if (!completionDate) return true; // No valid date means still remaining\r\n        // Item is remaining if completion date is after current date\r\n        return isAfter(completionDate, currentDate);\r\n      }\r\n      \r\n      // If no actualCompletionDate, check status\r\n      // If status is Completed, we don't know when it was completed, so we can't accurately track it\r\n      // For items without completion date but marked as completed, we'll assume they're completed\r\n      // This is a limitation - ideally all completed items should have actualCompletionDate\r\n      if (w.status === Status.Completed) {\r\n        // Without a date, we can't know when it was completed, so we'll treat it as completed\r\n        // This means it won't be counted as remaining\r\n        return false;\r\n      }\r\n      \r\n      // Item is still remaining if not completed\r\n      return true;\r\n    }).length;\r\n  };\r\n\r\n  // Helper function to count remaining items for forecast (based on estimated completion date)\r\n  const getForecastRemaining = (dateStr: string): number => {\r\n    const currentDate = parseDateOnly(dateStr);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      const estimatedDate = w.estimatedCompletionDate \r\n        ? parseDateOnly(w.estimatedCompletionDate)\r\n        : w.dueDate \r\n        ? parseDateOnly(w.dueDate)\r\n        : null;\r\n      \r\n      if (!estimatedDate) return true; // No date means still remaining\r\n      \r\n      // Item is remaining if estimated completion date is after current date\r\n      return isAfter(estimatedDate, currentDate);\r\n    }).length;\r\n  };\r\n\r\n  // Calculate baseline: count items with due dates after current date\r\n  // This represents the planned burndown - items remaining based on their due dates\r\n  const baselineLine = dates.map((d) => {\r\n    const currentDate = parseDateOnly(d);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      const dueDate = w.dueDate ? parseDateOnly(w.dueDate) : null;\r\n      if (!dueDate) return true; // Items without due dates are always remaining\r\n      // Item is remaining if due date is after current date\r\n      return isAfter(dueDate, currentDate);\r\n    }).length;\r\n  });\r\n\r\n  // Calculate forecast line: items remaining based on estimated completion dates\r\n  const forecastLine = dates.map((d) => getForecastRemaining(d));\r\n\r\n  // Calculate actuals line: items remaining based on actual completion dates (only up to today)\r\n  const actualsLine = dates.map((d) => {\r\n    const currentDate = parseDateOnly(d);\r\n    if (!currentDate) return null;\r\n    // Only show actuals up to today\r\n    if (isAfter(currentDate, today)) {\r\n      return null;\r\n    }\r\n    return getActualsRemaining(d);\r\n  });\r\n\r\n  const data = {\r\n    labels: dates,\r\n    datasets: [\r\n      {\r\n        label: \"Actuals (Remaining)\",\r\n        data: actualsLine,\r\n        borderColor: \"#66CDAA\",\r\n        backgroundColor: \"rgba(102,205,170,0.2)\",\r\n        fill: true,\r\n        spanGaps: false, // prevents the line from connecting beyond nulls\r\n      },\r\n      {\r\n        label: \"Baseline (Due Date)\",\r\n        data: baselineLine,\r\n        borderColor: \"#FF9500\",\r\n        backgroundColor: \"rgba(255,149,0,0.2)\",\r\n        fill: true,\r\n      },\r\n      {\r\n        label: \"Forecast (Estimated Completion)\",\r\n        data: forecastLine,\r\n        borderColor: \"#6FA8DC\",\r\n        backgroundColor: \"rgba(111, 168, 220, 0.2)\",\r\n        fill: true,\r\n      },\r\n    ],\r\n  };\r\n\r\n    const textColor = isDarkMode ? \"#FFFFFF\" : \"#000000\";\r\n    const gridColor = isDarkMode ? \"#444\" : \"#CCC\";\r\n\r\n    const options: ChartOptions<\"line\"> = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: { \r\n            position: \"top\",\r\n            labels: {\r\n                color: textColor, // legend text\r\n                usePointStyle: true,\r\n            },\r\n            },\r\n            title: { \r\n                display: false, \r\n                text: \"Work Item Burndown Chart\",\r\n                color: textColor, // chart title\r\n            },\r\n            tooltip: {\r\n                mode: \"index\",\r\n                intersect: false,\r\n                backgroundColor: isDarkMode ? \"#222\" : \"#fff\",\r\n                titleColor: textColor,\r\n                bodyColor: textColor,\r\n                borderColor: gridColor,\r\n                borderWidth: 1,\r\n                callbacks: {\r\n                    label: function (tooltipItem) {\r\n                        const datasetLabel = tooltipItem.dataset.label || \"\";\r\n                        const value = tooltipItem.raw === null ? \"â€”\" : tooltipItem.raw;\r\n                        return `${datasetLabel}: ${value}`;\r\n                    },\r\n                },\r\n            },\r\n        },\r\n        interaction: {\r\n            mode: \"index\",\r\n            intersect: false,\r\n        },\r\n        scales: {\r\n            x: {\r\n                title: { display: false, text: \"Date\", color: textColor },\r\n                ticks: { color: textColor },\r\n                grid: { color: gridColor },\r\n            },\r\n            y: {\r\n                beginAtZero: true,\r\n                title: { display: false, text: \"Remaining Work Items\", color: textColor },\r\n                ticks: { color: textColor },\r\n                grid: { color: gridColor },\r\n            },\r\n        },\r\n    };\r\n\r\n\r\n  return <Line data={data} options={options} />;\r\n};\r\n\r\nexport default BurndownChart;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3654, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/parts/BurndownView/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Header from \"@/components/Header\";\r\nimport WorkItemCard from \"@/components/WorkItemCard\";\r\nimport BurndownChart from \"@/components/BurndownChart\";\r\nimport { WorkItem, WorkItemType, useGetWorkItemsByPartQuery } from \"@/state/api\";\r\nimport { useAppSelector } from \"@/app/redux\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { PlusSquare } from \"lucide-react\";\r\n\r\ntype Props = {\r\n  id: string;\r\n  setIsModalNewWorkItemOpen: (isOpen: boolean) => void;\r\n  searchQuery: string;\r\n  includeChildren: boolean;\r\n};\r\n\r\n// Helper function to filter work items based on search query\r\nconst filterWorkItemsBySearch = (workItems: WorkItem[], searchQuery: string) => {\r\n  if (!searchQuery.trim()) return workItems;\r\n  \r\n  const query = searchQuery.toLowerCase();\r\n  return workItems.filter((item) => {\r\n    return (\r\n      item.title?.toLowerCase().includes(query) ||\r\n      item.description?.toLowerCase().includes(query) ||\r\n      item.tags?.toLowerCase().includes(query) ||\r\n      item.workItemType?.toLowerCase().includes(query) ||\r\n      item.status?.toLowerCase().includes(query) ||\r\n      item.priority?.toLowerCase().includes(query)\r\n    );\r\n  });\r\n};\r\n\r\nconst BurndownView = ({ id, setIsModalNewWorkItemOpen, searchQuery, includeChildren }: Props) => {\r\n  const { data: workItems, error, isLoading } = useGetWorkItemsByPartQuery({\r\n    partId: Number(id),\r\n    includeChildren,\r\n  });\r\n  const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\r\n\r\n  const [selectedWorkItemType, setSelectedWorkItemType] = useState<WorkItemType | \"all\">(\"all\");\r\n\r\n  // Filter work items based on search query\r\n  const searchFilteredWorkItems = useMemo(() => {\r\n    return filterWorkItemsBySearch(workItems || [], searchQuery);\r\n  }, [workItems, searchQuery]);\r\n\r\n  // âœ… Filter valid work items with a due date for the chart\r\n  const validWorkItems = useMemo(\r\n    () => (searchFilteredWorkItems ?? []).filter((w) => w.dueDate),\r\n    [searchFilteredWorkItems]\r\n  );\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n  if (error) return <div>An error occurred while fetching work items</div>;\r\n\r\n  // Work Items filtered by Type:\r\n  const filteredWorkItemsForChart = \r\n  selectedWorkItemType === \"all\"\r\n    ? validWorkItems\r\n    : validWorkItems.filter((item) => item.workItemType === selectedWorkItemType);\r\n\r\n  return (\r\n    <div className=\"px-4 pb-8 lg:px-6\">\r\n      {/* ---- Header ---- */}\r\n      <div className=\"pt-5\">\r\n        <Header\r\n          name=\"Work Item Burndown\"\r\n          buttonComponent={\r\n            <button\r\n              className=\"flex items-center rounded bg-blue-primary px-3 py-2 text-white hover:bg-blue-600\"\r\n              onClick={() => setIsModalNewWorkItemOpen(true)}\r\n            >\r\n              <PlusSquare className=\"mr-2 h-5 w-5\" />New Work Item\r\n            </button>\r\n          }\r\n          isSmallText\r\n        />\r\n      </div>\r\n\r\n      {/* ---- Burndown Chart ---- */}\r\n      <div className=\"mt-6 rounded-lg bg-white p-4 shadow dark:bg-dark-secondary\">\r\n        <select\r\n            className=\"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm dark:bg-dark-secondary dark:text-white\"\r\n            value={selectedWorkItemType}\r\n            onChange={(e) => {\r\n                const value = e.target.value as WorkItemType | \"all\";\r\n                setSelectedWorkItemType(value);\r\n            }}\r\n            >\r\n            <option value=\"all\">All Types</option>\r\n            {Object.values(WorkItemType).map((type) => (\r\n                <option key={type} value={type}>\r\n                {type}\r\n                </option>\r\n            ))}\r\n        </select>\r\n        {filteredWorkItemsForChart.length > 0 ? (\r\n          <BurndownChart workItems={filteredWorkItemsForChart} isDarkMode={isDarkMode} />\r\n        ) : (\r\n          <p className=\"text-gray-500 dark:text-gray-300\">\r\n            No work items with valid due dates to display.\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BurndownView;\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;AAiBA,6DAA6D;AAC7D,MAAM,0BAA0B,CAAC,WAAuB;IACtD,IAAI,CAAC,YAAY,IAAI,IAAI,OAAO;IAEhC,MAAM,QAAQ,YAAY,WAAW;IACrC,OAAO,UAAU,MAAM,CAAC,CAAC;YAErB,aACA,mBACA,YACA,oBACA,cACA;QANF,OACE,EAAA,cAAA,KAAK,KAAK,cAAV,kCAAA,YAAY,WAAW,GAAG,QAAQ,CAAC,aACnC,oBAAA,KAAK,WAAW,cAAhB,wCAAA,kBAAkB,WAAW,GAAG,QAAQ,CAAC,aACzC,aAAA,KAAK,IAAI,cAAT,iCAAA,WAAW,WAAW,GAAG,QAAQ,CAAC,aAClC,qBAAA,KAAK,YAAY,cAAjB,yCAAA,mBAAmB,WAAW,GAAG,QAAQ,CAAC,aAC1C,eAAA,KAAK,MAAM,cAAX,mCAAA,aAAa,WAAW,GAAG,QAAQ,CAAC,aACpC,iBAAA,KAAK,QAAQ,cAAb,qCAAA,eAAe,WAAW,GAAG,QAAQ,CAAC;IAE1C;AACF;AAEA,MAAM,eAAe;QAAC,EAAE,EAAE,EAAE,yBAAyB,EAAE,WAAW,EAAE,eAAe,EAAS;;IAC1F,MAAM,EAAE,MAAM,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,oJAA0B,EAAC;QACvE,QAAQ,OAAO;QACf;IACF;IACA,MAAM,aAAa,IAAA,yIAAc;mDAAC,CAAC,QAAU,MAAM,MAAM,CAAC,UAAU;;IAEpE,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,yKAAQ,EAAuB;IAEvF,0CAA0C;IAC1C,MAAM,0BAA0B,IAAA,wKAAO;yDAAC;YACtC,OAAO,wBAAwB,aAAa,EAAE,EAAE;QAClD;wDAAG;QAAC;QAAW;KAAY;IAE3B,0DAA0D;IAC1D,MAAM,iBAAiB,IAAA,wKAAO;gDAC5B,IAAM,CAAC,oCAAA,qCAAA,0BAA2B,EAAE,EAAE,MAAM;wDAAC,CAAC,IAAM,EAAE,OAAO;;+CAC7D;QAAC;KAAwB;IAG3B,IAAI,WAAW,qBAAO,6LAAC;kBAAI;;;;;;IAC3B,IAAI,OAAO,qBAAO,6LAAC;kBAAI;;;;;;IAEvB,+BAA+B;IAC/B,MAAM,4BACN,yBAAyB,QACrB,iBACA,eAAe,MAAM,CAAC,CAAC,OAAS,KAAK,YAAY,KAAK;IAE1D,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,mJAAM;oBACL,MAAK;oBACL,+BACE,6LAAC;wBACC,WAAU;wBACV,SAAS,IAAM,0BAA0B;;0CAEzC,6LAAC,mOAAU;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;oBAG3C,WAAW;;;;;;;;;;;0BAKf,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACG,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC;4BACP,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BAC5B,wBAAwB;wBAC5B;;0CAEA,6LAAC;gCAAO,OAAM;0CAAM;;;;;;4BACnB,OAAO,MAAM,CAAC,sIAAY,EAAE,GAAG,CAAC,CAAC,qBAC9B,6LAAC;oCAAkB,OAAO;8CACzB;mCADY;;;;;;;;;;;oBAKpB,0BAA0B,MAAM,GAAG,kBAClC,6LAAC,0JAAa;wBAAC,WAAW;wBAA2B,YAAY;;;;;iFAEjE,6LAAC;wBAAE,WAAU;kCAAmC;;;;;;;;;;;;;;;;;;AAO1D;GA1EM;;QAC0C,oJAA0B;QAIrD,yIAAc;;;KAL7B;uCA4ES","debugId":null}},
    {"offset": {"line": 3841, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/parts/TimelineView/index.tsx"],"sourcesContent":["import { useAppSelector } from '@/app/redux';\r\nimport { useGetWorkItemsByPartQuery } from '@/state/api';\r\nimport {\r\n  DisplayOption,\r\n  Gantt,\r\n  Task,\r\n  ViewMode\r\n} from \"gantt-task-react\";\r\nimport \"gantt-task-react/dist/index.css\";\r\nimport React, { useMemo, useState } from 'react';\r\nimport { PlusSquare } from \"lucide-react\";\r\n\r\ntype Props = {\r\n  id: string;\r\n  setIsModalNewWorkItemOpen: (isOpen: boolean) => void;\r\n  searchQuery: string;\r\n  includeChildren: boolean;\r\n};\r\n\r\n// Helper function to filter work items based on search query\r\nconst filterWorkItemsBySearch = (workItems: any[], searchQuery: string) => {\r\n  if (!searchQuery.trim()) return workItems;\r\n  \r\n  const query = searchQuery.toLowerCase();\r\n  return workItems.filter((item) => {\r\n    return (\r\n      item.title?.toLowerCase().includes(query) ||\r\n      item.description?.toLowerCase().includes(query) ||\r\n      item.tags?.toLowerCase().includes(query) ||\r\n      item.workItemType?.toLowerCase().includes(query) ||\r\n      item.status?.toLowerCase().includes(query) ||\r\n      item.priority?.toLowerCase().includes(query)\r\n    );\r\n  });\r\n};\r\n\r\nconst Timeline = ({ id, setIsModalNewWorkItemOpen, searchQuery, includeChildren }: Props) => {\r\n  const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\r\n  const { data: workItems, error, isLoading } =\r\n    useGetWorkItemsByPartQuery({ partId: Number(id), includeChildren });\r\n\r\n  const [displayOptions, setDisplayOptions] = useState<DisplayOption>({\r\n    viewMode: ViewMode.Month,\r\n    locale: \"en-US\"\r\n  });\r\n\r\n  // Filter work items based on search query\r\n  const filteredWorkItems = useMemo(() => {\r\n    return filterWorkItemsBySearch(workItems || [], searchQuery);\r\n  }, [workItems, searchQuery]);\r\n\r\n  // âœ… Ensure ganttTasks matches the Task[] interface from gantt-task-react\r\n  const ganttTasks: Task[] = useMemo(() => {\r\n    if (!filteredWorkItems || filteredWorkItems.length === 0) {\r\n      return [];\r\n    }\r\n    \r\n    return filteredWorkItems\r\n      .filter((workItem) => {\r\n        // Only include work items that have both dateOpened and dueDate\r\n        return workItem.dateOpened && workItem.dueDate;\r\n      })\r\n      .map((workItem) => ({\r\n        start: new Date(workItem.dateOpened as string),\r\n        end: new Date(workItem.dueDate as string),\r\n        name: workItem.title,\r\n        id: `${workItem.workItemType}-${workItem.id}`,\r\n        type: \"task\", // must be \"task\" | \"milestone\" | \"project\"\r\n        progress: workItem.percentComplete ?? 0,\r\n        isDisabled: false\r\n      }));\r\n  }, [filteredWorkItems]);\r\n\r\n  const handleViewModeChange = (\r\n    event: React.ChangeEvent<HTMLSelectElement>\r\n  ) => {\r\n    setDisplayOptions((prev) => ({\r\n      ...prev,\r\n      viewMode: event.target.value as ViewMode,\r\n    }));\r\n  };\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n  if (error || !workItems) return <div>An error occurred while fetching work items</div>;\r\n\r\n  // Handle empty state when no work items exist or no work items have valid dates\r\n  if (ganttTasks.length === 0) {\r\n    return (\r\n      <div className=\"px-4 xl:px-6\">\r\n        <div className=\"flex flex-wrap items-center justify-between gap-2 py-5\">\r\n          <h1 className=\"me-2 text-lg font-bold dark:text-white\">\r\n            Work Item Timeline\r\n          </h1>\r\n        </div>\r\n\r\n        <div className=\"overflow-hidden rounded-md bg-white shadow dark:bg-dark-secondary dark:text-white\">\r\n          <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n            <div className=\"mb-4 text-gray-400\">\r\n              <svg className=\"mx-auto h-12 w-12\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"mb-2 text-lg font-medium text-gray-900 dark:text-white\">\r\n              No work items to display\r\n            </h3>\r\n            <p className=\"mb-6 text-gray-500 dark:text-gray-400\">\r\n              {filteredWorkItems && filteredWorkItems.length > 0 \r\n                ? \"Work items exist but don't have valid start/end dates for timeline view.\"\r\n                : \"No work items have been created for this part yet.\"\r\n              }\r\n            </p>\r\n            <button\r\n              className=\"flex items-center rounded bg-blue-primary px-3 py-2 text-white hover:bg-blue-600\"\r\n              onClick={() => setIsModalNewWorkItemOpen(true)}\r\n            >\r\n              <PlusSquare className=\"mr-2 h-5 w-5\" />New Work Item\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"px-4 xl:px-6\">\r\n      <div className=\"flex flex-wrap items-center justify-between gap-2 py-5\">\r\n        <h1 className=\"me-2 text-lg font-bold dark:text-white\">\r\n          Work Item Timeline\r\n        </h1>\r\n        <div className=\"relative inline-block w-64\">\r\n          <select\r\n            className=\"focus:shadow-outline clock w-full appearance-none rounded border border-gray-400 bg-white px-4 py-2 pr-8 leading-tight shadow hover:border-gray-500 focus:outline-none dark:border-dark-secondary dark:bg-dark-secondary dark:text-white\"\r\n            value={displayOptions.viewMode}\r\n            onChange={handleViewModeChange}\r\n          >\r\n            <option value={ViewMode.Day}>Day</option>\r\n            <option value={ViewMode.Week}>Week</option>\r\n            <option value={ViewMode.Month}>Month</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-hidden rounded-md bg-white shadow dark:bg-dark-secondary dark:text-white\">\r\n        <div className=\"timeline\">\r\n          <Gantt\r\n            tasks={ganttTasks} // âœ… correct prop name\r\n            {...displayOptions}\r\n            columnWidth={displayOptions.viewMode === ViewMode.Month ? 150 : 100}\r\n            listCellWidth=\"200px\"\r\n            barBackgroundColor={isDarkMode ? \"#101214\" : \"#aeb8c2\"}\r\n            barBackgroundSelectedColor={isDarkMode ? \"#000\" : \"#9ba1a6\"}\r\n          />\r\n        </div>\r\n        <div className=\"px-4 pb-5 pt-1\">\r\n          <button\r\n            className=\"flex items-center rounded bg-blue-primary px-3 py-2 text-white hover:bg-blue-600\"\r\n            onClick={() => setIsModalNewWorkItemOpen(true)}\r\n          >\r\n            <PlusSquare className=\"mr-2 h-5 w-5\" />New Work Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timeline;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAOA;AACA;;;;;;;;;AASA,6DAA6D;AAC7D,MAAM,0BAA0B,CAAC,WAAkB;IACjD,IAAI,CAAC,YAAY,IAAI,IAAI,OAAO;IAEhC,MAAM,QAAQ,YAAY,WAAW;IACrC,OAAO,UAAU,MAAM,CAAC,CAAC;YAErB,aACA,mBACA,YACA,oBACA,cACA;QANF,OACE,EAAA,cAAA,KAAK,KAAK,cAAV,kCAAA,YAAY,WAAW,GAAG,QAAQ,CAAC,aACnC,oBAAA,KAAK,WAAW,cAAhB,wCAAA,kBAAkB,WAAW,GAAG,QAAQ,CAAC,aACzC,aAAA,KAAK,IAAI,cAAT,iCAAA,WAAW,WAAW,GAAG,QAAQ,CAAC,aAClC,qBAAA,KAAK,YAAY,cAAjB,yCAAA,mBAAmB,WAAW,GAAG,QAAQ,CAAC,aAC1C,eAAA,KAAK,MAAM,cAAX,mCAAA,aAAa,WAAW,GAAG,QAAQ,CAAC,aACpC,iBAAA,KAAK,QAAQ,cAAb,qCAAA,eAAe,WAAW,GAAG,QAAQ,CAAC;IAE1C;AACF;AAEA,MAAM,WAAW;QAAC,EAAE,EAAE,EAAE,yBAAyB,EAAE,WAAW,EAAE,eAAe,EAAS;;IACtF,MAAM,aAAa,IAAA,yIAAc;+CAAC,CAAC,QAAU,MAAM,MAAM,CAAC,UAAU;;IACpE,MAAM,EAAE,MAAM,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,GACzC,IAAA,oJAA0B,EAAC;QAAE,QAAQ,OAAO;QAAK;IAAgB;IAEnE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAgB;QAClE,UAAU,gLAAQ,CAAC,KAAK;QACxB,QAAQ;IACV;IAEA,0CAA0C;IAC1C,MAAM,oBAAoB,IAAA,wKAAO;+CAAC;YAChC,OAAO,wBAAwB,aAAa,EAAE,EAAE;QAClD;8CAAG;QAAC;QAAW;KAAY;IAE3B,yEAAyE;IACzE,MAAM,aAAqB,IAAA,wKAAO;wCAAC;YACjC,IAAI,CAAC,qBAAqB,kBAAkB,MAAM,KAAK,GAAG;gBACxD,OAAO,EAAE;YACX;YAEA,OAAO,kBACJ,MAAM;gDAAC,CAAC;oBACP,gEAAgE;oBAChE,OAAO,SAAS,UAAU,IAAI,SAAS,OAAO;gBAChD;+CACC,GAAG;gDAAC,CAAC;wBAMM;2BANQ;wBAClB,OAAO,IAAI,KAAK,SAAS,UAAU;wBACnC,KAAK,IAAI,KAAK,SAAS,OAAO;wBAC9B,MAAM,SAAS,KAAK;wBACpB,IAAI,AAAC,GAA2B,OAAzB,SAAS,YAAY,EAAC,KAAe,OAAZ,SAAS,EAAE;wBAC3C,MAAM;wBACN,UAAU,CAAA,4BAAA,SAAS,eAAe,cAAxB,uCAAA,4BAA4B;wBACtC,YAAY;oBACd;;;QACJ;uCAAG;QAAC;KAAkB;IAEtB,MAAM,uBAAuB,CAC3B;QAEA,kBAAkB,CAAC,OAAS,CAAC;gBAC3B,GAAG,IAAI;gBACP,UAAU,MAAM,MAAM,CAAC,KAAK;YAC9B,CAAC;IACH;IAEA,IAAI,WAAW,qBAAO,6LAAC;kBAAI;;;;;;IAC3B,IAAI,SAAS,CAAC,WAAW,qBAAO,6LAAC;kBAAI;;;;;;IAErC,gFAAgF;IAChF,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;;;;;;8BAKzD,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;oCAAoB,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAC3E,cAAA,6LAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;0CAGzE,6LAAC;gCAAG,WAAU;0CAAyD;;;;;;0CAGvE,6LAAC;gCAAE,WAAU;0CACV,qBAAqB,kBAAkB,MAAM,GAAG,IAC7C,6EACA;;;;;;0CAGN,6LAAC;gCACC,WAAU;gCACV,SAAS,IAAM,0BAA0B;;kDAEzC,6LAAC,mOAAU;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;;;;;;;;;;;;IAMnD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;kCAGvD,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,WAAU;4BACV,OAAO,eAAe,QAAQ;4BAC9B,UAAU;;8CAEV,6LAAC;oCAAO,OAAO,gLAAQ,CAAC,GAAG;8CAAE;;;;;;8CAC7B,6LAAC;oCAAO,OAAO,gLAAQ,CAAC,IAAI;8CAAE;;;;;;8CAC9B,6LAAC;oCAAO,OAAO,gLAAQ,CAAC,KAAK;8CAAE;;;;;;;;;;;;;;;;;;;;;;;0BAKrC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,6KAAK;4BACJ,OAAO;4BACN,GAAG,cAAc;4BAClB,aAAa,eAAe,QAAQ,KAAK,gLAAQ,CAAC,KAAK,GAAG,MAAM;4BAChE,eAAc;4BACd,oBAAoB,aAAa,YAAY;4BAC7C,4BAA4B,aAAa,SAAS;;;;;;;;;;;kCAGtD,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,WAAU;4BACV,SAAS,IAAM,0BAA0B;;8CAEzC,6LAAC,mOAAU;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAMnD;GAhIM;;QACe,yIAAc;QAE/B,oJAA0B;;;KAHxB;uCAkIS","debugId":null}},
    {"offset": {"line": 4183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/lib/utils.ts"],"sourcesContent":["export const dataGridClassNames =\r\n  \"border border-gray-200 bg-white shadow dark:border-stroke-dark dark:bg-dark-secondary dark:text-gray-200\";\r\n\r\nexport const dataGridSxStyles = (isDarkMode: boolean) => {\r\n  return {\r\n    \"& .MuiDataGrid-columnHeaders\": {\r\n      color: `${isDarkMode ? \"#e5e7eb\" : \"\"}`,\r\n      '& [role=\"row\"] > *': {\r\n        backgroundColor: `${isDarkMode ? \"#1d1f21\" : \"white\"}`,\r\n        borderColor: `${isDarkMode ? \"#2d3135\" : \"\"}`,\r\n      },\r\n    },\r\n    \"& .MuiIconbutton-root\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiTablePagination-root\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiTablePagination-selectIcon\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiDataGrid-cell\": {\r\n      border: \"none\",\r\n    },\r\n    \"& .MuiDataGrid-row\": {\r\n      borderBottom: `1px solid ${isDarkMode ? \"#2d3135\" : \"e5e7eb\"}`,\r\n      \"&:hover\": {\r\n        backgroundColor: `${isDarkMode ? \"#2d3135\" : \"#f3f4f6\"}`,\r\n      },\r\n    },\r\n    \"& .MuiDataGrid-withBorderColor\": {\r\n      borderColor: `${isDarkMode ? \"#2d3135\" : \"e5e7eb\"}`,\r\n    },\r\n  };\r\n};"],"names":[],"mappings":";;;;;;AAAO,MAAM,qBACX;AAEK,MAAM,mBAAmB,CAAC;IAC/B,OAAO;QACL,gCAAgC;YAC9B,OAAO,AAAC,GAA8B,OAA5B,aAAa,YAAY;YACnC,sBAAsB;gBACpB,iBAAiB,AAAC,GAAmC,OAAjC,aAAa,YAAY;gBAC7C,aAAa,AAAC,GAA8B,OAA5B,aAAa,YAAY;YAC3C;QACF;QACA,yBAAyB;YACvB,OAAO,AAAC,GAA8B,OAA5B,aAAa,YAAY;QACrC;QACA,8BAA8B;YAC5B,OAAO,AAAC,GAA8B,OAA5B,aAAa,YAAY;QACrC;QACA,oCAAoC;YAClC,OAAO,AAAC,GAA8B,OAA5B,aAAa,YAAY;QACrC;QACA,uBAAuB;YACrB,QAAQ;QACV;QACA,sBAAsB;YACpB,cAAc,AAAC,aAA8C,OAAlC,aAAa,YAAY;YACpD,WAAW;gBACT,iBAAiB,AAAC,GAAqC,OAAnC,aAAa,YAAY;YAC/C;QACF;QACA,kCAAkC;YAChC,aAAa,AAAC,GAAoC,OAAlC,aAAa,YAAY;QAC3C;IACF;AACF","debugId":null}},
    {"offset": {"line": 4229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/parts/TableView/index.tsx"],"sourcesContent":["import { useAppSelector } from \"@/app/redux\";\r\nimport Header from \"@/components/Header\";\r\nimport { dataGridClassNames, dataGridSxStyles } from \"@/lib/utils\";\r\nimport { useGetWorkItemsByPartQuery, WorkItemType, Status, Priority, WorkItem } from \"@/state/api\";\r\nimport { DataGrid, GridColDef } from \"@mui/x-data-grid\";\r\nimport React from \"react\";\r\nimport ModalEditWorkItem from \"@/components/ModalEditWorkItem\";\r\nimport { PlusSquare } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype Props = {\r\n  id: string;\r\n  setIsModalNewWorkItemOpen: (isOpen: boolean) => void;\r\n  searchQuery: string;\r\n  includeChildren: boolean;\r\n};\r\n\r\n// Helper function to filter work items based on search query\r\nconst filterWorkItemsBySearch = (workItems: WorkItem[], searchQuery: string) => {\r\n  if (!searchQuery.trim()) return workItems;\r\n  \r\n  const query = searchQuery.toLowerCase();\r\n  return workItems.filter((item) => {\r\n    return (\r\n      item.title?.toLowerCase().includes(query) ||\r\n      item.description?.toLowerCase().includes(query) ||\r\n      item.tags?.toLowerCase().includes(query) ||\r\n      item.workItemType?.toLowerCase().includes(query) ||\r\n      item.status?.toLowerCase().includes(query) ||\r\n      item.priority?.toLowerCase().includes(query)\r\n    );\r\n  });\r\n};\r\n\r\nconst getStatusColor = (status: Status) => {\r\n  switch (status) {\r\n    case Status.ToDo:\r\n      return \"bg-gray-100 text-gray-800\";\r\n    case Status.WorkInProgress:\r\n      return \"bg-blue-100 text-blue-800\";\r\n    case Status.UnderReview:\r\n      return \"bg-yellow-100 text-yellow-800\";\r\n    case Status.Completed:\r\n      return \"bg-green-100 text-green-800\";\r\n    default:\r\n      return \"bg-gray-100 text-gray-800\";\r\n  }\r\n};\r\n\r\nconst getPriorityColor = (priority: Priority) => {\r\n  switch (priority) {\r\n    case Priority.Urgent:\r\n      return \"bg-red-100 text-red-800\";\r\n    case Priority.High:\r\n      return \"bg-orange-100 text-orange-800\";\r\n    case Priority.Medium:\r\n      return \"bg-yellow-100 text-yellow-800\";\r\n    case Priority.Low:\r\n      return \"bg-green-100 text-green-800\";\r\n    case Priority.Backlog:\r\n      return \"bg-gray-100 text-gray-800\";\r\n    default:\r\n      return \"bg-gray-100 text-gray-800\";\r\n  }\r\n};\r\n\r\nconst formatDate = (dateString: string) => {\r\n  if (!dateString) return \"N/A\";\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString();\r\n};\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: \"workItemType\",\r\n    headerName: \"Type\",\r\n    width: 120,\r\n    renderCell: (params) => (\r\n      <span className=\"inline-flex rounded-full bg-purple-100 px-2 text-xs font-semibold leading-5 text-purple-800\">\r\n        {params.value}\r\n      </span>\r\n    ),\r\n  },\r\n  {\r\n    field: \"title\",\r\n    headerName: \"Title\",\r\n    minWidth: 250,\r\n    flex: 2,\r\n  },\r\n  {\r\n    field: \"description\",\r\n    headerName: \"Description\",\r\n    minWidth: 300,\r\n    flex: 2,\r\n  },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 140,\r\n    renderCell: (params) => (\r\n      <span className={`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${getStatusColor(params.value)}`}>\r\n        {params.value}\r\n      </span>\r\n    ),\r\n  },\r\n  {\r\n    field: \"priority\",\r\n    headerName: \"Priority\",\r\n    width: 110,\r\n    renderCell: (params) => (\r\n      <span className={`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${getPriorityColor(params.value)}`}>\r\n        {params.value}\r\n      </span>\r\n    ),\r\n  },\r\n  {\r\n    field: \"tags\",\r\n    headerName: \"Tags\",\r\n    width: 150,\r\n    renderCell: (params) => params.value || \"N/A\",\r\n  },\r\n  {\r\n    field: \"dateOpened\",\r\n    headerName: \"Date Opened\",\r\n    width: 120,\r\n    renderCell: (params) => formatDate(params.value),\r\n  },\r\n  {\r\n    field: \"dueDate\",\r\n    headerName: \"Due Date\",\r\n    width: 120,\r\n    renderCell: (params) => {\r\n      const dateStr = formatDate(params.value);\r\n      const isPastDue = params.value && new Date(params.value) < new Date();\r\n      const isNotCompleted = params.row.status !== Status.Completed;\r\n      const shouldHighlight = isPastDue && isNotCompleted;\r\n      \r\n      return (\r\n        <span className={shouldHighlight ? \"text-red-600 font-semibold\" : \"\"}>\r\n          {dateStr}\r\n        </span>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"estimatedCompletionDate\",\r\n    headerName: \"ECD\",\r\n    width: 130,\r\n    renderCell: (params) => {\r\n      const dateStr = formatDate(params.value);\r\n      const isPastDue = params.value && new Date(params.value) < new Date();\r\n      const isNotCompleted = params.row.status !== Status.Completed;\r\n      const shouldHighlight = isPastDue && isNotCompleted;\r\n      \r\n      return (\r\n        <span className={shouldHighlight ? \"text-red-600 font-semibold\" : \"\"}>\r\n          {dateStr}\r\n        </span>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"actualCompletionDate\",\r\n    headerName: \"Actual Completion\",\r\n    width: 140,\r\n    renderCell: (params) => formatDate(params.value),\r\n  },\r\n  {\r\n    field: \"percentComplete\",\r\n    headerName: \"% Complete\",\r\n    width: 110,\r\n    renderCell: (params) => (\r\n      <span className=\"font-medium\">{params.value ?? 0}%</span>\r\n    ),\r\n  },\r\n  {\r\n    field: \"inputStatus\",\r\n    headerName: \"Input Status\",\r\n    width: 130,\r\n    renderCell: (params) => params.value || \"N/A\",\r\n  },\r\n  {\r\n    field: \"program\",\r\n    headerName: \"Program\",\r\n    width: 150,\r\n    renderCell: (params) => params.value?.name || \"N/A\",\r\n  },\r\n  {\r\n    field: \"dueByMilestone\",\r\n    headerName: \"Milestone\",\r\n    width: 150,\r\n    renderCell: (params) => params.value?.name || \"N/A\",\r\n  },\r\n  {\r\n    field: \"authorUser\",\r\n    headerName: \"Author\",\r\n    width: 150,\r\n    renderCell: (params) => params.value?.name || \"Unknown\",\r\n  },\r\n  {\r\n    field: \"assigneeUser\",\r\n    headerName: \"Assignee\",\r\n    width: 150,\r\n    renderCell: (params) => params.value?.name || \"Unassigned\",\r\n  },\r\n  {\r\n    field: \"issueDetail\",\r\n    headerName: \"Issue Type\",\r\n    width: 180,\r\n    renderCell: (params) => {\r\n      if (params.row.workItemType === WorkItemType.Issue && params.value) {\r\n        return (\r\n          <span className=\"inline-flex rounded-full bg-red-100 px-2 text-xs font-semibold leading-5 text-red-800\">\r\n            {params.value.issueType}\r\n          </span>\r\n        );\r\n      }\r\n      return \"N/A\";\r\n    },\r\n  },\r\n  {\r\n    field: \"rootCause\",\r\n    headerName: \"Root Cause\",\r\n    width: 200,\r\n    flex: 1,\r\n    renderCell: (params) => {\r\n      if (params.row.workItemType === WorkItemType.Issue && params.row.issueDetail) {\r\n        return (\r\n          <span className=\"text-xs\">\r\n            {params.row.issueDetail.rootCause || \"N/A\"}\r\n          </span>\r\n        );\r\n      }\r\n      return \"N/A\";\r\n    },\r\n  },\r\n  {\r\n    field: \"correctiveAction\",\r\n    headerName: \"Corrective Action\",\r\n    width: 200,\r\n    flex: 1,\r\n    renderCell: (params) => {\r\n      if (params.row.workItemType === WorkItemType.Issue && params.row.issueDetail) {\r\n        return (\r\n          <span className=\"text-xs\">\r\n            {params.row.issueDetail.correctiveAction || \"N/A\"}\r\n          </span>\r\n        );\r\n      }\r\n      return \"N/A\";\r\n    },\r\n  },\r\n  {\r\n    field: \"deliverableDetail\",\r\n    headerName: \"Deliverable Type\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      if (params.row.workItemType === WorkItemType.Deliverable && params.value) {\r\n        return (\r\n          <span className=\"text-xs\">\r\n            {params.value.deliverableType}\r\n          </span>\r\n        );\r\n      }\r\n      return \"N/A\";\r\n    },\r\n  },\r\n];\r\n\r\nconst TableView = ({ id, setIsModalNewWorkItemOpen, searchQuery, includeChildren }: Props) => {\r\n  const router = useRouter();\r\n  const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\r\n  const [workItemFilter, setWorkItemFilter] = React.useState<\"all\" | \"open\">(\"all\");\r\n  const [editingWorkItem, setEditingWorkItem] = React.useState<WorkItem | null>(null);\r\n  \r\n  const {\r\n    data: workItems,\r\n    error,\r\n    isLoading,\r\n  } = useGetWorkItemsByPartQuery({ partId: Number(id), includeChildren });\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n  if (error || !workItems) return <div>An error occurred while fetching work items</div>;\r\n\r\n  // Filter work items based on the toggle and search query\r\n  let filteredWorkItems = workItemFilter === \"open\"\r\n    ? workItems.filter((item) => item.status !== Status.Completed)\r\n    : workItems;\r\n  \r\n  // Apply search filter\r\n  filteredWorkItems = filterWorkItemsBySearch(filteredWorkItems, searchQuery);\r\n\r\n  return (\r\n    <div className=\"h-[calc(100vh-250px)] w-full px-4 pb-8 xl:px-6\">\r\n      {editingWorkItem && (\r\n        <ModalEditWorkItem\r\n          isOpen={!!editingWorkItem}\r\n          onClose={() => setEditingWorkItem(null)}\r\n          workItem={editingWorkItem}\r\n        />\r\n      )}\r\n      <div className=\"pt-5\">\r\n        <div className=\"mb-4 flex items-center justify-between\">\r\n          {/* Work Item Status Toggle */}\r\n          <div className=\"flex items-center gap-2 rounded-lg border border-gray-300 bg-gray-50 p-1 dark:border-gray-600 dark:bg-dark-tertiary\">\r\n            <button\r\n              onClick={() => setWorkItemFilter(\"all\")}\r\n              className={`rounded-md px-4 py-2 text-sm font-medium transition-colors ${\r\n                workItemFilter === \"all\"\r\n                  ? \"bg-white text-blue-600 shadow-sm dark:bg-dark-secondary dark:text-blue-400\"\r\n                  : \"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200\"\r\n              }`}\r\n            >\r\n              All Work Items\r\n            </button>\r\n            <button\r\n              onClick={() => setWorkItemFilter(\"open\")}\r\n              className={`rounded-md px-4 py-2 text-sm font-medium transition-colors ${\r\n                workItemFilter === \"open\"\r\n                  ? \"bg-white text-blue-600 shadow-sm dark:bg-dark-secondary dark:text-blue-400\"\r\n                  : \"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200\"\r\n              }`}\r\n            >\r\n              Open Work Items\r\n            </button>\r\n          </div>\r\n          \r\n          <button\r\n            className=\"flex items-center rounded bg-blue-primary px-3 py-2 text-white hover:bg-blue-600\"\r\n            onClick={() => setIsModalNewWorkItemOpen(true)}\r\n          >\r\n            <PlusSquare className=\"mr-2 h-5 w-5\" />New Work Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <DataGrid\r\n        rows={filteredWorkItems || []}\r\n        columns={columns}\r\n        className={dataGridClassNames}\r\n        showToolbar\r\n        sx={dataGridSxStyles(isDarkMode)}\r\n        autoHeight={false}\r\n        pagination\r\n        pageSizeOptions={[10, 25, 50, 100]}\r\n        initialState={{\r\n          pagination: {\r\n            paginationModel: { pageSize: 25 },\r\n          },\r\n          sorting: {\r\n            sortModel: [{ field: 'dueDate', sort: 'asc' }],\r\n          },\r\n        }}\r\n        disableRowSelectionOnClick\r\n        getRowId={(row) => row.id}\r\n        onRowClick={(params) => router.push(`/work-items/${params.row.id}`)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableView;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4706, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/ModalNewWorkItem/index.tsx"],"sourcesContent":["import Modal from '@/components/Modal';\nimport {\n  Priority,\n  Status,\n  StatusLabels,\n  WorkItemType,\n  useCreateWorkItemMutation,\n  WorkItemCreateInput,\n  useGetPartsQuery,\n  useGetUsersQuery,\n  useGetProgramsQuery,\n  useGetMilestonesQuery,\n  useGetDeliverableTypesQuery,\n  useGetIssueTypesQuery,\n  DeliverableTypeLabels,\n  IssueTypeLabels,\n} from '@/state/api';\nimport React, { useState } from 'react';\nimport { formatISO } from 'date-fns';\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n  id?: string | null;\n  workItemType?: WorkItemType;\n};\n\nconst ModalNewWorkItem = ({\n  isOpen,\n  onClose,\n  id = null,\n  workItemType: initialWorkItemType = WorkItemType.Task,\n}: Props) => {\n  const { data: parts = [], isLoading: partsLoading } = useGetPartsQuery();\n  const { data: users = [], isLoading: usersLoading } = useGetUsersQuery();\n  const { data: programs = [], isLoading: programsLoading } = useGetProgramsQuery();\n  const { data: milestones = [], isLoading: milestonesLoading } = useGetMilestonesQuery();\n  const { data: deliverableTypes = [] } = useGetDeliverableTypesQuery();\n  const { data: issueTypes = [] } = useGetIssueTypesQuery();\n  const [createWorkItem, { isLoading }] = useCreateWorkItemMutation();\n  const [workItemType, setWorkItemType] = useState<WorkItemType | \"\">(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [status, setStatus] = useState<Status | \"\">(\"\");\n  const [priority, setPriority] = useState<Priority | \"\">(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [dateOpened, setDateOpened] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [estimatedCompletionDate, setEstimatedCompletionDate] = useState(\"\");\n  const [actualCompletionDate, setActualCompletionDate] = useState(\"\");\n  const [percentComplete, setPercentComplete] = useState<number>(0);\n  const [inputStatus, setInputStatus] = useState(\"\");\n  const [partIds, setPartIds] = useState<number[]>([]);\n  const [programId, setProgramId] = useState(\"\");\n  const [dueByMilestoneId, setDueByMilestoneId] = useState(\"\");\n  const [authorUserId, setAuthorUserId] = useState(\"\");\n  const [assignedUserId, setAssignedUserId] = useState(\"\");\n\n  // Subtype fields\n  const [issueType, setIssueType] = useState<string>(\"\");\n  const [rootCause, setRootCause] = useState(\"\");\n  const [correctiveAction, setCorrectiveAction] = useState(\"\");\n  const [deliverableType, setDeliverableType] = useState<string>(\"\");\n\n  const handleSubmit = async () => {\n    if (!isFormValid()) return;\n\n    const formattedDateOpened = formatISO(new Date(dateOpened), { representation: 'complete' });\n    const formattedDueDate = formatISO(new Date(dueDate), { representation: 'complete' });\n    const formattedEstimatedCompletionDate = formatISO(new Date(estimatedCompletionDate), { representation: 'complete' });\n    const formattedActualCompletionDate = actualCompletionDate\n      ? formatISO(new Date(actualCompletionDate), { representation: 'complete' })\n      : undefined;\n\n\n    const payload: WorkItemCreateInput = {\n      workItemType: workItemType as WorkItemType,\n      title,\n      description,\n      status: status as Status,\n      priority: priority as Priority,\n      tags,\n      dateOpened: formattedDateOpened,\n      dueDate: formattedDueDate,\n      estimatedCompletionDate: formattedEstimatedCompletionDate,\n      actualCompletionDate: formattedActualCompletionDate,\n      percentComplete,\n      inputStatus,\n      programId: parseInt(programId),\n      dueByMilestoneId: parseInt(dueByMilestoneId),\n      authorUserId: authorUserId,\n      assignedUserId: assignedUserId,\n    };\n\n    if (partIds.length > 0) {\n      payload.partIds = partIds;\n    }\n\n    // Add subtype-specific data\n    if (workItemType === WorkItemType.Issue && issueType) {\n      payload.issueDetail = {\n        issueType: issueType, // Send type name as string\n      };\n      if (rootCause) payload.issueDetail.rootCause = rootCause;\n      if (correctiveAction) payload.issueDetail.correctiveAction = correctiveAction;\n    } else if (workItemType === WorkItemType.Deliverable && deliverableType) {\n      payload.deliverableDetail = {\n        deliverableType: deliverableType, // Send type name as string\n      };\n    }\n\n    try {\n      await createWorkItem(payload).unwrap();\n      onClose(); // close modal on success\n    } catch (err) {\n    console.error(\"Failed to create work item:\", err);\n    }\n  };\n\n  const isFormValid = (): boolean => {\n    const baseValid =\n      !!workItemType &&\n      !!title &&\n      !!description &&\n      !!status &&\n      !!priority &&\n      !!dateOpened &&\n      !!dueDate &&\n      !!estimatedCompletionDate &&\n      percentComplete >= 0 &&\n      !!inputStatus &&\n      !!programId &&\n      !!dueByMilestoneId &&\n      !!authorUserId &&\n      !!assignedUserId;\n\n    if (workItemType === WorkItemType.Issue) {\n      return baseValid && !!issueType;\n    }\n\n    if (workItemType === WorkItemType.Deliverable) {\n      return baseValid && !!deliverableType;\n    }\n\n    return baseValid;\n  };\n\n\n  const selectStyles =\n    \"mb-4 block w-full rounded border border-gray-300 px-3 py-2 dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  const inputStyles =\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} name={\"Create New Work Item\"}>\n      <form\n        className=\"mt-4 space-y-6\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        <select\n          className={selectStyles}\n          value={workItemType}\n          onChange={(e) =>\n            setWorkItemType(\n              e.target.value\n                ? (WorkItemType[e.target.value as keyof typeof WorkItemType])\n                : \"\"\n            )\n          }\n        >\n          <option value=\"\">Select Work Item Type</option>\n          {Object.values(WorkItemType).map((type) => (\n            <option key={type} value={type}>\n              {type}\n            </option>\n          ))}\n        </select>\n\n        {/* Subtype fields */}\n        {workItemType === WorkItemType.Issue && (\n          <select\n            className={selectStyles}\n            value={issueType}\n            onChange={(e) => setIssueType(e.target.value)}\n          >\n            <option value=\"\">Select Issue Type</option>\n            {issueTypes.map((type) => (\n                <option key={type.id} value={type.name}>\n                  {IssueTypeLabels[type.name] || type.name}\n                </option>\n              ))}\n          </select>\n        )}\n\n        {workItemType === WorkItemType.Deliverable && (\n          <select\n            className={selectStyles}\n            value={deliverableType}\n            onChange={(e) => setDeliverableType(e.target.value)}\n          >\n            <option value=\"\">Select Deliverable Type</option>\n            {deliverableTypes.map((type) => (\n              <option key={type.id} value={type.name}>\n                {DeliverableTypeLabels[type.name] || type.name}\n              </option>\n            ))}\n          </select>\n        )}\n        \n        <input\n          type=\"text\"\n          className={inputStyles}\n          placeholder=\"Title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <textarea\n          className={inputStyles}\n          placeholder=\"Description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n\n        {workItemType === WorkItemType.Issue && (\n          <>\n            <textarea\n              className={inputStyles}\n              placeholder=\"Root Cause\"\n              value={rootCause}\n              onChange={(e) => setRootCause(e.target.value)}\n            />\n            <textarea\n              className={inputStyles}\n              placeholder=\"Corrective Action\"\n              value={correctiveAction}\n              onChange={(e) => setCorrectiveAction(e.target.value)}\n            />\n          </>\n        )}\n\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n          <select\n            className={selectStyles}\n            value={status}\n            onChange={(e) => setStatus(e.target.value as Status)}\n          >\n            <option value=\"\">Select Status</option>\n            {Object.values(Status).map((s) => (\n              <option key={s} value={s}>\n                {StatusLabels[s]}\n              </option>\n            ))}\n          </select>\n          <select\n            className={selectStyles}\n            value={priority}\n            onChange={(e) => setPriority(e.target.value as Priority)}\n          >\n            <option value=\"\">Select Priority</option>\n            <option value={Priority.Urgent}>Urgent</option>\n            <option value={Priority.High}>High</option>\n            <option value={Priority.Medium}>Medium</option>\n            <option value={Priority.Low}>Low</option>\n            <option value={Priority.Backlog}>Backlog</option>\n          </select>\n        </div>\n        <input\n          type=\"text\"\n          className={inputStyles}\n          placeholder=\"Tags (comma separated)\"\n          value={tags}\n          onChange={(e) => setTags(e.target.value)}\n        />\n\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Date Opened:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={dateOpened}\n              onChange={(e) => setDateOpened(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Due Date:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={dueDate}\n              onChange={(e) => setDueDate(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Estimated Completion:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={estimatedCompletionDate}\n              onChange={(e) => setEstimatedCompletionDate(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Actual Completion:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={actualCompletionDate}\n              onChange={(e) => setActualCompletionDate(e.target.value)}\n            />\n          </div>\n        </div>\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n            Percent Complete:\n          </label>\n          <input\n            type=\"number\"\n            className={inputStyles}\n            value={percentComplete}\n            onChange={(e) => setPercentComplete(Number(e.target.value))}\n            min={0}\n            max={100}\n          />\n        </div>\n        <input\n          type=\"text\"\n          className={inputStyles}\n          placeholder=\"Current Status\"\n          value={inputStatus}\n          onChange={(e) => setInputStatus(e.target.value)}\n        />\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n            Affected Part(s):\n          </label>\n          <select\n            multiple\n            className={inputStyles}\n            value={partIds.map(String)}\n            onChange={(e) => {\n              const selectedOptions = Array.from(e.target.selectedOptions);\n              const ids = selectedOptions.map((opt) => Number(opt.value));\n              setPartIds(ids);\n            }}\n            disabled={partsLoading}\n          >\n            {parts?.map((part) => (\n              <option key={part.id} value={part.id}>\n                {part.partName} ({part.code})\n              </option>\n            ))}\n          </select>\n          <p className=\"mt-1 text-xs text-gray-600 dark:text-gray-300\">\n            Hold <kbd>Ctrl</kbd> (Windows) or <kbd>Cmd</kbd> (Mac) to select multiple.\n          </p>\n        </div>\n        <select\n          className={inputStyles}\n          value={programId}\n          onChange={(e) => setProgramId(e.target.value)}\n          disabled={programsLoading}\n        >\n          <option value=\"\">Select Program</option>\n          {programs.map((program) => (\n            <option key={program.id} value={program.id}>\n            {program.name}\n            </option>\n          ))}\n        </select>\n        <select\n          className={inputStyles}\n          value={dueByMilestoneId}\n          onChange={(e) => setDueByMilestoneId(e.target.value)}\n          disabled={milestonesLoading}\n        >\n          <option value=\"\">Select Milestone</option>\n          {milestones.map((milestone) => (\n              <option key={milestone.id} value={milestone.id}>\n              {milestone.name}\n              </option>\n          ))}\n        </select>\n        <select\n          className={inputStyles}\n          value={authorUserId}\n          onChange={(e) => setAuthorUserId(e.target.value)}\n          disabled={usersLoading}\n        >\n          <option value=\"\">Select Author User</option>\n          {users.map((user) => (\n              <option key={user.id} value={user.id}>\n              {user.name} ({user.username})\n              </option>\n          ))}\n        </select>\n        <select\n          className={inputStyles}\n          value={assignedUserId}\n          onChange={(e) => setAssignedUserId(e.target.value)}\n          disabled={usersLoading}\n        >\n          <option value=\"\">Select Assigned User</option>\n          {users.map((user) => (\n              <option key={user.id} value={user.id}>\n              {user.name} ({user.username})\n              </option>\n          ))}\n        </select>\n        \n\n        <button\n          type=\"submit\"\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\n            !isFormValid() || isLoading ? \"cursor-not-allowed opacity-50\" : \"\"\n          }`}\n          disabled={!isFormValid() || isLoading}\n        >\n          {isLoading ? `Creating ${workItemType}...` : `Create Work Item ${workItemType}`}\n        </button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default ModalNewWorkItem;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5450, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/parts/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useGetPartsQuery } from \"@/state/api\";\r\nimport React, { useState } from 'react';\r\nimport PartHeader from \"@/app/parts/PartHeader\";\r\nimport Board from '../BoardView';\r\nimport Burndown from '../BurndownView';\r\nimport Timeline from '../TimelineView';\r\nimport Table from '../TableView';\r\nimport ModalNewWorkItem from '@/components/ModalNewWorkItem';\r\n\r\ntype Props = {\r\n    params: Promise<{id: string}>;\r\n};\r\n\r\nconst Part = ({ params }: Props) => {\r\n    const { id } = React.use(params);\r\n    const [activeTab, setActiveTab] = useState(\"Board\");\r\n    const [isModalNewWorkItemOpen, setIsModalNewWorkItemOpen] = useState(false);\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [includeChildren, setIncludeChildren] = useState(false);\r\n\r\n    // Fetch all parts to find the requested part\r\n    const { data: allParts = [], isLoading } = useGetPartsQuery();\r\n    const activePart = allParts.find((p) => p.id === Number(id));\r\n\r\n    // Optional: handle loading / not found cases\r\n    if (isLoading) return <div className=\"p-4 text-gray-500\">Loading parts...</div>;\r\n    if (!activePart) return <div className=\"p-4 text-red-500\">Part not found.</div>;\r\n\r\n    return (\r\n        <div>\r\n            <ModalNewWorkItem\r\n                isOpen={isModalNewWorkItemOpen}\r\n                onClose={() => setIsModalNewWorkItemOpen(false)}\r\n                id={id}\r\n            />\r\n            <PartHeader \r\n                activeTab={activeTab} \r\n                setActiveTab={setActiveTab} \r\n                activePart={activePart}\r\n                searchQuery={searchQuery}\r\n                setSearchQuery={setSearchQuery}\r\n                includeChildren={includeChildren}\r\n                setIncludeChildren={setIncludeChildren}\r\n            />\r\n            { activeTab === \"Board\" && (\r\n                <Board\r\n                    id={id}\r\n                    setIsModalNewWorkItemOpen={setIsModalNewWorkItemOpen}\r\n                    searchQuery={searchQuery}\r\n                    includeChildren={includeChildren}\r\n                />\r\n            )}\r\n            { activeTab === \"Burndown\" && (\r\n                <Burndown\r\n                    id={id}\r\n                    setIsModalNewWorkItemOpen={setIsModalNewWorkItemOpen}\r\n                    searchQuery={searchQuery}\r\n                    includeChildren={includeChildren}\r\n                />\r\n            )}\r\n            { activeTab === \"Timeline\" && (\r\n                <Timeline\r\n                    id={id}\r\n                    setIsModalNewWorkItemOpen={setIsModalNewWorkItemOpen}\r\n                    searchQuery={searchQuery}\r\n                    includeChildren={includeChildren}\r\n                />\r\n            )}\r\n            { activeTab === \"Table\" && (\r\n                <Table\r\n                    id={id}\r\n                    setIsModalNewWorkItemOpen={setIsModalNewWorkItemOpen}\r\n                    searchQuery={searchQuery}\r\n                    includeChildren={includeChildren}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Part;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAeA,MAAM,OAAO;QAAC,EAAE,MAAM,EAAS;;IAC3B,MAAM,EAAE,EAAE,EAAE,GAAG,wKAAK,CAAC,GAAG,CAAC;IACzB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,IAAA,yKAAQ,EAAC;IACrE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IAEvD,6CAA6C;IAC7C,MAAM,EAAE,MAAM,WAAW,EAAE,EAAE,SAAS,EAAE,GAAG,IAAA,0IAAgB;IAC3D,MAAM,aAAa,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO;IAExD,6CAA6C;IAC7C,IAAI,WAAW,qBAAO,6LAAC;QAAI,WAAU;kBAAoB;;;;;;IACzD,IAAI,CAAC,YAAY,qBAAO,6LAAC;QAAI,WAAU;kBAAmB;;;;;;IAE1D,qBACI,6LAAC;;0BACG,6LAAC,6JAAgB;gBACb,QAAQ;gBACR,SAAS,IAAM,0BAA0B;gBACzC,IAAI;;;;;;0BAER,6LAAC,gJAAU;gBACP,WAAW;gBACX,cAAc;gBACd,YAAY;gBACZ,aAAa;gBACb,gBAAgB;gBAChB,iBAAiB;gBACjB,oBAAoB;;;;;;YAEtB,cAAc,yBACZ,6LAAC,wJAAK;gBACF,IAAI;gBACJ,2BAA2B;gBAC3B,aAAa;gBACb,iBAAiB;;;;;;YAGvB,cAAc,4BACZ,6LAAC,2JAAQ;gBACL,IAAI;gBACJ,2BAA2B;gBAC3B,aAAa;gBACb,iBAAiB;;;;;;YAGvB,cAAc,4BACZ,6LAAC,2JAAQ;gBACL,IAAI;gBACJ,2BAA2B;gBAC3B,aAAa;gBACb,iBAAiB;;;;;;YAGvB,cAAc,yBACZ,6LAAC,wJAAK;gBACF,IAAI;gBACJ,2BAA2B;gBAC3B,aAAa;gBACb,iBAAiB;;;;;;;;;;;;AAKrC;GAjEM;;QAQyC,0IAAgB;;;KARzD;uCAmES","debugId":null}}]
}