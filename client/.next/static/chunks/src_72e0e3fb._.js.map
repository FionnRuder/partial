{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/ModalNewProgram/index.tsx"],"sourcesContent":["import Modal from '@/components/Modal';\nimport {\n  useCreateProgramMutation,\n  useGetUsersQuery,\n  Program\n} from '@/state/api';\nimport React, { useState } from 'react';\nimport { formatISO } from 'date-fns';\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nconst ModalNewProgram = ({\n  isOpen,\n  onClose,\n}: Props) => {\n  const { data: users = [], isLoading: usersLoading } = useGetUsersQuery();\n  const [createProgram, { isLoading }] = useCreateProgramMutation();\n  \n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [programManagerUserId, setProgramManagerUserId] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n\n  const handleSubmit = async () => {\n    if (!isFormValid()) return;\n\n    const payload: Partial<Program> = {\n      name,\n      description,\n      programManagerUserId: programManagerUserId || undefined,\n      startDate: formatISO(new Date(startDate), { representation: 'complete' }),\n      endDate: formatISO(new Date(endDate), { representation: 'complete' }),\n    };\n\n    try {\n      await createProgram(payload).unwrap();\n      onClose(); // close modal on success\n    } catch (err) {\n      console.error(\"Failed to create program:\", err);\n    }\n  };\n\n  const isFormValid = (): boolean => {\n    return !!name && !!startDate && !!endDate;\n  };\n\n  const selectStyles =\n    \"mb-4 block w-full rounded border border-gray-300 px-3 py-2 dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  const inputStyles =\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} name={\"Create New Program\"}>\n      <form\n        className=\"mt-4 space-y-6\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        <input\n          type=\"text\"\n          className={inputStyles}\n          placeholder=\"Program Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        \n        <textarea\n          className={inputStyles}\n          placeholder=\"Description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n\n        <select\n          className={selectStyles}\n          value={programManagerUserId}\n          onChange={(e) => setProgramManagerUserId(e.target.value)}\n          disabled={usersLoading}\n        >\n          <option value=\"\">Select Program Manager (Optional)</option>\n          {users.map((user) => (\n            <option key={user.id} value={user.id}>\n              {user.name} ({user.username})\n            </option>\n          ))}\n        </select>\n\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Start Date:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={startDate}\n              onChange={(e) => setStartDate(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              End Date:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n            />\n          </div>\n        </div>\n\n        <button\n          type=\"submit\"\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\n            !isFormValid() || isLoading ? \"cursor-not-allowed opacity-50\" : \"\"\n          }`}\n          disabled={!isFormValid() || isLoading}\n        >\n          {isLoading ? \"Creating Program...\" : \"Create Program\"}\n        </button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default ModalNewProgram;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAKA;AACA;;;;;;;AAOA,MAAM,kBAAkB;QAAC,EACvB,MAAM,EACN,OAAO,EACD;;IACN,MAAM,EAAE,MAAM,QAAQ,EAAE,EAAE,WAAW,YAAY,EAAE,GAAG,IAAA,0IAAgB;IACtE,MAAM,CAAC,eAAe,EAAE,SAAS,EAAE,CAAC,GAAG,IAAA,kJAAwB;IAE/D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,yKAAQ,EAAC;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI,CAAC,eAAe;QAEpB,MAAM,UAA4B;YAChC;YACA;YACA,sBAAsB,wBAAwB;YAC9C,WAAW,IAAA,wJAAS,EAAC,IAAI,KAAK,YAAY;gBAAE,gBAAgB;YAAW;YACvE,SAAS,IAAA,wJAAS,EAAC,IAAI,KAAK,UAAU;gBAAE,gBAAgB;YAAW;QACrE;QAEA,IAAI;YACF,MAAM,cAAc,SAAS,MAAM;YACnC,WAAW,yBAAyB;QACtC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,6BAA6B;QAC7C;IACF;IAEA,MAAM,cAAc;QAClB,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;IACpC;IAEA,MAAM,eACJ;IAEF,MAAM,cACJ;IAEF,qBACE,6LAAC,kJAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,MAAM;kBAC7C,cAAA,6LAAC;YACC,WAAU;YACV,UAAU,CAAC;gBACT,EAAE,cAAc;gBAChB;YACF;;8BAEA,6LAAC;oBACC,MAAK;oBACL,WAAW;oBACX,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;8BAGzC,6LAAC;oBACC,WAAW;oBACX,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;8BAGhD,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IAAM,wBAAwB,EAAE,MAAM,CAAC,KAAK;oBACvD,UAAU;;sCAEV,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;gCAAqB,OAAO,KAAK,EAAE;;oCACjC,KAAK,IAAI;oCAAC;oCAAG,KAAK,QAAQ;oCAAC;;+BADjB,KAAK,EAAE;;;;;;;;;;;8BAMxB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAGlE,6LAAC;oCACC,MAAK;oCACL,WAAW;oCACX,OAAO;oCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAIhD,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAGlE,6LAAC;oCACC,MAAK;oCACL,WAAW;oCACX,OAAO;oCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;8BAKhD,6LAAC;oBACC,MAAK;oBACL,WAAW,AAAC,kOAEX,OADC,CAAC,iBAAiB,YAAY,kCAAkC;oBAElE,UAAU,CAAC,iBAAiB;8BAE3B,YAAY,wBAAwB;;;;;;;;;;;;;;;;;AAK/C;GAtHM;;QAIkD,0IAAgB;QAC/B,kJAAwB;;;KAL3D;uCAwHS","debugId":null}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/ModalEditProgram/index.tsx"],"sourcesContent":["import Modal from '@/components/Modal';\nimport {\n  useEditProgramMutation,\n  useGetUsersQuery,\n  Program\n} from '@/state/api';\nimport React, { useEffect, useState } from 'react';\nimport { formatISO } from 'date-fns';\nimport { showApiError, showApiSuccess } from '@/lib/toast';\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n  program: Program | null;\n};\n\nconst ModalEditProgram = ({ isOpen, onClose, program }: Props) => {\n  const [editProgram, { isLoading: isSaving }] = useEditProgramMutation();\n  const { data: users = [], isLoading: usersLoading } = useGetUsersQuery();\n\n  // form state\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [programManagerUserId, setProgramManagerUserId] = useState(\"\");\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n\n  // Prefill all fields when modal opens\n  useEffect(() => {\n    if (program) {\n      setName(program.name || \"\");\n      setDescription(program.description || \"\");\n      setProgramManagerUserId(program.programManagerUserId?.toString() || \"\");\n      setStartDate(program.startDate ? program.startDate.split(\"T\")[0] : \"\");\n      setEndDate(program.endDate ? program.endDate.split(\"T\")[0] : \"\");\n    }\n  }, [program]);\n\n  const isFormValid = (): boolean => {\n    return !!name && !!startDate && !!endDate;\n  };\n\n  const handleSubmit = async () => {\n    if (!program || !isFormValid()) return;\n\n    const updatedProgram: Partial<Program> = {\n      name,\n      description,\n      programManagerUserId: programManagerUserId || undefined,\n      startDate: formatISO(new Date(startDate), { representation: 'complete' }),\n      endDate: formatISO(new Date(endDate), { representation: 'complete' }),\n    };\n\n    try {\n      await editProgram({\n        programId: program.id,\n        updates: updatedProgram,\n      }).unwrap();\n      showApiSuccess(\"Program updated successfully\");\n      onClose(); // close modal on success\n    } catch (err: any) {\n      console.error(\"Failed to save program:\", err);\n      showApiError(err, \"Failed to save program\");\n    }\n  };\n\n  const selectStyles =\n    \"mb-4 block w-full rounded border border-gray-300 px-3 py-2 dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  const inputStyles =\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} name={`Edit Program`}>\n      <form\n        className=\"mt-4 space-y-6\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n            Program Name:\n          </label>\n          <input\n            type=\"text\"\n            className={inputStyles}\n            placeholder=\"Program Name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </div>\n        \n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n            Description:\n          </label>\n          <textarea\n            className={inputStyles}\n            placeholder=\"Description\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n            Program Manager:\n          </label>\n          <select\n            className={selectStyles}\n            value={programManagerUserId}\n            onChange={(e) => setProgramManagerUserId(e.target.value)}\n            disabled={usersLoading}\n          >\n            <option value=\"\">Select Program Manager (Optional)</option>\n            {users.map((user) => (\n              <option key={user.id} value={user.id}>\n                {user.name} ({user.username})\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Start Date:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={startDate}\n              onChange={(e) => setStartDate(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              End Date:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n            />\n          </div>\n        </div>\n\n        <button\n          type=\"submit\"\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\n            !isFormValid() || isSaving ? \"cursor-not-allowed opacity-50\" : \"\"\n          }`}\n          disabled={!isFormValid() || isSaving}\n        >\n          {isSaving ? \"Updating Program...\" : \"Update Program\"}\n        </button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default ModalEditProgram;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 505, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/ModalNewMilestone/index.tsx"],"sourcesContent":["import Modal from '@/components/Modal';\r\nimport {\r\n  useCreateMilestoneMutation,\r\n  useGetProgramsQuery,\r\n  Milestone\r\n} from '@/state/api';\r\nimport React, { useState } from 'react';\r\nimport { formatISO } from 'date-fns';\r\n\r\ntype Props = {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n};\r\n\r\nconst ModalNewMilestone = ({\r\n  isOpen,\r\n  onClose,\r\n}: Props) => {\r\n  const { data: programs = [], isLoading: programsLoading } = useGetProgramsQuery();\r\n  const [createMilestone, { isLoading }] = useCreateMilestoneMutation();\r\n  \r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [programId, setProgramId] = useState(\"\");\r\n\r\n  const handleSubmit = async () => {\r\n    if (!isFormValid()) return;\r\n\r\n    const payload: Partial<Milestone> = {\r\n      name,\r\n      description,\r\n      date: formatISO(new Date(date), { representation: 'complete' }),\r\n      programId: parseInt(programId),\r\n    };\r\n\r\n    try {\r\n      await createMilestone(payload).unwrap();\r\n      onClose(); // close modal on success\r\n    } catch (err) {\r\n      console.error(\"Failed to create milestone:\", err);\r\n    }\r\n  };\r\n\r\n  const isFormValid = (): boolean => {\r\n    return !!name && !!description && !!date && !!programId;\r\n  };\r\n\r\n  const selectStyles =\r\n    \"mb-4 block w-full rounded border border-gray-300 px-3 py-2 dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\r\n\r\n  const inputStyles =\r\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} name={\"Create New Milestone\"}>\r\n      <form\r\n        className=\"mt-4 space-y-6\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          handleSubmit();\r\n        }}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          className={inputStyles}\r\n          placeholder=\"Milestone Name\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        \r\n        <textarea\r\n          className={inputStyles}\r\n          placeholder=\"Description\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n\r\n        <select\r\n          className={selectStyles}\r\n          value={programId}\r\n          onChange={(e) => setProgramId(e.target.value)}\r\n          disabled={programsLoading}\r\n        >\r\n          <option value=\"\">Select Program</option>\r\n          {programs.map((program) => (\r\n            <option key={program.id} value={program.id}>\r\n              {program.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <div>\r\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n            Milestone Date:\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            className={inputStyles}\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\r\n            !isFormValid() || isLoading ? \"cursor-not-allowed opacity-50\" : \"\"\r\n          }`}\r\n          disabled={!isFormValid() || isLoading}\r\n        >\r\n          {isLoading ? \"Creating Milestone...\" : \"Create Milestone\"}\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalNewMilestone;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAKA;AACA;;;;;;;AAOA,MAAM,oBAAoB;QAAC,EACzB,MAAM,EACN,OAAO,EACD;;IACN,MAAM,EAAE,MAAM,WAAW,EAAE,EAAE,WAAW,eAAe,EAAE,GAAG,IAAA,6IAAmB;IAC/E,MAAM,CAAC,iBAAiB,EAAE,SAAS,EAAE,CAAC,GAAG,IAAA,oJAA0B;IAEnE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,eAAe;QACnB,IAAI,CAAC,eAAe;QAEpB,MAAM,UAA8B;YAClC;YACA;YACA,MAAM,IAAA,wJAAS,EAAC,IAAI,KAAK,OAAO;gBAAE,gBAAgB;YAAW;YAC7D,WAAW,SAAS;QACtB;QAEA,IAAI;YACF,MAAM,gBAAgB,SAAS,MAAM;YACrC,WAAW,yBAAyB;QACtC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF;IAEA,MAAM,cAAc;QAClB,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,CAAC;IAChD;IAEA,MAAM,eACJ;IAEF,MAAM,cACJ;IAEF,qBACE,6LAAC,kJAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,MAAM;kBAC7C,cAAA,6LAAC;YACC,WAAU;YACV,UAAU,CAAC;gBACT,EAAE,cAAc;gBAChB;YACF;;8BAEA,6LAAC;oBACC,MAAK;oBACL,WAAW;oBACX,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;8BAGzC,6LAAC;oBACC,WAAW;oBACX,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;8BAGhD,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;oBAC5C,UAAU;;sCAEV,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;gCAAwB,OAAO,QAAQ,EAAE;0CACvC,QAAQ,IAAI;+BADF,QAAQ,EAAE;;;;;;;;;;;8BAM3B,6LAAC;;sCACC,6LAAC;4BAAM,WAAU;sCAAiD;;;;;;sCAGlE,6LAAC;4BACC,MAAK;4BACL,WAAW;4BACX,OAAO;4BACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8BAI3C,6LAAC;oBACC,MAAK;oBACL,WAAW,AAAC,kOAEX,OADC,CAAC,iBAAiB,YAAY,kCAAkC;oBAElE,UAAU,CAAC,iBAAiB;8BAE3B,YAAY,0BAA0B;;;;;;;;;;;;;;;;;AAKjD;GAtGM;;QAIwD,6IAAmB;QACtC,oJAA0B;;;KAL/D;uCAwGS","debugId":null}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/ModalEditMilestone/index.tsx"],"sourcesContent":["import Modal from '@/components/Modal';\r\nimport {\r\n  useEditMilestoneMutation,\r\n  useGetProgramsQuery,\r\n  Milestone\r\n} from '@/state/api';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { formatISO } from 'date-fns';\r\nimport { showApiError, showApiSuccess } from '@/lib/toast';\r\n\r\ntype Props = {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  milestone: Milestone | null;\r\n};\r\n\r\nconst ModalEditMilestone = ({ isOpen, onClose, milestone }: Props) => {\r\n  const [editMilestone, { isLoading: isSaving }] = useEditMilestoneMutation();\r\n  const { data: programs = [], isLoading: programsLoading } = useGetProgramsQuery();\r\n\r\n  // form state\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [programId, setProgramId] = useState(\"\");\r\n\r\n  // Prefill all fields when modal opens\r\n  useEffect(() => {\r\n    if (milestone) {\r\n      setName(milestone.name || \"\");\r\n      setDescription(milestone.description || \"\");\r\n      setDate(milestone.date ? milestone.date.split(\"T\")[0] : \"\");\r\n      setProgramId(milestone.programId?.toString() || \"\");\r\n    }\r\n  }, [milestone]);\r\n\r\n  const isFormValid = (): boolean => {\r\n    return !!name && !!description && !!date && !!programId;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!milestone || !isFormValid()) return;\r\n\r\n    const updatedMilestone: Partial<Milestone> = {\r\n      name,\r\n      description,\r\n      date: formatISO(new Date(date), { representation: 'complete' }),\r\n      programId: parseInt(programId),\r\n    };\r\n\r\n    try {\r\n      await editMilestone({\r\n        milestoneId: milestone.id,\r\n        updates: updatedMilestone,\r\n      }).unwrap();\r\n      showApiSuccess(\"Milestone updated successfully\");\r\n      onClose(); // close modal on success\r\n    } catch (err: any) {\r\n      console.error(\"Failed to save milestone:\", err);\r\n      showApiError(err, \"Failed to save milestone\");\r\n    }\r\n  };\r\n\r\n  const selectStyles =\r\n    \"mb-4 block w-full rounded border border-gray-300 px-3 py-2 dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\r\n\r\n  const inputStyles =\r\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} name={`Edit Milestone`}>\r\n      <form\r\n        className=\"mt-4 space-y-6\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          handleSubmit();\r\n        }}\r\n      >\r\n        <div>\r\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n            Milestone Name:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className={inputStyles}\r\n            placeholder=\"Milestone Name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n            Description:\r\n          </label>\r\n          <textarea\r\n            className={inputStyles}\r\n            placeholder=\"Description\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n            Program:\r\n          </label>\r\n          <select\r\n            className={selectStyles}\r\n            value={programId}\r\n            onChange={(e) => setProgramId(e.target.value)}\r\n            disabled={programsLoading}\r\n          >\r\n            <option value=\"\">Select Program</option>\r\n            {programs.map((program) => (\r\n              <option key={program.id} value={program.id}>\r\n                {program.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n            Milestone Date:\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            className={inputStyles}\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\r\n            !isFormValid() || isSaving ? \"cursor-not-allowed opacity-50\" : \"\"\r\n          }`}\r\n          disabled={!isFormValid() || isSaving}\r\n        >\r\n          {isSaving ? \"Updating Milestone...\" : \"Update Milestone\"}\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalEditMilestone;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/programs/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useAppSelector } from '@/app/redux';\r\nimport Header from '@/components/Header';\r\nimport { useGetProgramsQuery, useGetMilestonesByProgramQuery, useGetWorkItemsByProgramQuery, useGetMilestonesQuery, useGetWorkItemsQuery, DeliverableTypeLabels, IssueTypeLabels } from '@/state/api';\r\nimport ModalNewProgram from '@/components/ModalNewProgram';\r\nimport ModalEditProgram from '@/components/ModalEditProgram';\r\nimport ModalNewMilestone from '@/components/ModalNewMilestone';\r\nimport ModalEditMilestone from '@/components/ModalEditMilestone';\r\nimport { DisplayOption, Gantt, ViewMode } from \"gantt-task-react\"\r\nimport \"gantt-task-react/dist/index.css\"\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Calendar, CheckCircle, Clock, Target, SquarePen, PlusSquare, ChevronDown, ChevronRight, ChevronUp } from 'lucide-react';\r\n\r\ntype TaskTypeItems = \"task\" | \"milestone\" | \"project\";\r\n\r\nconst Programs = () => {\r\n    const router = useRouter();\r\n    const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\r\n    const { data: programs, isLoading: programsLoading, isError: programsError } = useGetProgramsQuery();\r\n\r\n    const [displayOptions, setDisplayOptions] = useState<DisplayOption>({\r\n        viewMode: ViewMode.Month,\r\n        locale: \"en-US\"\r\n    });\r\n\r\n    const [selectedProgramId, setSelectedProgramId] = useState<number | \"all\">(\"all\");\r\n    \r\n    // Get the selected program data for the edit button\r\n    const selectedProgram = useMemo(() => {\r\n        if (selectedProgramId === \"all\" || !programs) return null;\r\n        return programs.find(program => program.id === selectedProgramId) || null;\r\n    }, [selectedProgramId, programs]);\r\n    \r\n    const [workItemFilter, setWorkItemFilter] = useState<\"all\" | \"open\">(\"all\");\r\n    \r\n    // Expand/collapse state for table rows\r\n    const [expandedRows, setExpandedRows] = useState<Set<string>>(new Set());\r\n    \r\n    // Modal states\r\n    const [isNewProgramModalOpen, setIsNewProgramModalOpen] = useState(false);\r\n    const [isEditProgramModalOpen, setIsEditProgramModalOpen] = useState(false);\r\n    const [programToEdit, setProgramToEdit] = useState<any>(null);\r\n    \r\n    // Milestone modal states\r\n    const [isNewMilestoneModalOpen, setIsNewMilestoneModalOpen] = useState(false);\r\n    const [isEditMilestoneModalOpen, setIsEditMilestoneModalOpen] = useState(false);\r\n    const [milestoneToEdit, setMilestoneToEdit] = useState<any>(null);\r\n    const [showPastMilestones, setShowPastMilestones] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setShowPastMilestones(false);\r\n    }, [selectedProgramId]);\r\n\r\n    // Get milestones - always fetch all milestones, then filter in the UI\r\n    const { data: allMilestones, isLoading: milestonesLoading } = useGetMilestonesQuery();\r\n\r\n    // Get work items - always fetch all work items, then filter in the UI\r\n    const { data: allWorkItems } = useGetWorkItemsQuery();\r\n\r\n    // Filter work items based on the toggle and selected program\r\n    const filteredWorkItems = useMemo(() => {\r\n        if (!allWorkItems) return [];\r\n        \r\n        // First filter by program if specific program is selected\r\n        let filtered = allWorkItems;\r\n        if (selectedProgramId !== \"all\") {\r\n            filtered = allWorkItems.filter((item) => item.programId === selectedProgramId);\r\n        }\r\n        \r\n        // Then filter by status (all vs open)\r\n        return workItemFilter === \"open\" \r\n            ? filtered.filter((item) => item.status !== \"Completed\")\r\n            : filtered;\r\n    }, [allWorkItems, workItemFilter, selectedProgramId]);\r\n\r\n    // Work item type distribution with subtype breakdowns\r\n    const workItemTypeCounts = useMemo(() => {\r\n        if (!allWorkItems) return [];\r\n        \r\n        // Filter by selected program\r\n        const programFilteredItems = selectedProgramId === \"all\" \r\n            ? allWorkItems \r\n            : allWorkItems.filter((item) => item.programId === selectedProgramId);\r\n        \r\n        const typeCount: Record<string, { \r\n            openCount: number; \r\n            completedCount: number; \r\n            totalCount: number;\r\n            subtypes?: Record<string, { openCount: number; completedCount: number; totalCount: number }> \r\n        }> = {};\r\n        \r\n        programFilteredItems.forEach((item) => {\r\n            const isCompleted = item.status === \"Completed\";\r\n            \r\n            if (!typeCount[item.workItemType]) {\r\n                typeCount[item.workItemType] = { openCount: 0, completedCount: 0, totalCount: 0, subtypes: {} };\r\n            }\r\n            \r\n            typeCount[item.workItemType].totalCount++;\r\n            if (isCompleted) {\r\n                typeCount[item.workItemType].completedCount++;\r\n            } else {\r\n                typeCount[item.workItemType].openCount++;\r\n            }\r\n            \r\n            // Track subtypes for Deliverables and Issues\r\n            if (item.workItemType === 'Deliverable' && item.deliverableDetail?.deliverableType) {\r\n                if (!typeCount[item.workItemType].subtypes) {\r\n                    typeCount[item.workItemType].subtypes = {};\r\n                }\r\n                const type = item.deliverableDetail.deliverableType;\r\n                const subtype = typeof type === 'string' ? type : (type && typeof type === 'object' && 'name' in type ? (type as { name: string }).name : 'Unknown');\r\n                if (!typeCount[item.workItemType].subtypes![subtype]) {\r\n                    typeCount[item.workItemType].subtypes![subtype] = { openCount: 0, completedCount: 0, totalCount: 0 };\r\n                }\r\n                typeCount[item.workItemType].subtypes![subtype].totalCount++;\r\n                if (isCompleted) {\r\n                    typeCount[item.workItemType].subtypes![subtype].completedCount++;\r\n                } else {\r\n                    typeCount[item.workItemType].subtypes![subtype].openCount++;\r\n                }\r\n            } else if (item.workItemType === 'Issue' && item.issueDetail?.issueType) {\r\n                if (!typeCount[item.workItemType].subtypes) {\r\n                    typeCount[item.workItemType].subtypes = {};\r\n                }\r\n                const type = item.issueDetail.issueType;\r\n                const subtype = typeof type === 'string' ? type : (type && typeof type === 'object' && 'name' in type ? (type as { name: string }).name : 'Unknown');\r\n                if (!typeCount[item.workItemType].subtypes![subtype]) {\r\n                    typeCount[item.workItemType].subtypes![subtype] = { openCount: 0, completedCount: 0, totalCount: 0 };\r\n                }\r\n                typeCount[item.workItemType].subtypes![subtype].totalCount++;\r\n                if (isCompleted) {\r\n                    typeCount[item.workItemType].subtypes![subtype].completedCount++;\r\n                } else {\r\n                    typeCount[item.workItemType].subtypes![subtype].openCount++;\r\n                }\r\n            }\r\n        });\r\n        \r\n        return Object.entries(typeCount).map(([type, data]) => ({ \r\n            type, \r\n            openCount: data.openCount,\r\n            completedCount: data.completedCount,\r\n            totalCount: data.totalCount,\r\n            subtypes: data.subtypes \r\n        }));\r\n    }, [allWorkItems, selectedProgramId]);\r\n\r\n    const filteredMilestones = useMemo(() => {\r\n        if (!allMilestones) return [];\r\n        return allMilestones.filter((milestone) =>\r\n            selectedProgramId === \"all\" ? true : milestone.programId === selectedProgramId\r\n        );\r\n    }, [allMilestones, selectedProgramId]);\r\n\r\n    const startOfToday = new Date();\r\n    startOfToday.setHours(0, 0, 0, 0);\r\n\r\n    const sortedMilestones = [...filteredMilestones].sort(\r\n        (a, b) => new Date(a.date).getTime() - new Date(b.date).getTime()\r\n    );\r\n\r\n    const upcomingMilestones = sortedMilestones.filter((milestone) => {\r\n        if (!milestone.date) return true;\r\n        const milestoneDate = new Date(milestone.date);\r\n        return milestoneDate >= startOfToday;\r\n    });\r\n\r\n    const pastMilestones = sortedMilestones\r\n        .filter((milestone) => milestone.date && new Date(milestone.date) < startOfToday)\r\n        .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n\r\n    const ganttTasks = useMemo(() => {\r\n        if (!programs || programs.length === 0) {\r\n            return [];\r\n        }\r\n        \r\n        const validTasks = programs\r\n            .filter((program) => {\r\n                // Only include programs with valid start and end dates\r\n                return program.startDate && program.endDate;\r\n            })\r\n            .map((program) => {\r\n                const startDate = new Date(program.startDate as string);\r\n                const endDate = new Date(program.endDate as string);\r\n                \r\n                // Validate dates are not invalid\r\n                if (isNaN(startDate.getTime()) || isNaN(endDate.getTime())) {\r\n                    return null;\r\n                }\r\n                \r\n                return {\r\n                    start: startDate,\r\n                    end: endDate,\r\n                    name: program.name,\r\n                    id: `Program-${program.id}`,\r\n                    type: \"project\" as TaskTypeItems, // Use \"project\" instead of \"program\" - valid Gantt type\r\n                    progress: 50,\r\n                    isDisabled: false\r\n                };\r\n            })\r\n            .filter((task) => task !== null);\r\n        \r\n        return validTasks as Array<{\r\n            start: Date;\r\n            end: Date;\r\n            name: string;\r\n            id: string;\r\n            type: TaskTypeItems;\r\n            progress: number;\r\n            isDisabled: boolean;\r\n        }>;\r\n    }, [programs]);\r\n\r\n    const handleViewModeChange = (\r\n        event: React.ChangeEvent<HTMLSelectElement>\r\n    ) => {\r\n        setDisplayOptions((prev) => ({\r\n            ...prev,\r\n            viewMode: event.target.value as ViewMode,\r\n        }));\r\n    };\r\n\r\n    const handleProgramChange = (\r\n        event: React.ChangeEvent<HTMLSelectElement>\r\n    ) => {\r\n        const value = event.target.value;\r\n        setSelectedProgramId(value === \"all\" ? \"all\" : parseInt(value));\r\n    };\r\n\r\n    const toggleRowExpansion = (rowKey: string) => {\r\n        const newExpanded = new Set(expandedRows);\r\n        if (newExpanded.has(rowKey)) {\r\n            newExpanded.delete(rowKey);\r\n        } else {\r\n            newExpanded.add(rowKey);\r\n        }\r\n        setExpandedRows(newExpanded);\r\n    };\r\n\r\n    const handleWorkItemTypeClick = (workItemType: string) => {\r\n        const route = workItemType.toLowerCase();\r\n        if (route === 'deliverable' || route === 'issue' || route === 'task') {\r\n            router.push(`/work-items/${route}s`);\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString: string) => {\r\n        return new Date(dateString).toLocaleDateString('en-US', {\r\n            year: 'numeric',\r\n            month: 'short',\r\n            day: 'numeric'\r\n        });\r\n    };\r\n\r\n    const getMilestoneStatus = (milestoneDate: string) => {\r\n        const today = new Date();\r\n        const milestone = new Date(milestoneDate);\r\n        const diffTime = milestone.getTime() - today.getTime();\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n        \r\n        if (diffDays < 0) {\r\n            return { status: 'completed', color: 'text-green-600', icon: CheckCircle };\r\n        } else if (diffDays <= 30) {\r\n            return { status: 'upcoming', color: 'text-orange-600', icon: Clock };\r\n        } else {\r\n            return { status: 'future', color: 'text-blue-600', icon: Target };\r\n        }\r\n    };\r\n\r\n    if (programsLoading) return <div>Loading...</div>\r\n    if (programsError || !programs) return <div>An error occurred while fetching programs</div>;\r\n\r\n    return (\r\n        <div className=\"max-w-full p-8\">\r\n            <header className=\"mb-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <Header \r\n                        name=\"Programs\" \r\n                        buttonComponent={\r\n                            <div className=\"flex gap-3\">\r\n                                {/* New Program Button */}\r\n                                <button\r\n                                    onClick={() => setIsNewProgramModalOpen(true)}\r\n                                    className=\"flex items-center rounded-md bg-blue-primary px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600\"\r\n                                >\r\n                                    <PlusSquare className=\"mr-2 h-5 w-5\" />New Program\r\n                                </button>\r\n                                {/* Edit Program Button - only show when a specific program is selected */}\r\n                                {selectedProgram && (\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            setProgramToEdit(selectedProgram);\r\n                                            setIsEditProgramModalOpen(true);\r\n                                        }}\r\n                                        className=\"flex items-center rounded-md bg-gray-300 px-3 py-2 text-sm font-medium text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-dark-tertiary dark:text-white dark:hover:bg-gray-600\"\r\n                                    >\r\n                                        <SquarePen className=\"mr-2 h-4 w-4\" />\r\n                                        Edit Program\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        }\r\n                    />\r\n                \r\n                </div>\r\n            </header>\r\n\r\n            {/* Timeline Section */}\r\n            <div className=\"mb-8\">\r\n                <div className=\"mb-4 flex items-center justify-between\">\r\n                    <h2 className=\"text-xl font-semibold text-gray-800 dark:text-white flex items-center gap-2\">\r\n                        <Calendar className=\"h-5 w-5\" />\r\n                        Program Timeline\r\n                    </h2>\r\n                    <div className=\"relative inline-block w-64\">\r\n                        <select\r\n                            className=\"focus:shadow-outline w-full appearance-none rounded border border-gray-400 bg-white px-4 py-2 pr-8 leading-tight shadow hover:border-gray-500 focus:outline-none dark:border-dark-secondary dark:bg-dark-secondary dark:text-white\"\r\n                            value={displayOptions.viewMode}\r\n                            onChange={handleViewModeChange}\r\n                        >\r\n                            <option value={ViewMode.Day}>Day</option>\r\n                            <option value={ViewMode.Week}>Week</option>\r\n                            <option value={ViewMode.Month}>Month</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"overflow-hidden rounded-md bg-white shadow dark:bg-dark-secondary dark:text-white\">\r\n                    <div className=\"timeline\">\r\n                        {ganttTasks.length > 0 ? (\r\n                            <Gantt\r\n                                tasks={ganttTasks}\r\n                                {...displayOptions}\r\n                                columnWidth={displayOptions.viewMode === ViewMode.Month ? 150 : 100}\r\n                                listCellWidth=\"200px\"\r\n                                projectBackgroundColor={isDarkMode ? \"#101214\" : \"#1f2937\"}\r\n                                projectProgressColor={isDarkMode ? \"#1f2937\" : \"#aeb8c2\"}\r\n                                projectProgressSelectedColor={isDarkMode ? \"#000\" : \"#9ba1a6\"}\r\n                            />\r\n                        ) : (\r\n                            <div className=\"flex items-center justify-center p-8 text-gray-500 dark:text-gray-400\">\r\n                                No programs with valid dates to display. Create a program with start and end dates to see it on the timeline.\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Program Selection and Work Item Filter */}\r\n            <div className=\"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <select\r\n                        id=\"program-select\"\r\n                        className=\"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:bg-dark-secondary dark:text-white\"\r\n                        value={selectedProgramId}\r\n                        onChange={handleProgramChange}\r\n                    >\r\n                        <option value=\"all\">All Programs</option>\r\n                        {programs.map((program) => (\r\n                            <option key={program.id} value={program.id}>\r\n                                {program.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    \r\n                    {/* New Milestone Button */}\r\n                    <button\r\n                        onClick={() => setIsNewMilestoneModalOpen(true)}\r\n                        className=\"flex items-center rounded-md bg-blue-primary px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600\"\r\n                    >\r\n                        <PlusSquare className=\"mr-2 h-5 w-5\" />\r\n                        New Milestone\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Work Item Status Toggle */}\r\n                <div className=\"flex items-center gap-2 rounded-lg border border-gray-300 bg-gray-50 p-1 dark:border-gray-600 dark:bg-dark-tertiary\">\r\n                    <button\r\n                        onClick={() => setWorkItemFilter(\"all\")}\r\n                        className={`rounded-md px-4 py-2 text-sm font-medium transition-colors ${\r\n                            workItemFilter === \"all\"\r\n                                ? \"bg-white text-blue-600 shadow-sm dark:bg-dark-secondary dark:text-blue-400\"\r\n                                : \"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200\"\r\n                        }`}\r\n                    >\r\n                        All Work Items\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setWorkItemFilter(\"open\")}\r\n                        className={`rounded-md px-4 py-2 text-sm font-medium transition-colors ${\r\n                            workItemFilter === \"open\"\r\n                                ? \"bg-white text-blue-600 shadow-sm dark:bg-dark-secondary dark:text-blue-400\"\r\n                                : \"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200\"\r\n                        }`}\r\n                    >\r\n                        Open Work Items\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Work Items Table and Milestones Section */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {/* Milestones Section */}\r\n                <div>\r\n                    <div className=\"rounded-lg bg-white shadow dark:bg-dark-secondary md:max-h-[940px] max-h-[50vh] overflow-y-auto\">\r\n                <div className=\"sticky top-0 bg-white dark:bg-dark-secondary z-10 p-4 border-b border-gray-200 dark:border-gray-700\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <h2 className=\"text-xl font-semibold text-gray-800 dark:text-white flex items-center gap-2\">\r\n                            <Target className=\"h-5 w-5\" />\r\n                            Program Milestones\r\n                        </h2>\r\n                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            {upcomingMilestones.length} upcoming\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"p-4 pt-0\">\r\n                    {milestonesLoading ? (\r\n                        <div className=\"flex items-center justify-center py-8\">\r\n                            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\r\n                            <span className=\"ml-2 text-gray-500 dark:text-gray-300\">Loading milestones...</span>\r\n                        </div>\r\n                    ) : filteredMilestones.length > 0 ? (\r\n                        <div className=\"space-y-3\">\r\n                            {upcomingMilestones.length > 0 ? (\r\n                                upcomingMilestones.map((milestone) => {\r\n                                    const milestoneWorkItems =\r\n                                        filteredWorkItems?.filter(\r\n                                            (wi) => wi.dueByMilestoneId === milestone.id\r\n                                        ) ?? [];\r\n\r\n                                    const programName =\r\n                                        programs.find((p) => p.id === milestone.programId)?.name ||\r\n                                        \"Unknown Program\";\r\n                                    const secondaryText =\r\n                                        selectedProgramId === \"all\"\r\n                                            ? programName\r\n                                            : milestone.description || programName;\r\n\r\n                                    const today = new Date();\r\n                                    const milestoneDate = milestone.date\r\n                                        ? new Date(milestone.date)\r\n                                        : null;\r\n                                    const isPast = milestoneDate ? milestoneDate < today : false;\r\n                                    const daysUntil = milestoneDate\r\n                                        ? Math.ceil(\r\n                                              (milestoneDate.getTime() - today.getTime()) /\r\n                                                  (1000 * 60 * 60 * 24)\r\n                                          )\r\n                                        : null;\r\n                                    const isWithin30Days =\r\n                                        daysUntil !== null ? daysUntil <= 30 && daysUntil >= 0 : false;\r\n\r\n                                    const getStatusBadge = () => {\r\n                                        if (isPast) {\r\n                                            return (\r\n                                                <span className=\"inline-flex items-center rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800 dark:bg-gray-700 dark:text-gray-300\">\r\n                                                    <div className=\"mr-1 h-2 w-2 rounded-full bg-gray-400\"></div>\r\n                                                    Completed\r\n                                                </span>\r\n                                            );\r\n                                        }\r\n                                        if (isWithin30Days) {\r\n                                            return (\r\n                                                <span className=\"inline-flex items-center rounded-full bg-orange-100 px-2 py-1 text-xs font-medium text-orange-800 dark:bg-orange-900 dark:text-orange-200\">\r\n                                                    <div className=\"mr-1 h-2 w-2 animate-pulse rounded-full bg-orange-500\"></div>\r\n                                                    Due in {daysUntil} days\r\n                                                </span>\r\n                                            );\r\n                                        }\r\n                                        return (\r\n                                            <span className=\"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800 dark:bg-blue-900 dark:text-blue-200\">\r\n                                                <div className=\"mr-1 h-2 w-2 rounded-full bg-blue-500\"></div>\r\n                                                Upcoming\r\n                                            </span>\r\n                                        );\r\n                                    };\r\n\r\n                                    return (\r\n                                        <div\r\n                                            key={milestone.id}\r\n                                            className={`rounded-lg border px-3 py-2 transition-all duration-200 hover:shadow-md ${\r\n                                                isPast\r\n                                                    ? \"border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800\"\r\n                                                    : isWithin30Days\r\n                                                    ? \"border-orange-200 bg-orange-50 dark:border-orange-700 dark:bg-orange-900/20\"\r\n                                                    : \"border-gray-200 bg-white dark:border-gray-700 dark:bg-dark-tertiary\"\r\n                                            }`}\r\n                                        >\r\n                                            <div className=\"mb-1 flex items-start justify-between gap-2\">\r\n                                                <div className=\"min-w-0 flex-1\">\r\n                                                    <h3\r\n                                                        className={`truncate text-sm font-semibold ${\r\n                                                            isPast\r\n                                                                ? \"text-gray-600 dark:text-gray-400\"\r\n                                                                : \"text-gray-900 dark:text-white\"\r\n                                                        }`}\r\n                                                    >\r\n                                                        {milestone.name}\r\n                                                    </h3>\r\n                                                    <p\r\n                                                        className={`truncate text-xs ${\r\n                                                            isPast\r\n                                                                ? \"text-gray-500 dark:text-gray-500\"\r\n                                                                : \"text-gray-600 dark:text-gray-300\"\r\n                                                        }`}\r\n                                                    >\r\n                                                        {secondaryText}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <button\r\n                                                        onClick={(e) => {\r\n                                                            e.stopPropagation();\r\n                                                            setMilestoneToEdit(milestone);\r\n                                                            setIsEditMilestoneModalOpen(true);\r\n                                                        }}\r\n                                                        className=\"rounded p-1 transition-colors hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n                                                        title=\"Edit Milestone\"\r\n                                                    >\r\n                                                        <SquarePen size={12} className=\"text-gray-600 dark:text-gray-300\" />\r\n                                                    </button>\r\n                                                    {getStatusBadge()}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"flex items-center justify-between text-xs\">\r\n                                                <span\r\n                                                    className={`${\r\n                                                        isPast\r\n                                                            ? \"text-gray-500 dark:text-gray-500\"\r\n                                                            : \"text-gray-600 dark:text-gray-400\"\r\n                                                    }`}\r\n                                                >\r\n                                                    {milestoneDate\r\n                                                        ? milestoneDate.toLocaleDateString(\"en-US\", {\r\n                                                              month: \"short\",\r\n                                                              day: \"numeric\",\r\n                                                              year: \"numeric\",\r\n                                                          })\r\n                                                        : \"No date\"}\r\n                                                </span>\r\n                                                <span\r\n                                                    className={`rounded-full px-2 py-1 text-xs font-medium ${\r\n                                                        milestoneWorkItems.length > 0\r\n                                                            ? \"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200\"\r\n                                                            : \"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400\"\r\n                                                    }`}\r\n                                                >\r\n                                                    {milestoneWorkItems.length} work items\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            ) : (\r\n                                <div className=\"rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-4 text-center text-sm text-blue-700 dark:border-blue-900 dark:bg-blue-950/40 dark:text-blue-200\">\r\n                                    No upcoming milestones for this selection.\r\n                                </div>\r\n                            )}\r\n\r\n                            {pastMilestones.length > 0 && (\r\n                                <div className=\"mt-3 border-t border-gray-200 pt-3 dark:border-gray-700\">\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => setShowPastMilestones((prev) => !prev)}\r\n                                        className=\"flex w-full items-center justify-between rounded-md bg-gray-100 px-3 py-2 text-xs font-medium text-gray-700 transition-colors hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700\"\r\n                                    >\r\n                                        <span>Past Milestones ({pastMilestones.length})</span>\r\n                                        {showPastMilestones ? (\r\n                                            <ChevronUp className=\"h-4 w-4\" />\r\n                                        ) : (\r\n                                            <ChevronDown className=\"h-4 w-4\" />\r\n                                        )}\r\n                                    </button>\r\n\r\n                                    {showPastMilestones && (\r\n                                        <div className=\"mt-2 space-y-1.5\">\r\n                                            {pastMilestones.map((milestone) => {\r\n                                                const milestoneDate = milestone.date\r\n                                                    ? new Date(milestone.date)\r\n                                                    : null;\r\n                                                const programName =\r\n                                                    programs.find((p) => p.id === milestone.programId)?.name ||\r\n                                                    \"Unknown Program\";\r\n                                                const secondaryText =\r\n                                                    selectedProgramId === \"all\"\r\n                                                        ? programName\r\n                                                        : milestone.description || programName;\r\n\r\n                                                return (\r\n                                                    <div\r\n                                                        key={`past-${milestone.id}`}\r\n                                                        className=\"flex items-center justify-between gap-3 rounded-md border border-gray-200 bg-white px-3 py-2 text-xs dark:border-gray-700 dark:bg-dark-tertiary\"\r\n                                                    >\r\n                                                        <div className=\"min-w-0\">\r\n                                                            <p className=\"truncate font-medium text-gray-700 dark:text-gray-200\">\r\n                                                                {milestone.name}\r\n                                                            </p>\r\n                                                            <p className=\"truncate text-[11px] text-gray-500 dark:text-gray-400\">\r\n                                                                {secondaryText}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                        <div className=\"flex items-center gap-2\">\r\n                                                            <span className=\"text-[11px] text-gray-500 dark:text-gray-400\">\r\n                                                                {milestoneDate\r\n                                                                    ? milestoneDate.toLocaleDateString(\"en-US\", {\r\n                                                                          month: \"short\",\r\n                                                                          day: \"numeric\",\r\n                                                                          year: \"numeric\",\r\n                                                                      })\r\n                                                                    : \"No date\"}\r\n                                                            </span>\r\n                                                            <button\r\n                                                                onClick={(e) => {\r\n                                                                    e.stopPropagation();\r\n                                                                    setMilestoneToEdit(milestone);\r\n                                                                    setIsEditMilestoneModalOpen(true);\r\n                                                                }}\r\n                                                                className=\"rounded p-1 transition-colors hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n                                                                title=\"Edit Milestone\"\r\n                                                            >\r\n                                                                <SquarePen size={12} className=\"text-gray-500 dark:text-gray-300\" />\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"py-8 text-center\">\r\n                            <div className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                                No milestones found for the selected program\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                </div>\r\n                </div>\r\n\r\n                {/* Work Item Type Distribution Table */}\r\n                <div>\r\n                    <div className=\"rounded-lg bg-white shadow dark:bg-dark-secondary\">\r\n                        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n                            <h2 className=\"text-xl font-semibold text-gray-800 dark:text-white\">\r\n                                Work Items by Type\r\n                            </h2>\r\n                        </div>\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full\">\r\n                                <thead className=\"bg-gray-50 dark:bg-dark-tertiary\">\r\n                                    <tr>\r\n                                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n                                            Work Item Type\r\n                                        </th>\r\n                                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n                                            Qty Open\r\n                                        </th>\r\n                                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n                                            Qty Closed\r\n                                        </th>\r\n                                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n                                            Qty Total\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody className=\"bg-white dark:bg-dark-secondary divide-y divide-gray-200 dark:divide-gray-700\">\r\n                                    {workItemTypeCounts.length > 0 ? (\r\n                                        workItemTypeCounts.map((item, index) => {\r\n                                            const hasSubtypes = item.subtypes && Object.keys(item.subtypes).length > 0;\r\n                                            const isExpanded = expandedRows.has(item.type);\r\n                                            const ChevronIcon = isExpanded ? ChevronDown : ChevronRight;\r\n                                            \r\n                                            return (\r\n                                                <React.Fragment key={index}>\r\n                                                    <tr \r\n                                                        onClick={() => handleWorkItemTypeClick(item.type)}\r\n                                                        className=\"hover:bg-gray-50 dark:hover:bg-dark-tertiary cursor-pointer\"\r\n                                                    >\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">\r\n                                                            <div className=\"flex items-center gap-2\">\r\n                                                                {hasSubtypes ? (\r\n                                                                    <button\r\n                                                                        onClick={(e) => {\r\n                                                                            e.stopPropagation();\r\n                                                                            toggleRowExpansion(item.type);\r\n                                                                        }}\r\n                                                                        className=\"flex items-center justify-center w-4 h-4 hover:bg-gray-200 dark:hover:bg-gray-600 rounded\"\r\n                                                                    >\r\n                                                                        <ChevronIcon className=\"w-3 h-3\" />\r\n                                                                    </button>\r\n                                                                ) : (\r\n                                                                    <span className=\"w-4\" />\r\n                                                                )}\r\n                                                                <span>{item.type}</span>\r\n                                                            </div>\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\r\n                                                            {item.openCount}\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\r\n                                                            {item.completedCount}\r\n                                                        </td>\r\n                                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\r\n                                                            {item.totalCount}\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    {hasSubtypes && isExpanded && Object.entries(item.subtypes!).map(([subtype, counts]) => {\r\n                                                        // Use labels for deliverable and issue types\r\n                                                        let displayName = subtype;\r\n                                                        if (item.type === 'Deliverable' && DeliverableTypeLabels[subtype as keyof typeof DeliverableTypeLabels]) {\r\n                                                            displayName = DeliverableTypeLabels[subtype as keyof typeof DeliverableTypeLabels];\r\n                                                        } else if (item.type === 'Issue' && IssueTypeLabels[subtype as keyof typeof IssueTypeLabels]) {\r\n                                                            displayName = IssueTypeLabels[subtype as keyof typeof IssueTypeLabels];\r\n                                                        }\r\n                                                        \r\n                                                        return (\r\n                                                            <tr key={subtype} className=\"hover:bg-gray-50 dark:hover:bg-dark-tertiary bg-gray-50 dark:bg-dark-tertiary\">\r\n                                                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400 pl-12\">\r\n                                                                    {displayName}\r\n                                                                </td>\r\n                                                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\r\n                                                                    {counts.openCount}\r\n                                                                </td>\r\n                                                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\r\n                                                                    {counts.completedCount}\r\n                                                                </td>\r\n                                                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\r\n                                                                    {counts.totalCount}\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        );\r\n                                                    })}\r\n                                                </React.Fragment>\r\n                                            );\r\n                                        })\r\n                                    ) : (\r\n                                        <tr>\r\n                                            <td colSpan={4} className=\"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400\">\r\n                                                No work items found\r\n                                            </td>\r\n                                        </tr>\r\n                                    )}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n        {/* Modals */}\r\n        <ModalNewProgram\r\n            isOpen={isNewProgramModalOpen}\r\n            onClose={() => setIsNewProgramModalOpen(false)}\r\n        />\r\n        \r\n        <ModalEditProgram\r\n            isOpen={isEditProgramModalOpen}\r\n            onClose={() => setIsEditProgramModalOpen(false)}\r\n            program={programToEdit}\r\n        />\r\n        \r\n        <ModalNewMilestone\r\n            isOpen={isNewMilestoneModalOpen}\r\n            onClose={() => setIsNewMilestoneModalOpen(false)}\r\n        />\r\n        \r\n        <ModalEditMilestone\r\n            isOpen={isEditMilestoneModalOpen}\r\n            onClose={() => setIsEditMilestoneModalOpen(false)}\r\n            milestone={milestoneToEdit}\r\n        />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Programs;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}