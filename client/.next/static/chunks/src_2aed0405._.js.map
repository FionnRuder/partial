{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/ModalNewWorkItem/index.tsx"],"sourcesContent":["import Modal from '@/components/Modal';\nimport {\n  Priority,\n  Status,\n  StatusLabels,\n  WorkItemType,\n  useCreateWorkItemMutation,\n  WorkItemCreateInput,\n  useGetPartsQuery,\n  useGetUsersQuery,\n  useGetProgramsQuery,\n  useGetMilestonesQuery,\n  useGetDeliverableTypesQuery,\n  useGetIssueTypesQuery,\n  useGetWorkItemsQuery,\n  DeliverableTypeLabels,\n  IssueTypeLabels,\n} from '@/state/api';\nimport React, { useState } from 'react';\nimport { formatISO } from 'date-fns';\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n  id?: string | null;\n  workItemType?: WorkItemType;\n};\n\nconst ModalNewWorkItem = ({\n  isOpen,\n  onClose,\n  id = null,\n  workItemType: initialWorkItemType = WorkItemType.Task,\n}: Props) => {\n  const { data: parts = [], isLoading: partsLoading } = useGetPartsQuery();\n  const { data: users = [], isLoading: usersLoading } = useGetUsersQuery();\n  const { data: programs = [], isLoading: programsLoading } = useGetProgramsQuery();\n  const { data: milestones = [], isLoading: milestonesLoading } = useGetMilestonesQuery();\n  const { data: deliverableTypes = [] } = useGetDeliverableTypesQuery();\n  const { data: issueTypes = [] } = useGetIssueTypesQuery();\n  const { data: allWorkItems = [] } = useGetWorkItemsQuery();\n  const [createWorkItem, { isLoading }] = useCreateWorkItemMutation();\n  const [workItemType, setWorkItemType] = useState<WorkItemType | \"\">(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [status, setStatus] = useState<Status | \"\">(\"\");\n  const [priority, setPriority] = useState<Priority | \"\">(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [dateOpened, setDateOpened] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [estimatedCompletionDate, setEstimatedCompletionDate] = useState(\"\");\n  const [actualCompletionDate, setActualCompletionDate] = useState(\"\");\n  const [percentComplete, setPercentComplete] = useState<number>(0);\n  const [inputStatus, setInputStatus] = useState(\"\");\n  const [partIds, setPartIds] = useState<number[]>([]);\n  const [partSearchQuery, setPartSearchQuery] = useState(\"\");\n  const [dependencyWorkItemIds, setDependencyWorkItemIds] = useState<number[]>([]);\n  const [dependencySearchQuery, setDependencySearchQuery] = useState(\"\");\n  const [programId, setProgramId] = useState(\"\");\n  const [dueByMilestoneId, setDueByMilestoneId] = useState(\"\");\n  const [authorUserId, setAuthorUserId] = useState(\"\");\n  const [assignedUserId, setAssignedUserId] = useState(\"\");\n\n  // Subtype fields\n  const [issueType, setIssueType] = useState<string>(\"\");\n  const [rootCause, setRootCause] = useState(\"\");\n  const [correctiveAction, setCorrectiveAction] = useState(\"\");\n  const [deliverableType, setDeliverableType] = useState<string>(\"\");\n\n  const handleSubmit = async () => {\n    if (!isFormValid()) return;\n\n    const formattedDateOpened = formatISO(new Date(dateOpened), { representation: 'complete' });\n    const formattedDueDate = formatISO(new Date(dueDate), { representation: 'complete' });\n    const formattedEstimatedCompletionDate = formatISO(new Date(estimatedCompletionDate), { representation: 'complete' });\n    const formattedActualCompletionDate = actualCompletionDate\n      ? formatISO(new Date(actualCompletionDate), { representation: 'complete' })\n      : undefined;\n\n\n    const payload: WorkItemCreateInput = {\n      workItemType: workItemType as WorkItemType,\n      title,\n      description,\n      status: status as Status,\n      priority: priority as Priority,\n      tags,\n      dateOpened: formattedDateOpened,\n      dueDate: formattedDueDate,\n      estimatedCompletionDate: formattedEstimatedCompletionDate,\n      actualCompletionDate: formattedActualCompletionDate,\n      percentComplete,\n      inputStatus,\n      programId: parseInt(programId),\n      dueByMilestoneId: parseInt(dueByMilestoneId),\n      authorUserId: authorUserId,\n      assignedUserId: assignedUserId,\n    };\n\n    if (partIds.length > 0) {\n      payload.partIds = partIds;\n    }\n\n    if (dependencyWorkItemIds.length > 0) {\n      payload.dependencyWorkItemIds = dependencyWorkItemIds;\n    }\n\n    // Add subtype-specific data\n    if (workItemType === WorkItemType.Issue && issueType) {\n      payload.issueDetail = {\n        issueType: issueType, // Send type name as string\n      };\n      if (rootCause) payload.issueDetail.rootCause = rootCause;\n      if (correctiveAction) payload.issueDetail.correctiveAction = correctiveAction;\n    } else if (workItemType === WorkItemType.Deliverable && deliverableType) {\n      payload.deliverableDetail = {\n        deliverableType: deliverableType, // Send type name as string\n      };\n    }\n\n    try {\n      await createWorkItem(payload).unwrap();\n      onClose(); // close modal on success\n    } catch (err) {\n    console.error(\"Failed to create work item:\", err);\n    }\n  };\n\n  const isFormValid = (): boolean => {\n    const baseValid =\n      !!workItemType &&\n      !!title &&\n      !!description &&\n      !!status &&\n      !!priority &&\n      !!dateOpened &&\n      !!dueDate &&\n      !!estimatedCompletionDate &&\n      percentComplete >= 0 &&\n      !!inputStatus &&\n      !!programId &&\n      !!dueByMilestoneId &&\n      !!authorUserId &&\n      !!assignedUserId;\n\n    if (workItemType === WorkItemType.Issue) {\n      return baseValid && !!issueType;\n    }\n\n    if (workItemType === WorkItemType.Deliverable) {\n      return baseValid && !!deliverableType;\n    }\n\n    return baseValid;\n  };\n\n\n  const selectStyles =\n    \"mb-4 block w-full rounded border border-gray-300 px-3 py-2 dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  const inputStyles =\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} name={\"Create New Work Item\"}>\n      <form\n        className=\"mt-4 space-y-6\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          handleSubmit();\n        }}\n      >\n        <select\n          className={selectStyles}\n          value={workItemType}\n          onChange={(e) =>\n            setWorkItemType(\n              e.target.value\n                ? (WorkItemType[e.target.value as keyof typeof WorkItemType])\n                : \"\"\n            )\n          }\n        >\n          <option value=\"\">Select Work Item Type</option>\n          {Object.values(WorkItemType).map((type) => (\n            <option key={type} value={type}>\n              {type}\n            </option>\n          ))}\n        </select>\n\n        {/* Subtype fields */}\n        {workItemType === WorkItemType.Issue && (\n          <select\n            className={selectStyles}\n            value={issueType}\n            onChange={(e) => setIssueType(e.target.value)}\n          >\n            <option value=\"\">Select Issue Type</option>\n            {issueTypes.map((type) => (\n                <option key={type.id} value={type.name}>\n                  {IssueTypeLabels[type.name] || type.name}\n                </option>\n              ))}\n          </select>\n        )}\n\n        {workItemType === WorkItemType.Deliverable && (\n          <select\n            className={selectStyles}\n            value={deliverableType}\n            onChange={(e) => setDeliverableType(e.target.value)}\n          >\n            <option value=\"\">Select Deliverable Type</option>\n            {deliverableTypes.map((type) => (\n              <option key={type.id} value={type.name}>\n                {DeliverableTypeLabels[type.name] || type.name}\n              </option>\n            ))}\n          </select>\n        )}\n        \n        <input\n          type=\"text\"\n          className={inputStyles}\n          placeholder=\"Title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <textarea\n          className={inputStyles}\n          placeholder=\"Description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n\n        {workItemType === WorkItemType.Issue && (\n          <>\n            <textarea\n              className={inputStyles}\n              placeholder=\"Root Cause\"\n              value={rootCause}\n              onChange={(e) => setRootCause(e.target.value)}\n            />\n            <textarea\n              className={inputStyles}\n              placeholder=\"Corrective Action\"\n              value={correctiveAction}\n              onChange={(e) => setCorrectiveAction(e.target.value)}\n            />\n          </>\n        )}\n\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n          <select\n            className={selectStyles}\n            value={status}\n            onChange={(e) => setStatus(e.target.value as Status)}\n          >\n            <option value=\"\">Select Status</option>\n            {Object.values(Status).map((s) => (\n              <option key={s} value={s}>\n                {StatusLabels[s]}\n              </option>\n            ))}\n          </select>\n          <select\n            className={selectStyles}\n            value={priority}\n            onChange={(e) => setPriority(e.target.value as Priority)}\n          >\n            <option value=\"\">Select Priority</option>\n            <option value={Priority.Urgent}>Urgent</option>\n            <option value={Priority.High}>High</option>\n            <option value={Priority.Medium}>Medium</option>\n            <option value={Priority.Low}>Low</option>\n            <option value={Priority.Backlog}>Backlog</option>\n          </select>\n        </div>\n        <input\n          type=\"text\"\n          className={inputStyles}\n          placeholder=\"Tags (comma separated)\"\n          value={tags}\n          onChange={(e) => setTags(e.target.value)}\n        />\n\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Date Opened:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={dateOpened}\n              onChange={(e) => setDateOpened(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Due Date:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={dueDate}\n              onChange={(e) => setDueDate(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Estimated Completion:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={estimatedCompletionDate}\n              onChange={(e) => setEstimatedCompletionDate(e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n              Actual Completion:\n            </label>\n            <input\n              type=\"date\"\n              className={inputStyles}\n              value={actualCompletionDate}\n              onChange={(e) => setActualCompletionDate(e.target.value)}\n            />\n          </div>\n        </div>\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\n            Percent Complete:\n          </label>\n          <input\n            type=\"number\"\n            className={inputStyles}\n            value={percentComplete}\n            onChange={(e) => setPercentComplete(Number(e.target.value))}\n            min={0}\n            max={100}\n          />\n        </div>\n        <input\n          type=\"text\"\n          className={inputStyles}\n          placeholder=\"Current Status\"\n          value={inputStatus}\n          onChange={(e) => setInputStatus(e.target.value)}\n        />\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300 mb-1\">\n            Affected Part(s):\n          </label>\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              className={inputStyles}\n              placeholder=\"Search parts...\"\n              value={partSearchQuery}\n              onChange={(e) => setPartSearchQuery(e.target.value)}\n              onFocus={() => setPartSearchQuery(\"\")}\n            />\n            {partSearchQuery && (\n              <div className=\"absolute z-10 mt-1 w-full max-h-60 overflow-auto rounded-md border border-gray-300 bg-white shadow-lg dark:border-gray-700 dark:bg-dark-secondary\">\n                {parts\n                  .filter((part) => {\n                    const searchLower = partSearchQuery.toLowerCase();\n                    return (\n                      part.code.toLowerCase().includes(searchLower) ||\n                      part.partName.toLowerCase().includes(searchLower)\n                    );\n                  })\n                  .slice(0, 10)\n                  .map((part) => {\n                    const isSelected = partIds.includes(part.id);\n                    return (\n                      <div\n                        key={part.id}\n                        className={`cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 ${\n                          isSelected ? \"bg-blue-100 dark:bg-blue-900\" : \"\"\n                        }`}\n                        onClick={() => {\n                          if (isSelected) {\n                            setPartIds(partIds.filter((id) => id !== part.id));\n                          } else {\n                            setPartIds([...partIds, part.id]);\n                          }\n                          setPartSearchQuery(\"\");\n                        }}\n                      >\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm font-medium dark:text-white\">\n                            {part.code}: {part.partName}\n                          </span>\n                          {isSelected && <span className=\"text-xs text-blue-600 dark:text-blue-400\">✓</span>}\n                        </div>\n                      </div>\n                    );\n                  })}\n              </div>\n            )}\n          </div>\n          {partIds.length > 0 && (\n            <div className=\"mt-2 flex flex-wrap gap-2\">\n              {partIds.map((partId) => {\n                const part = parts.find((p) => p.id === partId);\n                if (!part) return null;\n                return (\n                  <span\n                    key={partId}\n                    className=\"inline-flex items-center gap-1 rounded-full bg-blue-100 px-3 py-1 text-sm text-blue-800 dark:bg-blue-900 dark:text-blue-200\"\n                  >\n                    {part.code}: {part.partName}\n                    <button\n                      type=\"button\"\n                      onClick={() => setPartIds(partIds.filter((id) => id !== partId))}\n                      className=\"ml-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200\"\n                    >\n                      ×\n                    </button>\n                  </span>\n                );\n              })}\n            </div>\n          )}\n        </div>\n        <div>\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300 mb-1\">\n            Dependencies:\n          </label>\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              className={inputStyles}\n              placeholder=\"Search work items...\"\n              value={dependencySearchQuery}\n              onChange={(e) => setDependencySearchQuery(e.target.value)}\n              onFocus={() => setDependencySearchQuery(\"\")}\n            />\n            {dependencySearchQuery && (\n              <div className=\"absolute z-10 mt-1 w-full max-h-60 overflow-auto rounded-md border border-gray-300 bg-white shadow-lg dark:border-gray-700 dark:bg-dark-secondary\">\n                {allWorkItems\n                  .filter((wi) => {\n                    const searchLower = dependencySearchQuery.toLowerCase();\n                    return (\n                      wi.id !== Number(id) &&\n                      (wi.title.toLowerCase().includes(searchLower) ||\n                        wi.id.toString().includes(searchLower) ||\n                        wi.workItemType.toLowerCase().includes(searchLower))\n                    );\n                  })\n                  .slice(0, 10)\n                  .map((wi) => {\n                    const isSelected = dependencyWorkItemIds.includes(wi.id);\n                    const prefix = wi.workItemType === \"Deliverable\" ? \"D\" : wi.workItemType === \"Issue\" ? \"I\" : \"T\";\n                    return (\n                      <div\n                        key={wi.id}\n                        className={`cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 ${\n                          isSelected ? \"bg-blue-100 dark:bg-blue-900\" : \"\"\n                        }`}\n                        onClick={() => {\n                          if (isSelected) {\n                            setDependencyWorkItemIds(dependencyWorkItemIds.filter((id) => id !== wi.id));\n                          } else {\n                            setDependencyWorkItemIds([...dependencyWorkItemIds, wi.id]);\n                          }\n                          setDependencySearchQuery(\"\");\n                        }}\n                      >\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm font-medium dark:text-white\">\n                            {prefix}{wi.id}: {wi.title}\n                          </span>\n                          {isSelected && <span className=\"text-xs text-blue-600 dark:text-blue-400\">✓</span>}\n                        </div>\n                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                          {wi.workItemType} • {wi.status}\n                        </div>\n                      </div>\n                    );\n                  })}\n              </div>\n            )}\n          </div>\n          {dependencyWorkItemIds.length > 0 && (\n            <div className=\"mt-2 flex flex-wrap gap-2\">\n              {dependencyWorkItemIds.map((depId) => {\n                const dep = allWorkItems.find((wi) => wi.id === depId);\n                if (!dep) return null;\n                const prefix = dep.workItemType === \"Deliverable\" ? \"D\" : dep.workItemType === \"Issue\" ? \"I\" : \"T\";\n                return (\n                  <span\n                    key={depId}\n                    className=\"inline-flex items-center gap-1 rounded-full bg-blue-100 px-3 py-1 text-sm text-blue-800 dark:bg-blue-900 dark:text-blue-200\"\n                  >\n                    {prefix}{dep.id}: {dep.title}\n                    <button\n                      type=\"button\"\n                      onClick={() => setDependencyWorkItemIds(dependencyWorkItemIds.filter((id) => id !== depId))}\n                      className=\"ml-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200\"\n                    >\n                      ×\n                    </button>\n                  </span>\n                );\n              })}\n            </div>\n          )}\n        </div>\n        <select\n          className={inputStyles}\n          value={programId}\n          onChange={(e) => setProgramId(e.target.value)}\n          disabled={programsLoading}\n        >\n          <option value=\"\">Select Program</option>\n          {programs.map((program) => (\n            <option key={program.id} value={program.id}>\n            {program.name}\n            </option>\n          ))}\n        </select>\n        <select\n          className={inputStyles}\n          value={dueByMilestoneId}\n          onChange={(e) => setDueByMilestoneId(e.target.value)}\n          disabled={milestonesLoading}\n        >\n          <option value=\"\">Select Milestone</option>\n          {milestones.map((milestone) => (\n              <option key={milestone.id} value={milestone.id}>\n              {milestone.name}\n              </option>\n          ))}\n        </select>\n        <select\n          className={inputStyles}\n          value={authorUserId}\n          onChange={(e) => setAuthorUserId(e.target.value)}\n          disabled={usersLoading}\n        >\n          <option value=\"\">Select Author User</option>\n          {users.map((user) => (\n              <option key={user.id} value={user.id}>\n              {user.name} ({user.username})\n              </option>\n          ))}\n        </select>\n        <select\n          className={inputStyles}\n          value={assignedUserId}\n          onChange={(e) => setAssignedUserId(e.target.value)}\n          disabled={usersLoading}\n        >\n          <option value=\"\">Select Assigned User</option>\n          {users.map((user) => (\n              <option key={user.id} value={user.id}>\n              {user.name} ({user.username})\n              </option>\n          ))}\n        </select>\n        \n\n        <button\n          type=\"submit\"\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\n            !isFormValid() || isLoading ? \"cursor-not-allowed opacity-50\" : \"\"\n          }`}\n          disabled={!isFormValid() || isLoading}\n        >\n          {isLoading ? `Creating ${workItemType}...` : `Create Work Item ${workItemType}`}\n        </button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default ModalNewWorkItem;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAiBA;AACA;;;;;;;AASA,MAAM,mBAAmB;QAAC,EACxB,MAAM,EACN,OAAO,EACP,KAAK,IAAI,EACT,cAAc,sBAAsB,sIAAY,CAAC,IAAI,EAC/C;;IACN,MAAM,EAAE,MAAM,QAAQ,EAAE,EAAE,WAAW,YAAY,EAAE,GAAG,IAAA,0IAAgB;IACtE,MAAM,EAAE,MAAM,QAAQ,EAAE,EAAE,WAAW,YAAY,EAAE,GAAG,IAAA,0IAAgB;IACtE,MAAM,EAAE,MAAM,WAAW,EAAE,EAAE,WAAW,eAAe,EAAE,GAAG,IAAA,6IAAmB;IAC/E,MAAM,EAAE,MAAM,aAAa,EAAE,EAAE,WAAW,iBAAiB,EAAE,GAAG,IAAA,+IAAqB;IACrF,MAAM,EAAE,MAAM,mBAAmB,EAAE,EAAE,GAAG,IAAA,qJAA2B;IACnE,MAAM,EAAE,MAAM,aAAa,EAAE,EAAE,GAAG,IAAA,+IAAqB;IACvD,MAAM,EAAE,MAAM,eAAe,EAAE,EAAE,GAAG,IAAA,8IAAoB;IACxD,MAAM,CAAC,gBAAgB,EAAE,SAAS,EAAE,CAAC,GAAG,IAAA,mJAAyB;IACjE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAoB;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAc;IAClD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,IAAA,yKAAQ,EAAC;IACvE,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,yKAAQ,EAAC;IACjE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAS;IAC/D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAC/E,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,yKAAQ,EAAC;IACnE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IAErD,iBAAiB;IACjB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAS;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAS;IAE/D,MAAM,eAAe;QACnB,IAAI,CAAC,eAAe;QAEpB,MAAM,sBAAsB,IAAA,wJAAS,EAAC,IAAI,KAAK,aAAa;YAAE,gBAAgB;QAAW;QACzF,MAAM,mBAAmB,IAAA,wJAAS,EAAC,IAAI,KAAK,UAAU;YAAE,gBAAgB;QAAW;QACnF,MAAM,mCAAmC,IAAA,wJAAS,EAAC,IAAI,KAAK,0BAA0B;YAAE,gBAAgB;QAAW;QACnH,MAAM,gCAAgC,uBAClC,IAAA,wJAAS,EAAC,IAAI,KAAK,uBAAuB;YAAE,gBAAgB;QAAW,KACvE;QAGJ,MAAM,UAA+B;YACnC,cAAc;YACd;YACA;YACA,QAAQ;YACR,UAAU;YACV;YACA,YAAY;YACZ,SAAS;YACT,yBAAyB;YACzB,sBAAsB;YACtB;YACA;YACA,WAAW,SAAS;YACpB,kBAAkB,SAAS;YAC3B,cAAc;YACd,gBAAgB;QAClB;QAEA,IAAI,QAAQ,MAAM,GAAG,GAAG;YACtB,QAAQ,OAAO,GAAG;QACpB;QAEA,IAAI,sBAAsB,MAAM,GAAG,GAAG;YACpC,QAAQ,qBAAqB,GAAG;QAClC;QAEA,4BAA4B;QAC5B,IAAI,iBAAiB,sIAAY,CAAC,KAAK,IAAI,WAAW;YACpD,QAAQ,WAAW,GAAG;gBACpB,WAAW;YACb;YACA,IAAI,WAAW,QAAQ,WAAW,CAAC,SAAS,GAAG;YAC/C,IAAI,kBAAkB,QAAQ,WAAW,CAAC,gBAAgB,GAAG;QAC/D,OAAO,IAAI,iBAAiB,sIAAY,CAAC,WAAW,IAAI,iBAAiB;YACvE,QAAQ,iBAAiB,GAAG;gBAC1B,iBAAiB;YACnB;QACF;QAEA,IAAI;YACF,MAAM,eAAe,SAAS,MAAM;YACpC,WAAW,yBAAyB;QACtC,EAAE,OAAO,KAAK;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C;IACF;IAEA,MAAM,cAAc;QAClB,MAAM,YACJ,CAAC,CAAC,gBACF,CAAC,CAAC,SACF,CAAC,CAAC,eACF,CAAC,CAAC,UACF,CAAC,CAAC,YACF,CAAC,CAAC,cACF,CAAC,CAAC,WACF,CAAC,CAAC,2BACF,mBAAmB,KACnB,CAAC,CAAC,eACF,CAAC,CAAC,aACF,CAAC,CAAC,oBACF,CAAC,CAAC,gBACF,CAAC,CAAC;QAEJ,IAAI,iBAAiB,sIAAY,CAAC,KAAK,EAAE;YACvC,OAAO,aAAa,CAAC,CAAC;QACxB;QAEA,IAAI,iBAAiB,sIAAY,CAAC,WAAW,EAAE;YAC7C,OAAO,aAAa,CAAC,CAAC;QACxB;QAEA,OAAO;IACT;IAGA,MAAM,eACJ;IAEF,MAAM,cACJ;IAEF,qBACE,6LAAC,kJAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,MAAM;kBAC7C,cAAA,6LAAC;YACC,WAAU;YACV,UAAU,CAAC;gBACT,EAAE,cAAc;gBAChB;YACF;;8BAEA,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IACT,gBACE,EAAE,MAAM,CAAC,KAAK,GACT,sIAAY,CAAC,EAAE,MAAM,CAAC,KAAK,CAA8B,GAC1D;;sCAIR,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,OAAO,MAAM,CAAC,sIAAY,EAAE,GAAG,CAAC,CAAC,qBAChC,6LAAC;gCAAkB,OAAO;0CACvB;+BADU;;;;;;;;;;;gBAOhB,iBAAiB,sIAAY,CAAC,KAAK,kBAClC,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;;sCAE5C,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,WAAW,GAAG,CAAC,CAAC,qBACb,6LAAC;gCAAqB,OAAO,KAAK,IAAI;0CACnC,yIAAe,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI;+BAD7B,KAAK,EAAE;;;;;;;;;;;gBAO3B,iBAAiB,sIAAY,CAAC,WAAW,kBACxC,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;;sCAElD,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,iBAAiB,GAAG,CAAC,CAAC,qBACrB,6LAAC;gCAAqB,OAAO,KAAK,IAAI;0CACnC,+IAAqB,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI;+BADnC,KAAK,EAAE;;;;;;;;;;;8BAO1B,6LAAC;oBACC,MAAK;oBACL,WAAW;oBACX,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;8BAE1C,6LAAC;oBACC,WAAW;oBACX,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;gBAG/C,iBAAiB,sIAAY,CAAC,KAAK,kBAClC;;sCACE,6LAAC;4BACC,WAAW;4BACX,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;;;;;;sCAE9C,6LAAC;4BACC,WAAW;4BACX,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;;;;;;;;8BAKzD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,WAAW;4BACX,OAAO;4BACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;;8CAEzC,6LAAC;oCAAO,OAAM;8CAAG;;;;;;gCAChB,OAAO,MAAM,CAAC,gIAAM,EAAE,GAAG,CAAC,CAAC,kBAC1B,6LAAC;wCAAe,OAAO;kDACpB,sIAAY,CAAC,EAAE;uCADL;;;;;;;;;;;sCAKjB,6LAAC;4BACC,WAAW;4BACX,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;8CAE3C,6LAAC;oCAAO,OAAM;8CAAG;;;;;;8CACjB,6LAAC;oCAAO,OAAO,kIAAQ,CAAC,MAAM;8CAAE;;;;;;8CAChC,6LAAC;oCAAO,OAAO,kIAAQ,CAAC,IAAI;8CAAE;;;;;;8CAC9B,6LAAC;oCAAO,OAAO,kIAAQ,CAAC,MAAM;8CAAE;;;;;;8CAChC,6LAAC;oCAAO,OAAO,kIAAQ,CAAC,GAAG;8CAAE;;;;;;8CAC7B,6LAAC;oCAAO,OAAO,kIAAQ,CAAC,OAAO;8CAAE;;;;;;;;;;;;;;;;;;8BAGrC,6LAAC;oBACC,MAAK;oBACL,WAAW;oBACX,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;8BAGzC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAGlE,6LAAC;oCACC,MAAK;oCACL,WAAW;oCACX,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAIjD,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAGlE,6LAAC;oCACC,MAAK;oCACL,WAAW;oCACX,OAAO;oCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAI9C,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAGlE,6LAAC;oCACC,MAAK;oCACL,WAAW;oCACX,OAAO;oCACP,UAAU,CAAC,IAAM,2BAA2B,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sCAI9D,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiD;;;;;;8CAGlE,6LAAC;oCACC,MAAK;oCACL,WAAW;oCACX,OAAO;oCACP,UAAU,CAAC,IAAM,wBAAwB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;8BAI7D,6LAAC;;sCACC,6LAAC;4BAAM,WAAU;sCAAiD;;;;;;sCAGlE,6LAAC;4BACC,MAAK;4BACL,WAAW;4BACX,OAAO;4BACP,UAAU,CAAC,IAAM,mBAAmB,OAAO,EAAE,MAAM,CAAC,KAAK;4BACzD,KAAK;4BACL,KAAK;;;;;;;;;;;;8BAGT,6LAAC;oBACC,MAAK;oBACL,WAAW;oBACX,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;8BAEhD,6LAAC;;sCACC,6LAAC;4BAAM,WAAU;sCAAsD;;;;;;sCAGvE,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,MAAK;oCACL,WAAW;oCACX,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;oCAClD,SAAS,IAAM,mBAAmB;;;;;;gCAEnC,iCACC,6LAAC;oCAAI,WAAU;8CACZ,MACE,MAAM,CAAC,CAAC;wCACP,MAAM,cAAc,gBAAgB,WAAW;wCAC/C,OACE,KAAK,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,gBACjC,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC;oCAEzC,GACC,KAAK,CAAC,GAAG,IACT,GAAG,CAAC,CAAC;wCACJ,MAAM,aAAa,QAAQ,QAAQ,CAAC,KAAK,EAAE;wCAC3C,qBACE,6LAAC;4CAEC,WAAW,AAAC,qEAEX,OADC,aAAa,iCAAiC;4CAEhD,SAAS;gDACP,IAAI,YAAY;oDACd,WAAW,QAAQ,MAAM,CAAC,CAAC,KAAO,OAAO,KAAK,EAAE;gDAClD,OAAO;oDACL,WAAW;2DAAI;wDAAS,KAAK,EAAE;qDAAC;gDAClC;gDACA,mBAAmB;4CACrB;sDAEA,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAK,WAAU;;4DACb,KAAK,IAAI;4DAAC;4DAAG,KAAK,QAAQ;;;;;;;oDAE5B,4BAAc,6LAAC;wDAAK,WAAU;kEAA2C;;;;;;;;;;;;2CAjBvE,KAAK,EAAE;;;;;oCAqBlB;;;;;;;;;;;;wBAIP,QAAQ,MAAM,GAAG,mBAChB,6LAAC;4BAAI,WAAU;sCACZ,QAAQ,GAAG,CAAC,CAAC;gCACZ,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gCACxC,IAAI,CAAC,MAAM,OAAO;gCAClB,qBACE,6LAAC;oCAEC,WAAU;;wCAET,KAAK,IAAI;wCAAC;wCAAG,KAAK,QAAQ;sDAC3B,6LAAC;4CACC,MAAK;4CACL,SAAS,IAAM,WAAW,QAAQ,MAAM,CAAC,CAAC,KAAO,OAAO;4CACxD,WAAU;sDACX;;;;;;;mCARI;;;;;4BAaX;;;;;;;;;;;;8BAIN,6LAAC;;sCACC,6LAAC;4BAAM,WAAU;sCAAsD;;;;;;sCAGvE,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,MAAK;oCACL,WAAW;oCACX,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,yBAAyB,EAAE,MAAM,CAAC,KAAK;oCACxD,SAAS,IAAM,yBAAyB;;;;;;gCAEzC,uCACC,6LAAC;oCAAI,WAAU;8CACZ,aACE,MAAM,CAAC,CAAC;wCACP,MAAM,cAAc,sBAAsB,WAAW;wCACrD,OACE,GAAG,EAAE,KAAK,OAAO,OACjB,CAAC,GAAG,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,gBAC/B,GAAG,EAAE,CAAC,QAAQ,GAAG,QAAQ,CAAC,gBAC1B,GAAG,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY;oCAEzD,GACC,KAAK,CAAC,GAAG,IACT,GAAG,CAAC,CAAC;wCACJ,MAAM,aAAa,sBAAsB,QAAQ,CAAC,GAAG,EAAE;wCACvD,MAAM,SAAS,GAAG,YAAY,KAAK,gBAAgB,MAAM,GAAG,YAAY,KAAK,UAAU,MAAM;wCAC7F,qBACE,6LAAC;4CAEC,WAAW,AAAC,qEAEX,OADC,aAAa,iCAAiC;4CAEhD,SAAS;gDACP,IAAI,YAAY;oDACd,yBAAyB,sBAAsB,MAAM,CAAC,CAAC,KAAO,OAAO,GAAG,EAAE;gDAC5E,OAAO;oDACL,yBAAyB;2DAAI;wDAAuB,GAAG,EAAE;qDAAC;gDAC5D;gDACA,yBAAyB;4CAC3B;;8DAEA,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAK,WAAU;;gEACb;gEAAQ,GAAG,EAAE;gEAAC;gEAAG,GAAG,KAAK;;;;;;;wDAE3B,4BAAc,6LAAC;4DAAK,WAAU;sEAA2C;;;;;;;;;;;;8DAE5E,6LAAC;oDAAI,WAAU;;wDACZ,GAAG,YAAY;wDAAC;wDAAI,GAAG,MAAM;;;;;;;;2CApB3B,GAAG,EAAE;;;;;oCAwBhB;;;;;;;;;;;;wBAIP,sBAAsB,MAAM,GAAG,mBAC9B,6LAAC;4BAAI,WAAU;sCACZ,sBAAsB,GAAG,CAAC,CAAC;gCAC1B,MAAM,MAAM,aAAa,IAAI,CAAC,CAAC,KAAO,GAAG,EAAE,KAAK;gCAChD,IAAI,CAAC,KAAK,OAAO;gCACjB,MAAM,SAAS,IAAI,YAAY,KAAK,gBAAgB,MAAM,IAAI,YAAY,KAAK,UAAU,MAAM;gCAC/F,qBACE,6LAAC;oCAEC,WAAU;;wCAET;wCAAQ,IAAI,EAAE;wCAAC;wCAAG,IAAI,KAAK;sDAC5B,6LAAC;4CACC,MAAK;4CACL,SAAS,IAAM,yBAAyB,sBAAsB,MAAM,CAAC,CAAC,KAAO,OAAO;4CACpF,WAAU;sDACX;;;;;;;mCARI;;;;;4BAaX;;;;;;;;;;;;8BAIN,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;oBAC5C,UAAU;;sCAEV,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;gCAAwB,OAAO,QAAQ,EAAE;0CACzC,QAAQ,IAAI;+BADA,QAAQ,EAAE;;;;;;;;;;;8BAK3B,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;oBACnD,UAAU;;sCAEV,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,WAAW,GAAG,CAAC,CAAC,0BACb,6LAAC;gCAA0B,OAAO,UAAU,EAAE;0CAC7C,UAAU,IAAI;+BADF,UAAU,EAAE;;;;;;;;;;;8BAK/B,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oBAC/C,UAAU;;sCAEV,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,MAAM,GAAG,CAAC,CAAC,qBACR,6LAAC;gCAAqB,OAAO,KAAK,EAAE;;oCACnC,KAAK,IAAI;oCAAC;oCAAG,KAAK,QAAQ;oCAAC;;+BADf,KAAK,EAAE;;;;;;;;;;;8BAK1B,6LAAC;oBACC,WAAW;oBACX,OAAO;oBACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;oBACjD,UAAU;;sCAEV,6LAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,MAAM,GAAG,CAAC,CAAC,qBACR,6LAAC;gCAAqB,OAAO,KAAK,EAAE;;oCACnC,KAAK,IAAI;oCAAC;oCAAG,KAAK,QAAQ;oCAAC;;+BADf,KAAK,EAAE;;;;;;;;;;;8BAO1B,6LAAC;oBACC,MAAK;oBACL,WAAW,AAAC,kOAEX,OADC,CAAC,iBAAiB,YAAY,kCAAkC;oBAElE,UAAU,CAAC,iBAAiB;8BAE3B,YAAY,AAAC,YAAwB,OAAb,cAAa,SAAO,AAAC,oBAAgC,OAAb;;;;;;;;;;;;;;;;;AAK3E;GA3iBM;;QAMkD,0IAAgB;QAChB,0IAAgB;QACV,6IAAmB;QACf,+IAAqB;QAC7C,qJAA2B;QACjC,+IAAqB;QACnB,8IAAoB;QAChB,mJAAyB;;;KAb7D;uCA6iBS","debugId":null}},
    {"offset": {"line": 964, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/BurndownChart/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { WorkItem, Status } from \"@/state/api\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ChartOptions,\r\n} from \"chart.js\";\r\nimport { format, eachDayOfInterval, isAfter, isBefore, isEqual, parseISO } from \"date-fns\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\r\n\r\ntype Props = {\r\n  workItems: WorkItem[];\r\n  startDate?: string;\r\n  endDate?: string;\r\n  isDarkMode?: boolean;\r\n};\r\n\r\n// Helper function to parse date string without timezone conversion\r\n// Extracts the date portion (YYYY-MM-DD) and parses it as a local date\r\nconst parseDateOnly = (dateString: string | undefined): Date | null => {\r\n  if (!dateString) return null;\r\n  try {\r\n    // Extract just the date portion (YYYY-MM-DD) from ISO string\r\n    const dateOnly = dateString.split('T')[0];\r\n    // Parse as local date to avoid timezone conversion\r\n    const [year, month, day] = dateOnly.split('-').map(Number);\r\n    if (isNaN(year) || isNaN(month) || isNaN(day)) return null;\r\n    return new Date(year, month - 1, day);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst BurndownChart: React.FC<Props> = ({ workItems, startDate, endDate, isDarkMode = false }) => {\r\n  const today = new Date();\r\n  // Set today to midnight to avoid timezone issues when comparing\r\n  today.setHours(0, 0, 0, 0);\r\n\r\n  // Determine chart start/end date\r\n  const minDate = useMemo(() => {\r\n    if (startDate) {\r\n      const parsed = parseDateOnly(startDate);\r\n      return parsed || today;\r\n    }\r\n\r\n    const dates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .concat(workItems.map((w) => parseDateOnly(w.estimatedCompletionDate || w.dueDate)))\r\n      .concat(workItems.map((w) => parseDateOnly(w.actualCompletionDate || w.dueDate)))\r\n      .filter((d): d is Date => d !== null);\r\n    \r\n    return dates.length > 0 \r\n      ? new Date(Math.min(...dates.map((d) => d.getTime())))\r\n      : today;\r\n  }, [workItems, startDate, today]);\r\n\r\n  const maxDate = useMemo(() => {\r\n    // If endDate is explicitly provided, use it\r\n    if (endDate) {\r\n      const parsed = parseDateOnly(endDate);\r\n      return parsed || today;\r\n    }\r\n\r\n    // Collect all dates from work items (dueDate, estimatedCompletionDate, actualCompletionDate)\r\n    const dates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .concat(workItems.map((w) => parseDateOnly(w.estimatedCompletionDate || w.dueDate)))\r\n      .concat(workItems.map((w) => parseDateOnly(w.actualCompletionDate || w.dueDate)))\r\n      .filter((d): d is Date => d !== null);\r\n    \r\n    // Get the maximum of all dates\r\n    const max = dates.length > 0 \r\n      ? new Date(Math.max(...dates.map((d) => d.getTime())))\r\n      : today;\r\n    \r\n    // Ensure the max is at least today\r\n    return isAfter(max, today) ? max : today;\r\n  }, [workItems, endDate, today]);\r\n\r\n  const dates = eachDayOfInterval({ start: minDate, end: maxDate }).map((d) => format(d, \"yyyy-MM-dd\"));\r\n\r\n  // Get total number of work items\r\n  const totalItems = workItems.length;\r\n\r\n  // Get the latest due date for baseline calculation\r\n  const latestDueDate = useMemo(() => {\r\n    const dueDates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .filter((d): d is Date => d !== null);\r\n    return dueDates.length > 0 ? new Date(Math.max(...dueDates.map((d) => d.getTime()))) : maxDate;\r\n  }, [workItems, maxDate]);\r\n\r\n  // Helper function to count remaining items for actuals (based on actual completion date or status)\r\n  const getActualsRemaining = (dateStr: string): number => {\r\n    const currentDate = parseDateOnly(dateStr);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      // If item has an actualCompletionDate, use it for precise timing\r\n      if (w.actualCompletionDate) {\r\n        const completionDate = parseDateOnly(w.actualCompletionDate);\r\n        if (!completionDate) return true; // No valid date means still remaining\r\n        // Item is remaining if completion date is after current date\r\n        return isAfter(completionDate, currentDate);\r\n      }\r\n      \r\n      // If no actualCompletionDate, check status\r\n      // If status is Completed, we don't know when it was completed, so we can't accurately track it\r\n      // For items without completion date but marked as completed, we'll assume they're completed\r\n      // This is a limitation - ideally all completed items should have actualCompletionDate\r\n      if (w.status === Status.Completed) {\r\n        // Without a date, we can't know when it was completed, so we'll treat it as completed\r\n        // This means it won't be counted as remaining\r\n        return false;\r\n      }\r\n      \r\n      // Item is still remaining if not completed\r\n      return true;\r\n    }).length;\r\n  };\r\n\r\n  // Helper function to count remaining items for forecast (based on estimated completion date)\r\n  const getForecastRemaining = (dateStr: string): number => {\r\n    const currentDate = parseDateOnly(dateStr);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      const estimatedDate = w.estimatedCompletionDate \r\n        ? parseDateOnly(w.estimatedCompletionDate)\r\n        : w.dueDate \r\n        ? parseDateOnly(w.dueDate)\r\n        : null;\r\n      \r\n      if (!estimatedDate) return true; // No date means still remaining\r\n      \r\n      // Item is remaining if estimated completion date is after current date\r\n      return isAfter(estimatedDate, currentDate);\r\n    }).length;\r\n  };\r\n\r\n  // Calculate baseline: count items with due dates after current date\r\n  // This represents the planned burndown - items remaining based on their due dates\r\n  const baselineLine = dates.map((d) => {\r\n    const currentDate = parseDateOnly(d);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      const dueDate = w.dueDate ? parseDateOnly(w.dueDate) : null;\r\n      if (!dueDate) return true; // Items without due dates are always remaining\r\n      // Item is remaining if due date is after current date\r\n      return isAfter(dueDate, currentDate);\r\n    }).length;\r\n  });\r\n\r\n  // Calculate forecast line: items remaining based on estimated completion dates\r\n  const forecastLine = dates.map((d) => getForecastRemaining(d));\r\n\r\n  // Calculate actuals line: items remaining based on actual completion dates (only up to today)\r\n  const actualsLine = dates.map((d) => {\r\n    const currentDate = parseDateOnly(d);\r\n    if (!currentDate) return null;\r\n    // Only show actuals up to today\r\n    if (isAfter(currentDate, today)) {\r\n      return null;\r\n    }\r\n    return getActualsRemaining(d);\r\n  });\r\n\r\n  const data = {\r\n    labels: dates,\r\n    datasets: [\r\n      {\r\n        label: \"Actuals (Remaining)\",\r\n        data: actualsLine,\r\n        borderColor: \"#66CDAA\",\r\n        backgroundColor: \"rgba(102,205,170,0.2)\",\r\n        fill: true,\r\n        spanGaps: false, // prevents the line from connecting beyond nulls\r\n      },\r\n      {\r\n        label: \"Baseline (Due Date)\",\r\n        data: baselineLine,\r\n        borderColor: \"#FF9500\",\r\n        backgroundColor: \"rgba(255,149,0,0.2)\",\r\n        fill: true,\r\n      },\r\n      {\r\n        label: \"Forecast (Estimated Completion)\",\r\n        data: forecastLine,\r\n        borderColor: \"#6FA8DC\",\r\n        backgroundColor: \"rgba(111, 168, 220, 0.2)\",\r\n        fill: true,\r\n      },\r\n    ],\r\n  };\r\n\r\n    const textColor = isDarkMode ? \"#FFFFFF\" : \"#000000\";\r\n    const gridColor = isDarkMode ? \"#444\" : \"#CCC\";\r\n\r\n    const options: ChartOptions<\"line\"> = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: { \r\n            position: \"top\",\r\n            labels: {\r\n                color: textColor, // legend text\r\n                usePointStyle: true,\r\n            },\r\n            },\r\n            title: { \r\n                display: false, \r\n                text: \"Work Item Burndown Chart\",\r\n                color: textColor, // chart title\r\n            },\r\n            tooltip: {\r\n                mode: \"index\",\r\n                intersect: false,\r\n                backgroundColor: isDarkMode ? \"#222\" : \"#fff\",\r\n                titleColor: textColor,\r\n                bodyColor: textColor,\r\n                borderColor: gridColor,\r\n                borderWidth: 1,\r\n                callbacks: {\r\n                    label: function (tooltipItem) {\r\n                        const datasetLabel = tooltipItem.dataset.label || \"\";\r\n                        const value = tooltipItem.raw === null ? \"—\" : tooltipItem.raw;\r\n                        return `${datasetLabel}: ${value}`;\r\n                    },\r\n                },\r\n            },\r\n        },\r\n        interaction: {\r\n            mode: \"index\",\r\n            intersect: false,\r\n        },\r\n        scales: {\r\n            x: {\r\n                title: { display: false, text: \"Date\", color: textColor },\r\n                ticks: { color: textColor },\r\n                grid: { color: gridColor },\r\n            },\r\n            y: {\r\n                beginAtZero: true,\r\n                title: { display: false, text: \"Remaining Work Items\", color: textColor },\r\n                ticks: { color: textColor },\r\n                grid: { color: gridColor },\r\n            },\r\n        },\r\n    };\r\n\r\n\r\n  return <Line data={data} options={options} />;\r\n};\r\n\r\nexport default BurndownChart;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1258, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/lib/utils.ts"],"sourcesContent":["export const dataGridClassNames =\r\n  \"border border-gray-200 bg-white shadow dark:border-stroke-dark dark:bg-dark-secondary dark:text-gray-200\";\r\n\r\nexport const dataGridSxStyles = (isDarkMode: boolean) => {\r\n  return {\r\n    \"& .MuiDataGrid-columnHeaders\": {\r\n      color: `${isDarkMode ? \"#e5e7eb\" : \"\"}`,\r\n      '& [role=\"row\"] > *': {\r\n        backgroundColor: `${isDarkMode ? \"#1d1f21\" : \"white\"}`,\r\n        borderColor: `${isDarkMode ? \"#2d3135\" : \"\"}`,\r\n      },\r\n    },\r\n    \"& .MuiIconbutton-root\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiTablePagination-root\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiTablePagination-selectIcon\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiDataGrid-cell\": {\r\n      border: \"none\",\r\n    },\r\n    \"& .MuiDataGrid-row\": {\r\n      borderBottom: `1px solid ${isDarkMode ? \"#2d3135\" : \"e5e7eb\"}`,\r\n      \"&:hover\": {\r\n        backgroundColor: `${isDarkMode ? \"#2d3135\" : \"#f3f4f6\"}`,\r\n      },\r\n    },\r\n    \"& .MuiDataGrid-withBorderColor\": {\r\n      borderColor: `${isDarkMode ? \"#2d3135\" : \"e5e7eb\"}`,\r\n    },\r\n  };\r\n};"],"names":[],"mappings":";;;;;;AAAO,MAAM,qBACX;AAEK,MAAM,mBAAmB,CAAC;IAC/B,OAAO;QACL,gCAAgC;YAC9B,OAAO,AAAC,GAA8B,OAA5B,aAAa,YAAY;YACnC,sBAAsB;gBACpB,iBAAiB,AAAC,GAAmC,OAAjC,aAAa,YAAY;gBAC7C,aAAa,AAAC,GAA8B,OAA5B,aAAa,YAAY;YAC3C;QACF;QACA,yBAAyB;YACvB,OAAO,AAAC,GAA8B,OAA5B,aAAa,YAAY;QACrC;QACA,8BAA8B;YAC5B,OAAO,AAAC,GAA8B,OAA5B,aAAa,YAAY;QACrC;QACA,oCAAoC;YAClC,OAAO,AAAC,GAA8B,OAA5B,aAAa,YAAY;QACrC;QACA,uBAAuB;YACrB,QAAQ;QACV;QACA,sBAAsB;YACpB,cAAc,AAAC,aAA8C,OAAlC,aAAa,YAAY;YACpD,WAAW;gBACT,iBAAiB,AAAC,GAAqC,OAAnC,aAAa,YAAY;YAC/C;QACF;QACA,kCAAkC;YAChC,aAAa,AAAC,GAAoC,OAAlC,aAAa,YAAY;QAC3C;IACF;AACF","debugId":null}},
    {"offset": {"line": 1304, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/work-items/deliverables/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAppSelector } from '@/app/redux';\nimport Header from '@/components/Header';\nimport ModalNewWorkItem from '@/components/ModalNewWorkItem';\nimport BurndownChart from '@/components/BurndownChart';\nimport { dataGridClassNames, dataGridSxStyles } from '@/lib/utils';\nimport { WorkItem, WorkItemType, Priority, Status, DeliverableTypeLabels, useGetWorkItemsQuery, useGetTeamsQuery, useGetUsersQuery, useGetProgramsQuery, useGetDeliverableTypesQuery } from '@/state/api';\nimport { DataGrid, GridColDef } from '@mui/x-data-grid';\nimport React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport { PlusSquare, SquarePen } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/contexts/AuthContext';\n\nconst getStatusColor = (status: Status) => {\n  switch (status) {\n    case Status.ToDo:\n      return \"bg-gray-100 text-gray-800\";\n    case Status.WorkInProgress:\n      return \"bg-blue-100 text-blue-800\";\n    case Status.UnderReview:\n      return \"bg-yellow-100 text-yellow-800\";\n    case Status.Completed:\n      return \"bg-green-100 text-green-800\";\n    default:\n      return \"bg-gray-100 text-gray-800\";\n  }\n};\n\nconst getPriorityColor = (priority: Priority) => {\n  switch (priority) {\n    case Priority.Urgent:\n      return \"bg-red-100 text-red-800\";\n    case Priority.High:\n      return \"bg-orange-100 text-orange-800\";\n    case Priority.Medium:\n      return \"bg-yellow-100 text-yellow-800\";\n    case Priority.Low:\n      return \"bg-green-100 text-green-800\";\n    case Priority.Backlog:\n      return \"bg-gray-100 text-gray-800\";\n    default:\n      return \"bg-gray-100 text-gray-800\";\n  }\n};\n\nconst formatDate = (dateString: string) => {\n  if (!dateString) return \"N/A\";\n  const date = new Date(dateString);\n  return date.toLocaleDateString();\n};\n\nconst workItemColumns: GridColDef<WorkItem>[] = [\n  { \n    field: \"workItemType\", \n    headerName: \"Type\", \n    width: 120,\n    renderCell: (params) => (\n      <span className=\"inline-flex rounded-full bg-purple-100 px-2 text-xs font-semibold leading-5 text-purple-800\">\n        {params.value}\n      </span>\n    ),\n  },\n  { \n    field: \"title\", \n    headerName: \"Title\", \n    minWidth: 200,\n    flex: 1,\n  },\n  { \n    field: \"status\", \n    headerName: \"Status\", \n    width: 140,\n    renderCell: (params) => (\n      <span className={`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${getStatusColor(params.value)}`}>\n        {params.value}\n      </span>\n    ),\n  },\n  { \n    field: \"priority\", \n    headerName: \"Priority\", \n    width: 110,\n    renderCell: (params) => (\n      <span className={`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${getPriorityColor(params.value)}`}>\n        {params.value}\n      </span>\n    ),\n  },\n  { \n    field: \"dueDate\", \n    headerName: \"Due Date\",\n    width: 120,\n    renderCell: (params) => {\n      const dateStr = formatDate(params.value);\n      const isPastDue = params.value && new Date(params.value) < new Date();\n      const isNotCompleted = params.row.status !== Status.Completed;\n      const shouldHighlight = isPastDue && isNotCompleted;\n      \n      return (\n        <span className={shouldHighlight ? \"text-red-600 font-semibold\" : \"\"}>\n          {dateStr}\n        </span>\n      );\n    },\n  },\n  { \n    field: \"estimatedCompletionDate\",\n    headerName: \"ECD\",\n    width: 130,\n    renderCell: (params) => {\n      const dateStr = formatDate(params.value);\n      const isPastDue = params.value && new Date(params.value) < new Date();\n      const isNotCompleted = params.row.status !== Status.Completed;\n      const shouldHighlight = isPastDue && isNotCompleted;\n      \n      return (\n        <span className={shouldHighlight ? \"text-red-600 font-semibold\" : \"\"}>\n          {dateStr}\n        </span>\n      );\n    },\n  },\n  { \n    field: \"percentComplete\", \n    headerName: \"% Complete\", \n    width: 110,\n    renderCell: (params) => (\n      <span className=\"font-medium\">{params.value ?? 0}%</span>\n    ),\n  },\n  { \n    field: \"inputStatus\", \n    headerName: \"Input Status\", \n    width: 200,\n    renderCell: (params) => params.value || \"N/A\",\n  },\n  { \n    field: \"assigneeUserName\", \n    headerName: \"Assignee\", \n    width: 150,\n    renderCell: (params) => params.value || \"Unassigned\",\n  },\n];\n\nconst DeliverablesPage = () => {\n    const router = useRouter();\n    const { user } = useAuth();\n    const [ isModalNewWorkItemOpen, setIsModalNewWorkItemOpen ] = useState(false);\n    const [ selectedPriority, setSelectedPriority ] = useState<Priority | \"all\">(\"all\");\n    const [ workItemFilter, setWorkItemFilter ] = useState<\"all\" | \"open\">(\"all\");\n    const [ selectedTeamId, setSelectedTeamId ] = useState<number | \"all\">(\"all\");\n    const [ selectedProgramId, setSelectedProgramId ] = useState<number | \"all\">(\"all\");\n    const [ selectedDeliverableType, setSelectedDeliverableType ] = useState<string | \"all\">(\"all\");\n\n    const { data: workItems, isLoading, isError: isWorkItemsError } = useGetWorkItemsQuery();\n    const { data: teams } = useGetTeamsQuery();\n    const { data: users } = useGetUsersQuery();\n    const { data: programs } = useGetProgramsQuery();\n    const { data: deliverableTypes } = useGetDeliverableTypesQuery();\n\n    const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\n\n    // First filter by work item type, then apply deliverable type filter, then program filter, then team filter, then status filter\n    const typeFilteredWorkItems = workItems?.filter((workItem: WorkItem) => workItem.workItemType === WorkItemType.Deliverable);\n    \n    // Apply deliverable type filtering\n    const deliverableTypeFilteredWorkItems = selectedDeliverableType === \"all\"\n        ? typeFilteredWorkItems\n        : typeFilteredWorkItems?.filter((item) => {\n            const type = item.deliverableDetail?.deliverableType;\n            const typeName = typeof type === 'string' ? type : (type && typeof type === 'object' && 'name' in type ? (type as { name: string }).name : '');\n            return typeName === selectedDeliverableType;\n          });\n    \n    // Apply program filtering\n    const programFilteredWorkItems = selectedProgramId === \"all\"\n        ? deliverableTypeFilteredWorkItems\n        : deliverableTypeFilteredWorkItems?.filter((item) => item.programId === selectedProgramId);\n    \n    // Apply team filtering\n    const teamFilteredWorkItems = selectedTeamId === \"all\" \n        ? programFilteredWorkItems\n        : programFilteredWorkItems?.filter((item) => {\n            const assignee = users?.find((u) => u.id === item.assignedUserId);\n            return assignee?.disciplineTeamId === selectedTeamId;\n        });\n    \n    const filteredWorkItems = workItemFilter === \"open\"\n        ? teamFilteredWorkItems?.filter((item) => item.status !== Status.Completed)\n        : teamFilteredWorkItems;\n\n    if (isWorkItemsError) return <div>Error fetching work items.</div>\n\n    // Priority filtering for the table\n    const filteredWorkItemsByPriority =\n        selectedPriority === \"all\"\n          ? filteredWorkItems\n          : filteredWorkItems?.filter((item) => item.priority === selectedPriority);\n    \n    const displayedWorkItems = [...(filteredWorkItemsByPriority || [])]\n        .sort((a, b) => new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime())\n        .map((item) => ({\n            ...item,\n            assigneeUserName: item.assigneeUser?.name || \"Unassigned\",\n        }));\n\n    // Priority counts for dropdown\n    const priorityCounts = filteredWorkItems?.reduce(\n        (acc: Record<string, number>, item: WorkItem) => {\n            acc[item.priority] = (acc[item.priority] || 0) + 1;\n            return acc;\n        },\n        {}\n    ) || {};\n\n    const totalCount = filteredWorkItems?.length || 0;\n\n    return (\n        <div className=\"m-5 p-4\">\n            <ModalNewWorkItem isOpen={isModalNewWorkItemOpen} onClose={() => setIsModalNewWorkItemOpen(false)} />\n            <Header\n                name=\"Deliverables\"\n                buttonComponent={\n                    <div className=\"flex items-center gap-4\">\n                        <button\n                            className=\"flex items-center rounded-md bg-blue-primary px-3 py-2 text-white hover:bg-blue-600 transition-colors\"\n                            onClick={() => setIsModalNewWorkItemOpen(true)}>\n                                <PlusSquare className=\"mr-2 h-5 w-5\" />\n                                Add Deliverable\n                        </button>\n                        \n                        {/* Edit Deliverable Types button - only visible to Admins, Managers, and Program Managers */}\n                        {user?.role && ['Admin', 'Manager', 'Program Manager'].includes(user.role) && (\n                            <button\n                                onClick={() => router.push('/deliverable-types')}\n                                className=\"flex items-center rounded-md bg-gray-300 px-3 py-2 text-sm font-medium text-gray-800 shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-dark-tertiary dark:text-white dark:hover:bg-gray-600\"\n                            >\n                                <SquarePen className=\"mr-2 h-4 w-4\" />\n                                Edit Deliverable Types\n                            </button>\n                        )}\n                        \n                        {/* Work Item Status Toggle */}\n                        <div className=\"flex items-center gap-2\">\n                            <div className=\"flex items-center gap-2 rounded-lg border border-gray-300 bg-gray-50 p-1 dark:border-gray-600 dark:bg-dark-tertiary\">\n                                <button\n                                    className={`px-3 py-1 text-sm font-medium transition-colors ${\n                                        workItemFilter === \"all\"\n                                            ? \"rounded-md bg-white text-gray-900 shadow-sm dark:bg-dark-secondary dark:text-white\"\n                                            : \"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                                    }`}\n                                    onClick={() => setWorkItemFilter(\"all\")}\n                                >\n                                    All Deliverables\n                                </button>\n                                <button\n                                    className={`px-3 py-1 text-sm font-medium transition-colors ${\n                                        workItemFilter === \"open\"\n                                            ? \"rounded-md bg-white text-gray-900 shadow-sm dark:bg-dark-secondary dark:text-white\"\n                                            : \"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                                    }`}\n                                    onClick={() => setWorkItemFilter(\"open\")}\n                                >\n                                    Open Deliverables\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                }\n            />\n            \n            {/* Filter Dropdowns */}\n            <div className=\"mb-6 flex items-center gap-4 flex-wrap\">\n                {/* Program Selector */}\n                <select\n                    id=\"program-select\"\n                    className=\"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:bg-dark-secondary dark:text-white\"\n                    value={selectedProgramId}\n                    onChange={(e) => {\n                        const value = e.target.value;\n                        setSelectedProgramId(value === \"all\" ? \"all\" : parseInt(value));\n                    }}\n                >\n                    <option value=\"all\">All Programs</option>\n                    {programs?.map((program) => (\n                        <option key={program.id} value={program.id}>\n                            {program.name}\n                        </option>\n                    ))}\n                </select>\n                \n                {/* Team Selector */}\n                <select\n                    id=\"team-select\"\n                    className=\"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:bg-dark-secondary dark:text-white\"\n                    value={selectedTeamId}\n                    onChange={(e) => {\n                        const value = e.target.value;\n                        setSelectedTeamId(value === \"all\" ? \"all\" : parseInt(value));\n                    }}\n                >\n                    <option value=\"all\">All Teams</option>\n                    {teams?.map((team) => (\n                        <option key={team.id} value={team.id}>\n                            {team.name}\n                        </option>\n                    ))}\n                </select>\n                \n                {/* Deliverable Type Selector */}\n                <select\n                    id=\"deliverable-type-select\"\n                    className=\"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:bg-dark-secondary dark:text-white\"\n                    value={selectedDeliverableType}\n                    onChange={(e) => {\n                        const value = e.target.value;\n                        setSelectedDeliverableType(value === \"all\" ? \"all\" : value);\n                    }}\n                >\n                    <option value=\"all\">All Deliverable Types</option>\n                    {deliverableTypes?.map((type) => (\n                        <option key={type.id} value={type.name}>\n                            {DeliverableTypeLabels[type.name] || type.name}\n                        </option>\n                    ))}\n                </select>\n            </div>\n            \n            {/* Priority Work Items Table */}\n            <div className=\"mb-6 rounded-lg bg-white p-4 shadow dark:bg-dark-secondary\">\n                <div className=\"mb-4 flex items-center justify-between\">\n                    <h3 className=\"text-lg font-semibold dark:text-white\">\n                        {selectedPriority === \"all\"\n                            ? \"All Deliverables\"\n                            : `${selectedPriority} Priority Deliverables`}\n                    </h3>\n                    <select\n                        value={selectedPriority}\n                        onChange={(e) => setSelectedPriority(e.target.value as Priority | \"all\")}\n                        className=\"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm dark:bg-dark-secondary dark:text-white\"\n                    >\n                        <option value=\"all\">All Priorities ({totalCount})</option>\n                        {Object.values(Priority).map((priority) => (\n                            <option key={priority} value={priority}>\n                                {priority} ({priorityCounts[priority] ?? 0})\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                <div style={{ height: 500, width: \"100%\" }}>\n                    <DataGrid\n                        rows={displayedWorkItems}\n                        columns={workItemColumns}\n                        loading={isLoading}\n                        getRowClassName={() => \"data-grid-row\"}\n                        getCellClassName={() => \"data-grid-cell\"}\n                        className={dataGridClassNames}\n                        showToolbar\n                        sx={dataGridSxStyles(isDarkMode)}\n                        initialState={{\n                            sorting: {\n                                sortModel: [{ field: \"dueDate\", sort: \"asc\" }],\n                            },\n                        }}\n                        onRowClick={(params) => router.push(`/work-items/${params.row.id}`)}\n                    />\n                </div>\n            </div>\n\n            {/* Burndown Chart */}\n            <div className=\"mb-6 rounded-lg bg-white p-4 shadow dark:bg-dark-secondary\">\n                <h3 className=\"mb-4 text-lg font-semibold dark:text-white\">\n                    Deliverables Burndown Chart\n                </h3>\n                <BurndownChart workItems={deliverableTypeFilteredWorkItems || []} isDarkMode={isDarkMode} />\n            </div>\n\n        </div>\n    )\n};\n\nexport default DeliverablesPage;\n"],"names":[],"mappings":"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","debugId":null}}]
}