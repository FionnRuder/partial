{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/ModalNewWorkItem/index.tsx"],"sourcesContent":["import Modal from '@/components/Modal';\r\nimport {\r\n  Priority,\r\n  Status,\r\n  StatusLabels,\r\n  WorkItemType,\r\n  useCreateWorkItemMutation,\r\n  WorkItemCreateInput,\r\n  useGetPartsQuery,\r\n  useGetUsersQuery,\r\n  useGetProgramsQuery,\r\n  useGetMilestonesQuery,\r\n  useGetDeliverableTypesQuery,\r\n  useGetIssueTypesQuery,\r\n  DeliverableTypeLabels,\r\n  IssueTypeLabels,\r\n} from '@/state/api';\r\nimport React, { useState } from 'react';\r\nimport { formatISO } from 'date-fns';\r\n\r\ntype Props = {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  id?: string | null;\r\n  workItemType?: WorkItemType;\r\n};\r\n\r\nconst ModalNewWorkItem = ({\r\n  isOpen,\r\n  onClose,\r\n  id = null,\r\n  workItemType: initialWorkItemType = WorkItemType.Task,\r\n}: Props) => {\r\n  const { data: parts = [], isLoading: partsLoading } = useGetPartsQuery();\r\n  const { data: users = [], isLoading: usersLoading } = useGetUsersQuery();\r\n  const { data: programs = [], isLoading: programsLoading } = useGetProgramsQuery();\r\n  const { data: milestones = [], isLoading: milestonesLoading } = useGetMilestonesQuery();\r\n  const { data: deliverableTypes = [] } = useGetDeliverableTypesQuery();\r\n  const { data: issueTypes = [] } = useGetIssueTypesQuery();\r\n  const [createWorkItem, { isLoading }] = useCreateWorkItemMutation();\r\n  const [workItemType, setWorkItemType] = useState<WorkItemType | \"\">(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [status, setStatus] = useState<Status | \"\">(\"\");\r\n  const [priority, setPriority] = useState<Priority | \"\">(\"\");\r\n  const [tags, setTags] = useState(\"\");\r\n  const [dateOpened, setDateOpened] = useState(\"\");\r\n  const [dueDate, setDueDate] = useState(\"\");\r\n  const [estimatedCompletionDate, setEstimatedCompletionDate] = useState(\"\");\r\n  const [actualCompletionDate, setActualCompletionDate] = useState(\"\");\r\n  const [percentComplete, setPercentComplete] = useState<number>(0);\r\n  const [inputStatus, setInputStatus] = useState(\"\");\r\n  const [partIds, setPartIds] = useState<number[]>([]);\r\n  const [programId, setProgramId] = useState(\"\");\r\n  const [dueByMilestoneId, setDueByMilestoneId] = useState(\"\");\r\n  const [authorUserId, setAuthorUserId] = useState(\"\");\r\n  const [assignedUserId, setAssignedUserId] = useState(\"\");\r\n\r\n  // Subtype fields\r\n  const [issueType, setIssueType] = useState<string>(\"\");\r\n  const [rootCause, setRootCause] = useState(\"\");\r\n  const [correctiveAction, setCorrectiveAction] = useState(\"\");\r\n  const [deliverableType, setDeliverableType] = useState<string>(\"\");\r\n\r\n  const handleSubmit = async () => {\r\n    if (!isFormValid()) return;\r\n\r\n    const formattedDateOpened = formatISO(new Date(dateOpened), { representation: 'complete' });\r\n    const formattedDueDate = formatISO(new Date(dueDate), { representation: 'complete' });\r\n    const formattedEstimatedCompletionDate = formatISO(new Date(estimatedCompletionDate), { representation: 'complete' });\r\n    const formattedActualCompletionDate = actualCompletionDate\r\n      ? formatISO(new Date(actualCompletionDate), { representation: 'complete' })\r\n      : undefined;\r\n\r\n\r\n    const payload: WorkItemCreateInput = {\r\n      workItemType: workItemType as WorkItemType,\r\n      title,\r\n      description,\r\n      status: status as Status,\r\n      priority: priority as Priority,\r\n      tags,\r\n      dateOpened: formattedDateOpened,\r\n      dueDate: formattedDueDate,\r\n      estimatedCompletionDate: formattedEstimatedCompletionDate,\r\n      actualCompletionDate: formattedActualCompletionDate,\r\n      percentComplete,\r\n      inputStatus,\r\n      programId: parseInt(programId),\r\n      dueByMilestoneId: parseInt(dueByMilestoneId),\r\n      authorUserId: authorUserId,\r\n      assignedUserId: assignedUserId,\r\n    };\r\n\r\n    if (partIds.length > 0) {\r\n      payload.partIds = partIds;\r\n    }\r\n\r\n    // Add subtype-specific data\r\n    if (workItemType === WorkItemType.Issue && issueType) {\r\n      payload.issueDetail = {\r\n        issueType: issueType, // Send type name as string\r\n      };\r\n      if (rootCause) payload.issueDetail.rootCause = rootCause;\r\n      if (correctiveAction) payload.issueDetail.correctiveAction = correctiveAction;\r\n    } else if (workItemType === WorkItemType.Deliverable && deliverableType) {\r\n      payload.deliverableDetail = {\r\n        deliverableType: deliverableType, // Send type name as string\r\n      };\r\n    }\r\n\r\n    try {\r\n      await createWorkItem(payload).unwrap();\r\n      onClose(); // close modal on success\r\n    } catch (err) {\r\n    console.error(\"Failed to create work item:\", err);\r\n    }\r\n  };\r\n\r\n  const isFormValid = (): boolean => {\r\n    const baseValid =\r\n      !!workItemType &&\r\n      !!title &&\r\n      !!description &&\r\n      !!status &&\r\n      !!priority &&\r\n      !!dateOpened &&\r\n      !!dueDate &&\r\n      !!estimatedCompletionDate &&\r\n      percentComplete >= 0 &&\r\n      !!inputStatus &&\r\n      !!programId &&\r\n      !!dueByMilestoneId &&\r\n      !!authorUserId &&\r\n      !!assignedUserId;\r\n\r\n    if (workItemType === WorkItemType.Issue) {\r\n      return baseValid && !!issueType;\r\n    }\r\n\r\n    if (workItemType === WorkItemType.Deliverable) {\r\n      return baseValid && !!deliverableType;\r\n    }\r\n\r\n    return baseValid;\r\n  };\r\n\r\n\r\n  const selectStyles =\r\n    \"mb-4 block w-full rounded border border-gray-300 px-3 py-2 dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\r\n\r\n  const inputStyles =\r\n    \"w-full rounded border border-gray-300 p-2 shadow-sm dark:border-dark-tertiary dark:bg-dark-tertiary dark:text-white dark:focus:outline-none\";\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} name={\"Create New Work Item\"}>\r\n      <form\r\n        className=\"mt-4 space-y-6\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          handleSubmit();\r\n        }}\r\n      >\r\n        <select\r\n          className={selectStyles}\r\n          value={workItemType}\r\n          onChange={(e) =>\r\n            setWorkItemType(\r\n              e.target.value\r\n                ? (WorkItemType[e.target.value as keyof typeof WorkItemType])\r\n                : \"\"\r\n            )\r\n          }\r\n        >\r\n          <option value=\"\">Select Work Item Type</option>\r\n          {Object.values(WorkItemType).map((type) => (\r\n            <option key={type} value={type}>\r\n              {type}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        {/* Subtype fields */}\r\n        {workItemType === WorkItemType.Issue && (\r\n          <select\r\n            className={selectStyles}\r\n            value={issueType}\r\n            onChange={(e) => setIssueType(e.target.value)}\r\n          >\r\n            <option value=\"\">Select Issue Type</option>\r\n            {issueTypes.map((type) => (\r\n                <option key={type.id} value={type.name}>\r\n                  {IssueTypeLabels[type.name] || type.name}\r\n                </option>\r\n              ))}\r\n          </select>\r\n        )}\r\n\r\n        {workItemType === WorkItemType.Deliverable && (\r\n          <select\r\n            className={selectStyles}\r\n            value={deliverableType}\r\n            onChange={(e) => setDeliverableType(e.target.value)}\r\n          >\r\n            <option value=\"\">Select Deliverable Type</option>\r\n            {deliverableTypes.map((type) => (\r\n              <option key={type.id} value={type.name}>\r\n                {DeliverableTypeLabels[type.name] || type.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        )}\r\n        \r\n        <input\r\n          type=\"text\"\r\n          className={inputStyles}\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <textarea\r\n          className={inputStyles}\r\n          placeholder=\"Description\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n\r\n        {workItemType === WorkItemType.Issue && (\r\n          <>\r\n            <textarea\r\n              className={inputStyles}\r\n              placeholder=\"Root Cause\"\r\n              value={rootCause}\r\n              onChange={(e) => setRootCause(e.target.value)}\r\n            />\r\n            <textarea\r\n              className={inputStyles}\r\n              placeholder=\"Corrective Action\"\r\n              value={correctiveAction}\r\n              onChange={(e) => setCorrectiveAction(e.target.value)}\r\n            />\r\n          </>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\r\n          <select\r\n            className={selectStyles}\r\n            value={status}\r\n            onChange={(e) => setStatus(e.target.value as Status)}\r\n          >\r\n            <option value=\"\">Select Status</option>\r\n            {Object.values(Status).map((s) => (\r\n              <option key={s} value={s}>\r\n                {StatusLabels[s]}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <select\r\n            className={selectStyles}\r\n            value={priority}\r\n            onChange={(e) => setPriority(e.target.value as Priority)}\r\n          >\r\n            <option value=\"\">Select Priority</option>\r\n            <option value={Priority.Urgent}>Urgent</option>\r\n            <option value={Priority.High}>High</option>\r\n            <option value={Priority.Medium}>Medium</option>\r\n            <option value={Priority.Low}>Low</option>\r\n            <option value={Priority.Backlog}>Backlog</option>\r\n          </select>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          className={inputStyles}\r\n          placeholder=\"Tags (comma separated)\"\r\n          value={tags}\r\n          onChange={(e) => setTags(e.target.value)}\r\n        />\r\n\r\n        <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-2\">\r\n          <div>\r\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n              Date Opened:\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              className={inputStyles}\r\n              value={dateOpened}\r\n              onChange={(e) => setDateOpened(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n              Due Date:\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              className={inputStyles}\r\n              value={dueDate}\r\n              onChange={(e) => setDueDate(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n              Estimated Completion:\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              className={inputStyles}\r\n              value={estimatedCompletionDate}\r\n              onChange={(e) => setEstimatedCompletionDate(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n              Actual Completion:\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              className={inputStyles}\r\n              value={actualCompletionDate}\r\n              onChange={(e) => setActualCompletionDate(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n            Percent Complete:\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            className={inputStyles}\r\n            value={percentComplete}\r\n            onChange={(e) => setPercentComplete(Number(e.target.value))}\r\n            min={0}\r\n            max={100}\r\n          />\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          className={inputStyles}\r\n          placeholder=\"Current Status\"\r\n          value={inputStatus}\r\n          onChange={(e) => setInputStatus(e.target.value)}\r\n        />\r\n        <div>\r\n          <label className=\"block text-sm text-gray-600 dark:text-gray-300\">\r\n            Affected Part(s):\r\n          </label>\r\n          <select\r\n            multiple\r\n            className={inputStyles}\r\n            value={partIds.map(String)}\r\n            onChange={(e) => {\r\n              const selectedOptions = Array.from(e.target.selectedOptions);\r\n              const ids = selectedOptions.map((opt) => Number(opt.value));\r\n              setPartIds(ids);\r\n            }}\r\n            disabled={partsLoading}\r\n          >\r\n            {parts?.map((part) => (\r\n              <option key={part.id} value={part.id}>\r\n                {part.partName} ({part.code})\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <p className=\"mt-1 text-xs text-gray-600 dark:text-gray-300\">\r\n            Hold <kbd>Ctrl</kbd> (Windows) or <kbd>Cmd</kbd> (Mac) to select multiple.\r\n          </p>\r\n        </div>\r\n        <select\r\n          className={inputStyles}\r\n          value={programId}\r\n          onChange={(e) => setProgramId(e.target.value)}\r\n          disabled={programsLoading}\r\n        >\r\n          <option value=\"\">Select Program</option>\r\n          {programs.map((program) => (\r\n            <option key={program.id} value={program.id}>\r\n            {program.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <select\r\n          className={inputStyles}\r\n          value={dueByMilestoneId}\r\n          onChange={(e) => setDueByMilestoneId(e.target.value)}\r\n          disabled={milestonesLoading}\r\n        >\r\n          <option value=\"\">Select Milestone</option>\r\n          {milestones.map((milestone) => (\r\n              <option key={milestone.id} value={milestone.id}>\r\n              {milestone.name}\r\n              </option>\r\n          ))}\r\n        </select>\r\n        <select\r\n          className={inputStyles}\r\n          value={authorUserId}\r\n          onChange={(e) => setAuthorUserId(e.target.value)}\r\n          disabled={usersLoading}\r\n        >\r\n          <option value=\"\">Select Author User</option>\r\n          {users.map((user) => (\r\n              <option key={user.id} value={user.id}>\r\n              {user.name} ({user.username})\r\n              </option>\r\n          ))}\r\n        </select>\r\n        <select\r\n          className={inputStyles}\r\n          value={assignedUserId}\r\n          onChange={(e) => setAssignedUserId(e.target.value)}\r\n          disabled={usersLoading}\r\n        >\r\n          <option value=\"\">Select Assigned User</option>\r\n          {users.map((user) => (\r\n              <option key={user.id} value={user.id}>\r\n              {user.name} ({user.username})\r\n              </option>\r\n          ))}\r\n        </select>\r\n        \r\n\r\n        <button\r\n          type=\"submit\"\r\n          className={`focus-offset-2 mt-4 flex w-full justify-center rounded-md border border-transparent bg-blue-primary px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 ${\r\n            !isFormValid() || isLoading ? \"cursor-not-allowed opacity-50\" : \"\"\r\n          }`}\r\n          disabled={!isFormValid() || isLoading}\r\n        >\r\n          {isLoading ? `Creating ${workItemType}...` : `Create Work Item ${workItemType}`}\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalNewWorkItem;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/components/BurndownChart/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { WorkItem, Status } from \"@/state/api\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ChartOptions,\r\n} from \"chart.js\";\r\nimport { format, eachDayOfInterval, isAfter, isBefore, isEqual, parseISO } from \"date-fns\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\r\n\r\ntype Props = {\r\n  workItems: WorkItem[];\r\n  startDate?: string;\r\n  endDate?: string;\r\n  isDarkMode?: boolean;\r\n};\r\n\r\n// Helper function to parse date string without timezone conversion\r\n// Extracts the date portion (YYYY-MM-DD) and parses it as a local date\r\nconst parseDateOnly = (dateString: string | undefined): Date | null => {\r\n  if (!dateString) return null;\r\n  try {\r\n    // Extract just the date portion (YYYY-MM-DD) from ISO string\r\n    const dateOnly = dateString.split('T')[0];\r\n    // Parse as local date to avoid timezone conversion\r\n    const [year, month, day] = dateOnly.split('-').map(Number);\r\n    if (isNaN(year) || isNaN(month) || isNaN(day)) return null;\r\n    return new Date(year, month - 1, day);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst BurndownChart: React.FC<Props> = ({ workItems, startDate, endDate, isDarkMode = false }) => {\r\n  const today = new Date();\r\n  // Set today to midnight to avoid timezone issues when comparing\r\n  today.setHours(0, 0, 0, 0);\r\n\r\n  // Determine chart start/end date\r\n  const minDate = useMemo(() => {\r\n    if (startDate) {\r\n      const parsed = parseDateOnly(startDate);\r\n      return parsed || today;\r\n    }\r\n\r\n    const dates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .concat(workItems.map((w) => parseDateOnly(w.estimatedCompletionDate || w.dueDate)))\r\n      .concat(workItems.map((w) => parseDateOnly(w.actualCompletionDate || w.dueDate)))\r\n      .filter((d): d is Date => d !== null);\r\n    \r\n    return dates.length > 0 \r\n      ? new Date(Math.min(...dates.map((d) => d.getTime())))\r\n      : today;\r\n  }, [workItems, startDate, today]);\r\n\r\n  const maxDate = useMemo(() => {\r\n    // If endDate is explicitly provided, use it\r\n    if (endDate) {\r\n      const parsed = parseDateOnly(endDate);\r\n      return parsed || today;\r\n    }\r\n\r\n    // Collect all dates from work items (dueDate, estimatedCompletionDate, actualCompletionDate)\r\n    const dates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .concat(workItems.map((w) => parseDateOnly(w.estimatedCompletionDate || w.dueDate)))\r\n      .concat(workItems.map((w) => parseDateOnly(w.actualCompletionDate || w.dueDate)))\r\n      .filter((d): d is Date => d !== null);\r\n    \r\n    // Get the maximum of all dates\r\n    const max = dates.length > 0 \r\n      ? new Date(Math.max(...dates.map((d) => d.getTime())))\r\n      : today;\r\n    \r\n    // Ensure the max is at least today\r\n    return isAfter(max, today) ? max : today;\r\n  }, [workItems, endDate, today]);\r\n\r\n  const dates = eachDayOfInterval({ start: minDate, end: maxDate }).map((d) => format(d, \"yyyy-MM-dd\"));\r\n\r\n  // Get total number of work items\r\n  const totalItems = workItems.length;\r\n\r\n  // Get the latest due date for baseline calculation\r\n  const latestDueDate = useMemo(() => {\r\n    const dueDates = workItems\r\n      .map((w) => parseDateOnly(w.dueDate))\r\n      .filter((d): d is Date => d !== null);\r\n    return dueDates.length > 0 ? new Date(Math.max(...dueDates.map((d) => d.getTime()))) : maxDate;\r\n  }, [workItems, maxDate]);\r\n\r\n  // Helper function to count remaining items for actuals (based on actual completion date or status)\r\n  const getActualsRemaining = (dateStr: string): number => {\r\n    const currentDate = parseDateOnly(dateStr);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      // If item has an actualCompletionDate, use it for precise timing\r\n      if (w.actualCompletionDate) {\r\n        const completionDate = parseDateOnly(w.actualCompletionDate);\r\n        if (!completionDate) return true; // No valid date means still remaining\r\n        // Item is remaining if completion date is after current date\r\n        return isAfter(completionDate, currentDate);\r\n      }\r\n      \r\n      // If no actualCompletionDate, check status\r\n      // If status is Completed, we don't know when it was completed, so we can't accurately track it\r\n      // For items without completion date but marked as completed, we'll assume they're completed\r\n      // This is a limitation - ideally all completed items should have actualCompletionDate\r\n      if (w.status === Status.Completed) {\r\n        // Without a date, we can't know when it was completed, so we'll treat it as completed\r\n        // This means it won't be counted as remaining\r\n        return false;\r\n      }\r\n      \r\n      // Item is still remaining if not completed\r\n      return true;\r\n    }).length;\r\n  };\r\n\r\n  // Helper function to count remaining items for forecast (based on estimated completion date)\r\n  const getForecastRemaining = (dateStr: string): number => {\r\n    const currentDate = parseDateOnly(dateStr);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      const estimatedDate = w.estimatedCompletionDate \r\n        ? parseDateOnly(w.estimatedCompletionDate)\r\n        : w.dueDate \r\n        ? parseDateOnly(w.dueDate)\r\n        : null;\r\n      \r\n      if (!estimatedDate) return true; // No date means still remaining\r\n      \r\n      // Item is remaining if estimated completion date is after current date\r\n      return isAfter(estimatedDate, currentDate);\r\n    }).length;\r\n  };\r\n\r\n  // Calculate baseline: count items with due dates after current date\r\n  // This represents the planned burndown - items remaining based on their due dates\r\n  const baselineLine = dates.map((d) => {\r\n    const currentDate = parseDateOnly(d);\r\n    if (!currentDate) return workItems.length;\r\n    \r\n    return workItems.filter((w) => {\r\n      const dueDate = w.dueDate ? parseDateOnly(w.dueDate) : null;\r\n      if (!dueDate) return true; // Items without due dates are always remaining\r\n      // Item is remaining if due date is after current date\r\n      return isAfter(dueDate, currentDate);\r\n    }).length;\r\n  });\r\n\r\n  // Calculate forecast line: items remaining based on estimated completion dates\r\n  const forecastLine = dates.map((d) => getForecastRemaining(d));\r\n\r\n  // Calculate actuals line: items remaining based on actual completion dates (only up to today)\r\n  const actualsLine = dates.map((d) => {\r\n    const currentDate = parseDateOnly(d);\r\n    if (!currentDate) return null;\r\n    // Only show actuals up to today\r\n    if (isAfter(currentDate, today)) {\r\n      return null;\r\n    }\r\n    return getActualsRemaining(d);\r\n  });\r\n\r\n  const data = {\r\n    labels: dates,\r\n    datasets: [\r\n      {\r\n        label: \"Actuals (Remaining)\",\r\n        data: actualsLine,\r\n        borderColor: \"#66CDAA\",\r\n        backgroundColor: \"rgba(102,205,170,0.2)\",\r\n        fill: true,\r\n        spanGaps: false, // prevents the line from connecting beyond nulls\r\n      },\r\n      {\r\n        label: \"Baseline (Due Date)\",\r\n        data: baselineLine,\r\n        borderColor: \"#FF9500\",\r\n        backgroundColor: \"rgba(255,149,0,0.2)\",\r\n        fill: true,\r\n      },\r\n      {\r\n        label: \"Forecast (Estimated Completion)\",\r\n        data: forecastLine,\r\n        borderColor: \"#6FA8DC\",\r\n        backgroundColor: \"rgba(111, 168, 220, 0.2)\",\r\n        fill: true,\r\n      },\r\n    ],\r\n  };\r\n\r\n    const textColor = isDarkMode ? \"#FFFFFF\" : \"#000000\";\r\n    const gridColor = isDarkMode ? \"#444\" : \"#CCC\";\r\n\r\n    const options: ChartOptions<\"line\"> = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: { \r\n            position: \"top\",\r\n            labels: {\r\n                color: textColor, // legend text\r\n                usePointStyle: true,\r\n            },\r\n            },\r\n            title: { \r\n                display: false, \r\n                text: \"Work Item Burndown Chart\",\r\n                color: textColor, // chart title\r\n            },\r\n            tooltip: {\r\n                mode: \"index\",\r\n                intersect: false,\r\n                backgroundColor: isDarkMode ? \"#222\" : \"#fff\",\r\n                titleColor: textColor,\r\n                bodyColor: textColor,\r\n                borderColor: gridColor,\r\n                borderWidth: 1,\r\n                callbacks: {\r\n                    label: function (tooltipItem) {\r\n                        const datasetLabel = tooltipItem.dataset.label || \"\";\r\n                        const value = tooltipItem.raw === null ? \"â€”\" : tooltipItem.raw;\r\n                        return `${datasetLabel}: ${value}`;\r\n                    },\r\n                },\r\n            },\r\n        },\r\n        interaction: {\r\n            mode: \"index\",\r\n            intersect: false,\r\n        },\r\n        scales: {\r\n            x: {\r\n                title: { display: false, text: \"Date\", color: textColor },\r\n                ticks: { color: textColor },\r\n                grid: { color: gridColor },\r\n            },\r\n            y: {\r\n                beginAtZero: true,\r\n                title: { display: false, text: \"Remaining Work Items\", color: textColor },\r\n                ticks: { color: textColor },\r\n                grid: { color: gridColor },\r\n            },\r\n        },\r\n    };\r\n\r\n\r\n  return <Line data={data} options={options} />;\r\n};\r\n\r\nexport default BurndownChart;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 980, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/lib/utils.ts"],"sourcesContent":["export const dataGridClassNames =\r\n  \"border border-gray-200 bg-white shadow dark:border-stroke-dark dark:bg-dark-secondary dark:text-gray-200\";\r\n\r\nexport const dataGridSxStyles = (isDarkMode: boolean) => {\r\n  return {\r\n    \"& .MuiDataGrid-columnHeaders\": {\r\n      color: `${isDarkMode ? \"#e5e7eb\" : \"\"}`,\r\n      '& [role=\"row\"] > *': {\r\n        backgroundColor: `${isDarkMode ? \"#1d1f21\" : \"white\"}`,\r\n        borderColor: `${isDarkMode ? \"#2d3135\" : \"\"}`,\r\n      },\r\n    },\r\n    \"& .MuiIconbutton-root\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiTablePagination-root\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiTablePagination-selectIcon\": {\r\n      color: `${isDarkMode ? \"#a3a3a3\" : \"\"}`,\r\n    },\r\n    \"& .MuiDataGrid-cell\": {\r\n      border: \"none\",\r\n    },\r\n    \"& .MuiDataGrid-row\": {\r\n      borderBottom: `1px solid ${isDarkMode ? \"#2d3135\" : \"e5e7eb\"}`,\r\n      \"&:hover\": {\r\n        backgroundColor: `${isDarkMode ? \"#2d3135\" : \"#f3f4f6\"}`,\r\n      },\r\n    },\r\n    \"& .MuiDataGrid-withBorderColor\": {\r\n      borderColor: `${isDarkMode ? \"#2d3135\" : \"e5e7eb\"}`,\r\n    },\r\n  };\r\n};"],"names":[],"mappings":";;;;;;AAAO,MAAM,qBACX;AAEK,MAAM,mBAAmB,CAAC;IAC/B,OAAO;QACL,gCAAgC;YAC9B,OAAO,GAAG,aAAa,YAAY,IAAI;YACvC,sBAAsB;gBACpB,iBAAiB,GAAG,aAAa,YAAY,SAAS;gBACtD,aAAa,GAAG,aAAa,YAAY,IAAI;YAC/C;QACF;QACA,yBAAyB;YACvB,OAAO,GAAG,aAAa,YAAY,IAAI;QACzC;QACA,8BAA8B;YAC5B,OAAO,GAAG,aAAa,YAAY,IAAI;QACzC;QACA,oCAAoC;YAClC,OAAO,GAAG,aAAa,YAAY,IAAI;QACzC;QACA,uBAAuB;YACrB,QAAQ;QACV;QACA,sBAAsB;YACpB,cAAc,CAAC,UAAU,EAAE,aAAa,YAAY,UAAU;YAC9D,WAAW;gBACT,iBAAiB,GAAG,aAAa,YAAY,WAAW;YAC1D;QACF;QACA,kCAAkC;YAChC,aAAa,GAAG,aAAa,YAAY,UAAU;QACrD;IACF;AACF","debugId":null}},
    {"offset": {"line": 1023, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/frude/Documents/startup/Partial/code/client/src/app/work-items/tasks/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useAppSelector } from '@/app/redux';\r\nimport Header from '@/components/Header';\r\nimport ModalNewWorkItem from '@/components/ModalNewWorkItem';\r\nimport BurndownChart from '@/components/BurndownChart';\r\nimport { dataGridClassNames, dataGridSxStyles } from '@/lib/utils';\r\nimport { WorkItem, WorkItemType, Priority, Status, useGetWorkItemsQuery, useGetTeamsQuery, useGetUsersQuery, useGetProgramsQuery } from '@/state/api';\r\nimport { DataGrid, GridColDef } from '@mui/x-data-grid';\r\nimport React, { useState } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { PlusSquare } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst getStatusColor = (status: Status) => {\r\n  switch (status) {\r\n    case Status.ToDo:\r\n      return \"bg-gray-100 text-gray-800\";\r\n    case Status.WorkInProgress:\r\n      return \"bg-blue-100 text-blue-800\";\r\n    case Status.UnderReview:\r\n      return \"bg-yellow-100 text-yellow-800\";\r\n    case Status.Completed:\r\n      return \"bg-green-100 text-green-800\";\r\n    default:\r\n      return \"bg-gray-100 text-gray-800\";\r\n  }\r\n};\r\n\r\nconst getPriorityColor = (priority: Priority) => {\r\n  switch (priority) {\r\n    case Priority.Urgent:\r\n      return \"bg-red-100 text-red-800\";\r\n    case Priority.High:\r\n      return \"bg-orange-100 text-orange-800\";\r\n    case Priority.Medium:\r\n      return \"bg-yellow-100 text-yellow-800\";\r\n    case Priority.Low:\r\n      return \"bg-green-100 text-green-800\";\r\n    case Priority.Backlog:\r\n      return \"bg-gray-100 text-gray-800\";\r\n    default:\r\n      return \"bg-gray-100 text-gray-800\";\r\n  }\r\n};\r\n\r\nconst formatDate = (dateString: string) => {\r\n  if (!dateString) return \"N/A\";\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString();\r\n};\r\n\r\nconst workItemColumns: GridColDef<WorkItem>[] = [\r\n  { \r\n    field: \"workItemType\", \r\n    headerName: \"Type\", \r\n    width: 120,\r\n    renderCell: (params) => (\r\n      <span className=\"inline-flex rounded-full bg-purple-100 px-2 text-xs font-semibold leading-5 text-purple-800\">\r\n        {params.value}\r\n      </span>\r\n    ),\r\n  },\r\n  { \r\n    field: \"title\", \r\n    headerName: \"Title\", \r\n    minWidth: 200,\r\n    flex: 1,\r\n  },\r\n  { \r\n    field: \"status\", \r\n    headerName: \"Status\", \r\n    width: 140,\r\n    renderCell: (params) => (\r\n      <span className={`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${getStatusColor(params.value)}`}>\r\n        {params.value}\r\n      </span>\r\n    ),\r\n  },\r\n  { \r\n    field: \"priority\", \r\n    headerName: \"Priority\", \r\n    width: 110,\r\n    renderCell: (params) => (\r\n      <span className={`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${getPriorityColor(params.value)}`}>\r\n        {params.value}\r\n      </span>\r\n    ),\r\n  },\r\n  { \r\n    field: \"dueDate\", \r\n    headerName: \"Due Date\",\r\n    width: 120,\r\n    renderCell: (params) => {\r\n      const dateStr = formatDate(params.value);\r\n      const isPastDue = params.value && new Date(params.value) < new Date();\r\n      const isNotCompleted = params.row.status !== Status.Completed;\r\n      const shouldHighlight = isPastDue && isNotCompleted;\r\n      \r\n      return (\r\n        <span className={shouldHighlight ? \"text-red-600 font-semibold\" : \"\"}>\r\n          {dateStr}\r\n        </span>\r\n      );\r\n    },\r\n  },\r\n  { \r\n    field: \"estimatedCompletionDate\",\r\n    headerName: \"ECD\",\r\n    width: 130,\r\n    renderCell: (params) => {\r\n      const dateStr = formatDate(params.value);\r\n      const isPastDue = params.value && new Date(params.value) < new Date();\r\n      const isNotCompleted = params.row.status !== Status.Completed;\r\n      const shouldHighlight = isPastDue && isNotCompleted;\r\n      \r\n      return (\r\n        <span className={shouldHighlight ? \"text-red-600 font-semibold\" : \"\"}>\r\n          {dateStr}\r\n        </span>\r\n      );\r\n    },\r\n  },\r\n  { \r\n    field: \"percentComplete\", \r\n    headerName: \"% Complete\", \r\n    width: 110,\r\n    renderCell: (params) => (\r\n      <span className=\"font-medium\">{params.value ?? 0}%</span>\r\n    ),\r\n  },\r\n  { \r\n    field: \"inputStatus\", \r\n    headerName: \"Input Status\", \r\n    width: 200,\r\n    renderCell: (params) => params.value || \"N/A\",\r\n  },\r\n  { \r\n    field: \"assigneeUserName\", \r\n    headerName: \"Assignee\", \r\n    width: 150,\r\n    renderCell: (params) => params.value || \"Unassigned\",\r\n  },\r\n];\r\n\r\nconst TasksPage = () => {\r\n    const router = useRouter();\r\n    const [ isModalNewWorkItemOpen, setIsModalNewWorkItemOpen ] = useState(false);\r\n    const [ selectedPriority, setSelectedPriority ] = useState<Priority | \"all\">(\"all\");\r\n    const [ workItemFilter, setWorkItemFilter ] = useState<\"all\" | \"open\">(\"all\");\r\n    const [ selectedTeamId, setSelectedTeamId ] = useState<number | \"all\">(\"all\");\r\n    const [ selectedProgramId, setSelectedProgramId ] = useState<number | \"all\">(\"all\");\r\n\r\n    const { data: workItems, isLoading, isError: isWorkItemsError } = useGetWorkItemsQuery();\r\n    const { data: teams } = useGetTeamsQuery();\r\n    const { data: users } = useGetUsersQuery();\r\n    const { data: programs } = useGetProgramsQuery();\r\n\r\n    const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\r\n\r\n    // First filter by work item type, then apply program filter, then team filter, then status filter\r\n    const typeFilteredWorkItems = workItems?.filter((workItem: WorkItem) => workItem.workItemType === WorkItemType.Task);\r\n    \r\n    // Apply program filtering\r\n    const programFilteredWorkItems = selectedProgramId === \"all\"\r\n        ? typeFilteredWorkItems\r\n        : typeFilteredWorkItems?.filter((item) => item.programId === selectedProgramId);\r\n    \r\n    // Apply team filtering\r\n    const teamFilteredWorkItems = selectedTeamId === \"all\" \r\n        ? programFilteredWorkItems\r\n        : programFilteredWorkItems?.filter((item) => {\r\n            const assignee = users?.find((u) => u.id === item.assignedUserId);\r\n            return assignee?.disciplineTeamId === selectedTeamId;\r\n        });\r\n    \r\n    const filteredWorkItems = workItemFilter === \"open\"\r\n        ? teamFilteredWorkItems?.filter((item) => item.status !== Status.Completed)\r\n        : teamFilteredWorkItems;\r\n\r\n    if (isWorkItemsError) return <div>Error fetching work items.</div>\r\n\r\n    // Priority filtering for the table\r\n    const filteredWorkItemsByPriority =\r\n        selectedPriority === \"all\"\r\n          ? filteredWorkItems\r\n          : filteredWorkItems?.filter((item) => item.priority === selectedPriority);\r\n    \r\n    const displayedWorkItems = [...(filteredWorkItemsByPriority || [])]\r\n        .sort((a, b) => new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime())\r\n        .map((item) => ({\r\n            ...item,\r\n            assigneeUserName: item.assigneeUser?.name || \"Unassigned\",\r\n        }));\r\n\r\n    // Priority counts for dropdown\r\n    const priorityCounts = filteredWorkItems?.reduce(\r\n        (acc: Record<string, number>, item: WorkItem) => {\r\n            acc[item.priority] = (acc[item.priority] || 0) + 1;\r\n            return acc;\r\n        },\r\n        {}\r\n    ) || {};\r\n\r\n    const totalCount = filteredWorkItems?.length || 0;\r\n\r\n    return (\r\n        <div className=\"m-5 p-4\">\r\n            <ModalNewWorkItem isOpen={isModalNewWorkItemOpen} onClose={() => setIsModalNewWorkItemOpen(false)} />\r\n            <Header\r\n                name=\"Tasks\"\r\n                buttonComponent={\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <button\r\n                            className=\"flex items-center rounded-md bg-blue-primary px-3 py-2 text-white hover:bg-blue-600 transition-colors\"\r\n                            onClick={() => setIsModalNewWorkItemOpen(true)}>\r\n                                <PlusSquare className=\"mr-2 h-5 w-5\" />\r\n                                Add Task\r\n                        </button>\r\n                        \r\n                        {/* Work Item Status Toggle */}\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <div className=\"flex items-center gap-2 rounded-lg border border-gray-300 bg-gray-50 p-1 dark:border-gray-600 dark:bg-dark-tertiary\">\r\n                                <button\r\n                                    className={`px-3 py-1 text-sm font-medium transition-colors ${\r\n                                        workItemFilter === \"all\"\r\n                                            ? \"rounded-md bg-white text-gray-900 shadow-sm dark:bg-dark-secondary dark:text-white\"\r\n                                            : \"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\r\n                                    }`}\r\n                                    onClick={() => setWorkItemFilter(\"all\")}\r\n                                >\r\n                                    All Tasks\r\n                                </button>\r\n                                <button\r\n                                    className={`px-3 py-1 text-sm font-medium transition-colors ${\r\n                                        workItemFilter === \"open\"\r\n                                            ? \"rounded-md bg-white text-gray-900 shadow-sm dark:bg-dark-secondary dark:text-white\"\r\n                                            : \"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\r\n                                    }`}\r\n                                    onClick={() => setWorkItemFilter(\"open\")}\r\n                                >\r\n                                    Open Tasks\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            />\r\n            \r\n            {/* Filter Dropdowns */}\r\n            <div className=\"mb-6 flex items-center gap-4 flex-wrap\">\r\n                {/* Program Selector */}\r\n                <select\r\n                    id=\"program-select\"\r\n                    className=\"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:bg-dark-secondary dark:text-white\"\r\n                    value={selectedProgramId}\r\n                    onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        setSelectedProgramId(value === \"all\" ? \"all\" : parseInt(value));\r\n                    }}\r\n                >\r\n                    <option value=\"all\">All Programs</option>\r\n                    {programs?.map((program) => (\r\n                        <option key={program.id} value={program.id}>\r\n                            {program.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n                \r\n                {/* Team Selector */}\r\n                <select\r\n                    id=\"team-select\"\r\n                    className=\"rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:bg-dark-secondary dark:text-white\"\r\n                    value={selectedTeamId}\r\n                    onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        setSelectedTeamId(value === \"all\" ? \"all\" : parseInt(value));\r\n                    }}\r\n                >\r\n                    <option value=\"all\">All Teams</option>\r\n                    {teams?.map((team) => (\r\n                        <option key={team.id} value={team.id}>\r\n                            {team.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            \r\n            {/* Priority Work Items Table */}\r\n            <div className=\"mb-6 rounded-lg bg-white p-4 shadow dark:bg-dark-secondary\">\r\n                <div className=\"mb-4 flex items-center justify-between\">\r\n                    <h3 className=\"text-lg font-semibold dark:text-white\">\r\n                        {selectedPriority === \"all\"\r\n                            ? \"All Tasks\"\r\n                            : `${selectedPriority} Priority Tasks`}\r\n                    </h3>\r\n                    <select\r\n                        value={selectedPriority}\r\n                        onChange={(e) => setSelectedPriority(e.target.value as Priority | \"all\")}\r\n                        className=\"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm dark:bg-dark-secondary dark:text-white\"\r\n                    >\r\n                        <option value=\"all\">All Priorities ({totalCount})</option>\r\n                        {Object.values(Priority).map((priority) => (\r\n                            <option key={priority} value={priority}>\r\n                                {priority} ({priorityCounts[priority] ?? 0})\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div style={{ height: 500, width: \"100%\" }}>\r\n                    <DataGrid\r\n                        rows={displayedWorkItems}\r\n                        columns={workItemColumns}\r\n                        loading={isLoading}\r\n                        getRowClassName={() => \"data-grid-row\"}\r\n                        getCellClassName={() => \"data-grid-cell\"}\r\n                        className={dataGridClassNames}\r\n                        showToolbar\r\n                        sx={dataGridSxStyles(isDarkMode)}\r\n                        initialState={{\r\n                            sorting: {\r\n                                sortModel: [{ field: \"dueDate\", sort: \"asc\" }],\r\n                            },\r\n                        }}\r\n                        onRowClick={(params) => router.push(`/work-items/${params.row.id}`)}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Burndown Chart */}\r\n            <div className=\"mb-6 rounded-lg bg-white p-4 shadow dark:bg-dark-secondary\">\r\n                <h3 className=\"mb-4 text-lg font-semibold dark:text-white\">\r\n                    Tasks Burndown Chart\r\n                </h3>\r\n                <BurndownChart workItems={programFilteredWorkItems || []} isDarkMode={isDarkMode} />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default TasksPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}